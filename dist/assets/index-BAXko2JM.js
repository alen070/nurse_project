(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(u){if(u.ep)return;u.ep=!0;const d=i(u);fetch(u.href,d)}})();var ku={exports:{}},ti={};var b0;function jy(){if(b0)return ti;b0=1;var n=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function i(o,u,d){var f=null;if(d!==void 0&&(f=""+d),u.key!==void 0&&(f=""+u.key),"key"in u){d={};for(var m in u)m!=="key"&&(d[m]=u[m])}else d=u;return u=d.ref,{$$typeof:n,type:o,key:f,ref:u!==void 0?u:null,props:d}}return ti.Fragment=s,ti.jsx=i,ti.jsxs=i,ti}var j0;function wy(){return j0||(j0=1,ku.exports=jy()),ku.exports}var a=wy(),Eu={exports:{}},pe={};var w0;function Ny(){if(w0)return pe;w0=1;var n=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),y=Symbol.iterator;function j(C){return C===null||typeof C!="object"?null:(C=y&&C[y]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,R={};function E(C,$,K){this.props=C,this.context=$,this.refs=R,this.updater=K||w}E.prototype.isReactComponent={},E.prototype.setState=function(C,$){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,$,"setState")},E.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function S(){}S.prototype=E.prototype;function M(C,$,K){this.props=C,this.context=$,this.refs=R,this.updater=K||w}var I=M.prototype=new S;I.constructor=M,_(I,E.prototype),I.isPureReactComponent=!0;var F=Array.isArray;function W(){}var Q={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function J(C,$,K){var Z=K.ref;return{$$typeof:n,type:C,key:$,ref:Z!==void 0?Z:null,props:K}}function Ie(C,$){return J(C.type,$,C.props)}function Qe(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function Pe(C){var $={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(K){return $[K]})}var Wt=/\/+/g;function Tt(C,$){return typeof C=="object"&&C!==null&&C.key!=null?Pe(""+C.key):$.toString(36)}function Se(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(W,W):(C.status="pending",C.then(function($){C.status==="pending"&&(C.status="fulfilled",C.value=$)},function($){C.status==="pending"&&(C.status="rejected",C.reason=$)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function B(C,$,K,Z,me){var ve=typeof C;(ve==="undefined"||ve==="boolean")&&(C=null);var fe=!1;if(C===null)fe=!0;else switch(ve){case"bigint":case"string":case"number":fe=!0;break;case"object":switch(C.$$typeof){case n:case s:fe=!0;break;case v:return fe=C._init,B(fe(C._payload),$,K,Z,me)}}if(fe)return me=me(C),fe=Z===""?"."+Tt(C,0):Z,F(me)?(K="",fe!=null&&(K=fe.replace(Wt,"$&/")+"/"),B(me,$,K,"",function(ys){return ys})):me!=null&&(Qe(me)&&(me=Ie(me,K+(me.key==null||C&&C.key===me.key?"":(""+me.key).replace(Wt,"$&/")+"/")+fe)),$.push(me)),1;fe=0;var dt=Z===""?".":Z+":";if(F(C))for(var qe=0;qe<C.length;qe++)Z=C[qe],ve=dt+Tt(Z,qe),fe+=B(Z,$,K,ve,me);else if(qe=j(C),typeof qe=="function")for(C=qe.call(C),qe=0;!(Z=C.next()).done;)Z=Z.value,ve=dt+Tt(Z,qe++),fe+=B(Z,$,K,ve,me);else if(ve==="object"){if(typeof C.then=="function")return B(Se(C),$,K,Z,me);throw $=String(C),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return fe}function Y(C,$,K){if(C==null)return C;var Z=[],me=0;return B(C,Z,"","",function(ve){return $.call(K,ve,me++)}),Z}function V(C){if(C._status===-1){var $=C._result;$=$(),$.then(function(K){(C._status===0||C._status===-1)&&(C._status=1,C._result=K)},function(K){(C._status===0||C._status===-1)&&(C._status=2,C._result=K)}),C._status===-1&&(C._status=0,C._result=$)}if(C._status===1)return C._result.default;throw C._result}var Ce=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},Oe={map:Y,forEach:function(C,$,K){Y(C,function(){$.apply(this,arguments)},K)},count:function(C){var $=0;return Y(C,function(){$++}),$},toArray:function(C){return Y(C,function($){return $})||[]},only:function(C){if(!Qe(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return pe.Activity=N,pe.Children=Oe,pe.Component=E,pe.Fragment=i,pe.Profiler=u,pe.PureComponent=M,pe.StrictMode=o,pe.Suspense=p,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,pe.__COMPILER_RUNTIME={__proto__:null,c:function(C){return Q.H.useMemoCache(C)}},pe.cache=function(C){return function(){return C.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(C,$,K){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var Z=_({},C.props),me=C.key;if($!=null)for(ve in $.key!==void 0&&(me=""+$.key),$)!P.call($,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&$.ref===void 0||(Z[ve]=$[ve]);var ve=arguments.length-2;if(ve===1)Z.children=K;else if(1<ve){for(var fe=Array(ve),dt=0;dt<ve;dt++)fe[dt]=arguments[dt+2];Z.children=fe}return J(C.type,me,Z)},pe.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:d,_context:C},C},pe.createElement=function(C,$,K){var Z,me={},ve=null;if($!=null)for(Z in $.key!==void 0&&(ve=""+$.key),$)P.call($,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(me[Z]=$[Z]);var fe=arguments.length-2;if(fe===1)me.children=K;else if(1<fe){for(var dt=Array(fe),qe=0;qe<fe;qe++)dt[qe]=arguments[qe+2];me.children=dt}if(C&&C.defaultProps)for(Z in fe=C.defaultProps,fe)me[Z]===void 0&&(me[Z]=fe[Z]);return J(C,ve,me)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(C){return{$$typeof:m,render:C}},pe.isValidElement=Qe,pe.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:V}},pe.memo=function(C,$){return{$$typeof:g,type:C,compare:$===void 0?null:$}},pe.startTransition=function(C){var $=Q.T,K={};Q.T=K;try{var Z=C(),me=Q.S;me!==null&&me(K,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(W,Ce)}catch(ve){Ce(ve)}finally{$!==null&&K.types!==null&&($.types=K.types),Q.T=$}},pe.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},pe.use=function(C){return Q.H.use(C)},pe.useActionState=function(C,$,K){return Q.H.useActionState(C,$,K)},pe.useCallback=function(C,$){return Q.H.useCallback(C,$)},pe.useContext=function(C){return Q.H.useContext(C)},pe.useDebugValue=function(){},pe.useDeferredValue=function(C,$){return Q.H.useDeferredValue(C,$)},pe.useEffect=function(C,$){return Q.H.useEffect(C,$)},pe.useEffectEvent=function(C){return Q.H.useEffectEvent(C)},pe.useId=function(){return Q.H.useId()},pe.useImperativeHandle=function(C,$,K){return Q.H.useImperativeHandle(C,$,K)},pe.useInsertionEffect=function(C,$){return Q.H.useInsertionEffect(C,$)},pe.useLayoutEffect=function(C,$){return Q.H.useLayoutEffect(C,$)},pe.useMemo=function(C,$){return Q.H.useMemo(C,$)},pe.useOptimistic=function(C,$){return Q.H.useOptimistic(C,$)},pe.useReducer=function(C,$,K){return Q.H.useReducer(C,$,K)},pe.useRef=function(C){return Q.H.useRef(C)},pe.useState=function(C){return Q.H.useState(C)},pe.useSyncExternalStore=function(C,$,K){return Q.H.useSyncExternalStore(C,$,K)},pe.useTransition=function(){return Q.H.useTransition()},pe.version="19.2.3",pe}var N0;function ud(){return N0||(N0=1,Eu.exports=Ny()),Eu.exports}var k=ud(),Cu={exports:{}},si={},Ru={exports:{}},Ou={};var _0;function _y(){return _0||(_0=1,(function(n){function s(B,Y){var V=B.length;B.push(Y);e:for(;0<V;){var Ce=V-1>>>1,Oe=B[Ce];if(0<u(Oe,Y))B[Ce]=Y,B[V]=Oe,V=Ce;else break e}}function i(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var Y=B[0],V=B.pop();if(V!==Y){B[0]=V;e:for(var Ce=0,Oe=B.length,C=Oe>>>1;Ce<C;){var $=2*(Ce+1)-1,K=B[$],Z=$+1,me=B[Z];if(0>u(K,V))Z<Oe&&0>u(me,K)?(B[Ce]=me,B[Z]=V,Ce=Z):(B[Ce]=K,B[$]=V,Ce=$);else if(Z<Oe&&0>u(me,V))B[Ce]=me,B[Z]=V,Ce=Z;else break e}}return Y}function u(B,Y){var V=B.sortIndex-Y.sortIndex;return V!==0?V:B.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var f=Date,m=f.now();n.unstable_now=function(){return f.now()-m}}var p=[],g=[],v=1,N=null,y=3,j=!1,w=!1,_=!1,R=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function I(B){for(var Y=i(g);Y!==null;){if(Y.callback===null)o(g);else if(Y.startTime<=B)o(g),Y.sortIndex=Y.expirationTime,s(p,Y);else break;Y=i(g)}}function F(B){if(_=!1,I(B),!w)if(i(p)!==null)w=!0,W||(W=!0,Pe());else{var Y=i(g);Y!==null&&Se(F,Y.startTime-B)}}var W=!1,Q=-1,P=5,J=-1;function Ie(){return R?!0:!(n.unstable_now()-J<P)}function Qe(){if(R=!1,W){var B=n.unstable_now();J=B;var Y=!0;try{e:{w=!1,_&&(_=!1,S(Q),Q=-1),j=!0;var V=y;try{t:{for(I(B),N=i(p);N!==null&&!(N.expirationTime>B&&Ie());){var Ce=N.callback;if(typeof Ce=="function"){N.callback=null,y=N.priorityLevel;var Oe=Ce(N.expirationTime<=B);if(B=n.unstable_now(),typeof Oe=="function"){N.callback=Oe,I(B),Y=!0;break t}N===i(p)&&o(p),I(B)}else o(p);N=i(p)}if(N!==null)Y=!0;else{var C=i(g);C!==null&&Se(F,C.startTime-B),Y=!1}}break e}finally{N=null,y=V,j=!1}Y=void 0}}finally{Y?Pe():W=!1}}}var Pe;if(typeof M=="function")Pe=function(){M(Qe)};else if(typeof MessageChannel<"u"){var Wt=new MessageChannel,Tt=Wt.port2;Wt.port1.onmessage=Qe,Pe=function(){Tt.postMessage(null)}}else Pe=function(){E(Qe,0)};function Se(B,Y){Q=E(function(){B(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(B){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var V=y;y=Y;try{return B()}finally{y=V}},n.unstable_requestPaint=function(){R=!0},n.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var V=y;y=B;try{return Y()}finally{y=V}},n.unstable_scheduleCallback=function(B,Y,V){var Ce=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?Ce+V:Ce):V=Ce,B){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=V+Oe,B={id:v++,callback:Y,priorityLevel:B,startTime:V,expirationTime:Oe,sortIndex:-1},V>Ce?(B.sortIndex=V,s(g,B),i(p)===null&&B===i(g)&&(_?(S(Q),Q=-1):_=!0,Se(F,V-Ce))):(B.sortIndex=Oe,s(p,B),w||j||(w=!0,W||(W=!0,Pe()))),B},n.unstable_shouldYield=Ie,n.unstable_wrapCallback=function(B){var Y=y;return function(){var V=y;y=Y;try{return B.apply(this,arguments)}finally{y=V}}}})(Ou)),Ou}var S0;function Sy(){return S0||(S0=1,Ru.exports=_y()),Ru.exports}var Du={exports:{}},_t={};var A0;function Ay(){if(A0)return _t;A0=1;var n=ud();function s(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(s(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(p,g,v){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:N==null?null:""+N,children:p,containerInfo:g,implementation:v}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,_t.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(s(299));return d(p,g,null,v)},_t.flushSync=function(p){var g=f.T,v=o.p;try{if(f.T=null,o.p=2,p)return p()}finally{f.T=g,o.p=v,o.d.f()}},_t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(p,g))},_t.prefetchDNS=function(p){typeof p=="string"&&o.d.D(p)},_t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,N=m(v,g.crossOrigin),y=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?o.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:N,integrity:y,fetchPriority:j}):v==="script"&&o.d.X(p,{crossOrigin:N,integrity:y,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);o.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(p)},_t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,N=m(v,g.crossOrigin);o.d.L(p,v,{crossOrigin:N,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_t.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);o.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(p)},_t.requestFormReset=function(p){o.d.r(p)},_t.unstable_batchedUpdates=function(p,g){return p(g)},_t.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},_t.useFormStatus=function(){return f.H.useHostTransitionStatus()},_t.version="19.2.3",_t}var T0;function Ty(){if(T0)return Du.exports;T0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(s){console.error(s)}}return n(),Du.exports=Ay(),Du.exports}var k0;function ky(){if(k0)return si;k0=1;var n=Sy(),s=ud(),i=Ty();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(d(e)!==e)throw Error(o(188))}function g(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(o(188));return t!==e?null:e}for(var r=e,l=t;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return p(c),e;if(h===l)return p(c),t;h=h.sibling}throw Error(o(188))}if(r.return!==l.return)r=c,l=h;else{for(var x=!1,b=c.child;b;){if(b===r){x=!0,r=c,l=h;break}if(b===l){x=!0,l=c,r=h;break}b=b.sibling}if(!x){for(b=h.child;b;){if(b===r){x=!0,r=h,l=c;break}if(b===l){x=!0,l=h,r=c;break}b=b.sibling}if(!x)throw Error(o(189))}}if(r.alternate!==l)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var N=Object.assign,y=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),M=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),Ie=Symbol.for("react.memo_cache_sentinel"),Qe=Symbol.iterator;function Pe(e){return e===null||typeof e!="object"?null:(e=Qe&&e[Qe]||e["@@iterator"],typeof e=="function"?e:null)}var Wt=Symbol.for("react.client.reference");function Tt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Wt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case E:return"Profiler";case R:return"StrictMode";case F:return"Suspense";case W:return"SuspenseList";case J:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case M:return e.displayName||"Context";case S:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:Tt(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return Tt(e(t))}catch{}}return null}var Se=Array.isArray,B=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},Ce=[],Oe=-1;function C(e){return{current:e}}function $(e){0>Oe||(e.current=Ce[Oe],Ce[Oe]=null,Oe--)}function K(e,t){Oe++,Ce[Oe]=e.current,e.current=t}var Z=C(null),me=C(null),ve=C(null),fe=C(null);function dt(e,t){switch(K(ve,t),K(me,e),K(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Im(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Im(t),e=Vm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(Z),K(Z,e)}function qe(){$(Z),$(me),$(ve)}function ys(e){e.memoizedState!==null&&K(fe,e);var t=Z.current,r=Vm(t,e.type);t!==r&&(K(me,e),K(Z,r))}function Zs(e){me.current===e&&($(Z),$(me)),fe.current===e&&($(fe),Zr._currentValue=V)}var Fs,yd;function ka(e){if(Fs===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fs=t&&t[1]||"",yd=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+e+yd}var uo=!1;function ho(e,t){if(!e||uo)return"";uo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(L){var U=L}Reflect.construct(e,[],G)}else{try{G.call()}catch(L){U=L}e.call(G.prototype)}}else{try{throw Error()}catch(L){U=L}(G=e())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(L){if(L&&U&&typeof L.stack=="string")return[L.stack,U.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),x=h[0],b=h[1];if(x&&b){var A=x.split(`
`),z=b.split(`
`);for(c=l=0;l<A.length&&!A[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===A.length||c===z.length)for(l=A.length-1,c=z.length-1;1<=l&&0<=c&&A[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(A[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||A[l]!==z[c]){var q=`
`+A[l].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=l&&0<=c);break}}}finally{uo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ka(r):""}function Fg(e,t){switch(e.tag){case 26:case 27:case 5:return ka(e.type);case 16:return ka("Lazy");case 13:return e.child!==t&&t!==null?ka("Suspense Fallback"):ka("Suspense");case 19:return ka("SuspenseList");case 0:case 15:return ho(e.type,!1);case 11:return ho(e.type.render,!1);case 1:return ho(e.type,!0);case 31:return ka("Activity");default:return""}}function vd(e){try{var t="",r=null;do t+=Fg(e,r),r=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var fo=Object.prototype.hasOwnProperty,mo=n.unstable_scheduleCallback,go=n.unstable_cancelCallback,Wg=n.unstable_shouldYield,ep=n.unstable_requestPaint,qt=n.unstable_now,tp=n.unstable_getCurrentPriorityLevel,bd=n.unstable_ImmediatePriority,jd=n.unstable_UserBlockingPriority,Ni=n.unstable_NormalPriority,sp=n.unstable_LowPriority,wd=n.unstable_IdlePriority,ap=n.log,np=n.unstable_setDisableYieldValue,cr=null,Ht=null;function Ws(e){if(typeof ap=="function"&&np(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(cr,e)}catch{}}var $t=Math.clz32?Math.clz32:lp,rp=Math.log,ip=Math.LN2;function lp(e){return e>>>=0,e===0?32:31-(rp(e)/ip|0)|0}var _i=256,Si=262144,Ai=4194304;function Ea(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ti(e,t,r){var l=e.pendingLanes;if(l===0)return 0;var c=0,h=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~h,l!==0?c=Ea(l):(x&=b,x!==0?c=Ea(x):r||(r=b&~e,r!==0&&(c=Ea(r))))):(b=l&~h,b!==0?c=Ea(b):x!==0?c=Ea(x):r||(r=l&~e,r!==0&&(c=Ea(r)))),c===0?0:t!==0&&t!==c&&(t&h)===0&&(h=c&-c,r=t&-t,h>=r||h===32&&(r&4194048)!==0)?t:c}function ur(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function op(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nd(){var e=Ai;return Ai<<=1,(Ai&62914560)===0&&(Ai=4194304),e}function po(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function dr(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function cp(e,t,r,l,c,h){var x=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var b=e.entanglements,A=e.expirationTimes,z=e.hiddenUpdates;for(r=x&~r;0<r;){var q=31-$t(r),G=1<<q;b[q]=0,A[q]=-1;var U=z[q];if(U!==null)for(z[q]=null,q=0;q<U.length;q++){var L=U[q];L!==null&&(L.lane&=-536870913)}r&=~G}l!==0&&_d(e,l,0),h!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=h&~(x&~t))}function _d(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-$t(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function Sd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var l=31-$t(r),c=1<<l;c&t|e[l]&t&&(e[l]|=t),r&=~c}}function Ad(e,t){var r=t&-t;return r=(r&42)!==0?1:xo(r),(r&(e.suspendedLanes|t))!==0?0:r}function xo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function yo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Td(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:f0(e.type))}function kd(e,t){var r=Y.p;try{return Y.p=e,t()}finally{Y.p=r}}var ea=Math.random().toString(36).slice(2),gt="__reactFiber$"+ea,Ct="__reactProps$"+ea,tn="__reactContainer$"+ea,vo="__reactEvents$"+ea,up="__reactListeners$"+ea,dp="__reactHandles$"+ea,Ed="__reactResources$"+ea,hr="__reactMarker$"+ea;function bo(e){delete e[gt],delete e[Ct],delete e[vo],delete e[up],delete e[dp]}function sn(e){var t=e[gt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[tn]||r[gt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zm(e);e!==null;){if(r=e[gt])return r;e=Zm(e)}return t}e=r,r=e.parentNode}return null}function an(e){if(e=e[gt]||e[tn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function nn(e){var t=e[Ed];return t||(t=e[Ed]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ht(e){e[hr]=!0}var Cd=new Set,Rd={};function Ca(e,t){rn(e,t),rn(e+"Capture",t)}function rn(e,t){for(Rd[e]=t,e=0;e<t.length;e++)Cd.add(t[e])}var hp=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Od={},Dd={};function fp(e){return fo.call(Dd,e)?!0:fo.call(Od,e)?!1:hp.test(e)?Dd[e]=!0:(Od[e]=!0,!1)}function ki(e,t,r){if(fp(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Ei(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function _s(e,t,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+l)}}function es(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function mp(e,t,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(x){r=""+x,h.call(this,x)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(x){r=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jo(e){if(!e._valueTracker){var t=zd(e)?"checked":"value";e._valueTracker=mp(e,t,""+e[t])}}function Md(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),l="";return e&&(l=zd(e)?e.checked?"true":"false":e.value),e=l,e!==r?(t.setValue(e),!0):!1}function Ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gp=/[\n"\\]/g;function ts(e){return e.replace(gp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wo(e,t,r,l,c,h,x,b){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+es(t)):e.value!==""+es(t)&&(e.value=""+es(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?No(e,x,es(t)):r!=null?No(e,x,es(r)):l!=null&&e.removeAttribute("value"),c==null&&h!=null&&(e.defaultChecked=!!h),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+es(b):e.removeAttribute("name")}function Ud(e,t,r,l,c,h,x,b){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),t!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||t!=null)){jo(e);return}r=r!=null?""+es(r):"",t=t!=null?""+es(t):r,b||t===e.value||(e.value=t),e.defaultValue=t}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x),jo(e)}function No(e,t,r){t==="number"&&Ci(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ln(e,t,r,l){if(e=e.options,t){t={};for(var c=0;c<r.length;c++)t["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=t.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&l&&(e[r].defaultSelected=!0)}else{for(r=""+es(r),t=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Bd(e,t,r){if(t!=null&&(t=""+es(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+es(r):""}function Ld(e,t,r,l){if(t==null){if(l!=null){if(r!=null)throw Error(o(92));if(Se(l)){if(1<l.length)throw Error(o(93));l=l[0]}r=l}r==null&&(r=""),t=r}r=es(t),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),jo(e)}function on(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var pp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qd(e,t,r){var l=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,r):typeof r!="number"||r===0||pp.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Hd(e,t,r){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in t)l=t[c],t.hasOwnProperty(c)&&r[c]!==l&&qd(e,c,l)}else for(var h in t)t.hasOwnProperty(h)&&qd(e,h,t[h])}function _o(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ri(e){return yp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ss(){}var So=null;function Ao(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cn=null,un=null;function $d(e){var t=an(e);if(t&&(e=t.stateNode)){var r=e[Ct]||null;e:switch(e=t.stateNode,t.type){case"input":if(wo(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ts(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var l=r[t];if(l!==e&&l.form===e.form){var c=l[Ct]||null;if(!c)throw Error(o(90));wo(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<r.length;t++)l=r[t],l.form===e.form&&Md(l)}break e;case"textarea":Bd(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&ln(e,!!r.multiple,t,!1)}}}var To=!1;function Gd(e,t,r){if(To)return e(t,r);To=!0;try{var l=e(t);return l}finally{if(To=!1,(cn!==null||un!==null)&&(yl(),cn&&(t=cn,e=un,un=cn=null,$d(t),e)))for(t=0;t<e.length;t++)$d(e[t])}}function mr(e,t){var r=e.stateNode;if(r===null)return null;var l=r[Ct]||null;if(l===null)return null;r=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,t,typeof r));return r}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ko=!1;if(As)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){ko=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{ko=!1}var ta=null,Eo=null,Oi=null;function Id(){if(Oi)return Oi;var e,t=Eo,r=t.length,l,c="value"in ta?ta.value:ta.textContent,h=c.length;for(e=0;e<r&&t[e]===c[e];e++);var x=r-e;for(l=1;l<=x&&t[r-l]===c[h-l];l++);return Oi=c.slice(e,1<l?1-l:void 0)}function Di(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Vd(){return!1}function Rt(e){function t(r,l,c,h,x){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=x,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(r=e[b],this[b]=r?r(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?zi:Vd,this.isPropagationStopped=Vd,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),t}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mi=Rt(Ra),pr=N({},Ra,{view:0,detail:0}),vp=Rt(pr),Co,Ro,xr,Ui=N({},pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Do,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xr&&(xr&&e.type==="mousemove"?(Co=e.screenX-xr.screenX,Ro=e.screenY-xr.screenY):Ro=Co=0,xr=e),Co)},movementY:function(e){return"movementY"in e?e.movementY:Ro}}),Kd=Rt(Ui),bp=N({},Ui,{dataTransfer:0}),jp=Rt(bp),wp=N({},pr,{relatedTarget:0}),Oo=Rt(wp),Np=N({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),_p=Rt(Np),Sp=N({},Ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ap=Rt(Sp),Tp=N({},Ra,{data:0}),Pd=Rt(Tp),kp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cp[e])?!!t[e]:!1}function Do(){return Rp}var Op=N({},pr,{key:function(e){if(e.key){var t=kp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Di(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ep[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Do,charCode:function(e){return e.type==="keypress"?Di(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Di(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dp=Rt(Op),zp=N({},Ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yd=Rt(zp),Mp=N({},pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Do}),Up=Rt(Mp),Bp=N({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lp=Rt(Bp),qp=N({},Ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Hp=Rt(qp),$p=N({},Ra,{newState:0,oldState:0}),Gp=Rt($p),Ip=[9,13,27,32],zo=As&&"CompositionEvent"in window,yr=null;As&&"documentMode"in document&&(yr=document.documentMode);var Vp=As&&"TextEvent"in window&&!yr,Qd=As&&(!zo||yr&&8<yr&&11>=yr),Xd=" ",Jd=!1;function Zd(e,t){switch(e){case"keyup":return Ip.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dn=!1;function Kp(e,t){switch(e){case"compositionend":return Fd(t);case"keypress":return t.which!==32?null:(Jd=!0,Xd);case"textInput":return e=t.data,e===Xd&&Jd?null:e;default:return null}}function Pp(e,t){if(dn)return e==="compositionend"||!zo&&Zd(e,t)?(e=Id(),Oi=Eo=ta=null,dn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qd&&t.locale!=="ko"?null:t.data;default:return null}}var Yp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yp[e.type]:t==="textarea"}function eh(e,t,r,l){cn?un?un.push(l):un=[l]:cn=l,t=Sl(t,"onChange"),0<t.length&&(r=new Mi("onChange","change",null,r,l),e.push({event:r,listeners:t}))}var vr=null,br=null;function Qp(e){Bm(e,0)}function Bi(e){var t=fr(e);if(Md(t))return e}function th(e,t){if(e==="change")return t}var sh=!1;if(As){var Mo;if(As){var Uo="oninput"in document;if(!Uo){var ah=document.createElement("div");ah.setAttribute("oninput","return;"),Uo=typeof ah.oninput=="function"}Mo=Uo}else Mo=!1;sh=Mo&&(!document.documentMode||9<document.documentMode)}function nh(){vr&&(vr.detachEvent("onpropertychange",rh),br=vr=null)}function rh(e){if(e.propertyName==="value"&&Bi(br)){var t=[];eh(t,br,e,Ao(e)),Gd(Qp,t)}}function Xp(e,t,r){e==="focusin"?(nh(),vr=t,br=r,vr.attachEvent("onpropertychange",rh)):e==="focusout"&&nh()}function Jp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bi(br)}function Zp(e,t){if(e==="click")return Bi(t)}function Fp(e,t){if(e==="input"||e==="change")return Bi(t)}function Wp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gt=typeof Object.is=="function"?Object.is:Wp;function jr(e,t){if(Gt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),l=Object.keys(t);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!fo.call(t,c)||!Gt(e[c],t[c]))return!1}return!0}function ih(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lh(e,t){var r=ih(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=t&&l>=t)return{node:r,offset:t-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ih(r)}}function oh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?oh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ch(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ci(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ci(e.document)}return t}function Bo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ex=As&&"documentMode"in document&&11>=document.documentMode,hn=null,Lo=null,wr=null,qo=!1;function uh(e,t,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qo||hn==null||hn!==Ci(l)||(l=hn,"selectionStart"in l&&Bo(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),wr&&jr(wr,l)||(wr=l,l=Sl(Lo,"onSelect"),0<l.length&&(t=new Mi("onSelect","select",null,t,r),e.push({event:t,listeners:l}),t.target=hn)))}function Oa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fn={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},Ho={},dh={};As&&(dh=document.createElement("div").style,"AnimationEvent"in window||(delete fn.animationend.animation,delete fn.animationiteration.animation,delete fn.animationstart.animation),"TransitionEvent"in window||delete fn.transitionend.transition);function Da(e){if(Ho[e])return Ho[e];if(!fn[e])return e;var t=fn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in dh)return Ho[e]=t[r];return e}var hh=Da("animationend"),fh=Da("animationiteration"),mh=Da("animationstart"),tx=Da("transitionrun"),sx=Da("transitionstart"),ax=Da("transitioncancel"),gh=Da("transitionend"),ph=new Map,$o="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$o.push("scrollEnd");function ds(e,t){ph.set(e,t),Ca(t,[e])}var Li=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ss=[],mn=0,Go=0;function qi(){for(var e=mn,t=Go=mn=0;t<e;){var r=ss[t];ss[t++]=null;var l=ss[t];ss[t++]=null;var c=ss[t];ss[t++]=null;var h=ss[t];if(ss[t++]=null,l!==null&&c!==null){var x=l.pending;x===null?c.next=c:(c.next=x.next,x.next=c),l.pending=c}h!==0&&xh(r,c,h)}}function Hi(e,t,r,l){ss[mn++]=e,ss[mn++]=t,ss[mn++]=r,ss[mn++]=l,Go|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Io(e,t,r,l){return Hi(e,t,r,l),$i(e)}function za(e,t){return Hi(e,null,null,t),$i(e)}function xh(e,t,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var c=!1,h=e.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(c=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,c&&t!==null&&(c=31-$t(r),e=h.hiddenUpdates,l=e[c],l===null?e[c]=[t]:l.push(t),t.lane=r|536870912),h):null}function $i(e){if(50<Vr)throw Vr=0,Fc=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gn={};function nx(e,t,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,r,l){return new nx(e,t,r,l)}function Vo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ts(e,t){var r=e.alternate;return r===null?(r=It(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function yh(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Gi(e,t,r,l,c,h){var x=0;if(l=e,typeof e=="function")Vo(e)&&(x=1);else if(typeof e=="string")x=cy(e,r,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case J:return e=It(31,r,t,c),e.elementType=J,e.lanes=h,e;case _:return Ma(r.children,c,h,t);case R:x=8,c|=24;break;case E:return e=It(12,r,t,c|2),e.elementType=E,e.lanes=h,e;case F:return e=It(13,r,t,c),e.elementType=F,e.lanes=h,e;case W:return e=It(19,r,t,c),e.elementType=W,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:x=10;break e;case S:x=9;break e;case I:x=11;break e;case Q:x=14;break e;case P:x=16,l=null;break e}x=29,r=Error(o(130,e===null?"null":typeof e,"")),l=null}return t=It(x,r,t,c),t.elementType=e,t.type=l,t.lanes=h,t}function Ma(e,t,r,l){return e=It(7,e,l,t),e.lanes=r,e}function Ko(e,t,r){return e=It(6,e,null,t),e.lanes=r,e}function vh(e){var t=It(18,null,null,0);return t.stateNode=e,t}function Po(e,t,r){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bh=new WeakMap;function as(e,t){if(typeof e=="object"&&e!==null){var r=bh.get(e);return r!==void 0?r:(t={value:e,source:t,stack:vd(t)},bh.set(e,t),t)}return{value:e,source:t,stack:vd(t)}}var pn=[],xn=0,Ii=null,Nr=0,ns=[],rs=0,sa=null,vs=1,bs="";function ks(e,t){pn[xn++]=Nr,pn[xn++]=Ii,Ii=e,Nr=t}function jh(e,t,r){ns[rs++]=vs,ns[rs++]=bs,ns[rs++]=sa,sa=e;var l=vs;e=bs;var c=32-$t(l)-1;l&=~(1<<c),r+=1;var h=32-$t(t)+c;if(30<h){var x=c-c%5;h=(l&(1<<x)-1).toString(32),l>>=x,c-=x,vs=1<<32-$t(t)+c|r<<c|l,bs=h+e}else vs=1<<h|r<<c|l,bs=e}function Yo(e){e.return!==null&&(ks(e,1),jh(e,1,0))}function Qo(e){for(;e===Ii;)Ii=pn[--xn],pn[xn]=null,Nr=pn[--xn],pn[xn]=null;for(;e===sa;)sa=ns[--rs],ns[rs]=null,bs=ns[--rs],ns[rs]=null,vs=ns[--rs],ns[rs]=null}function wh(e,t){ns[rs++]=vs,ns[rs++]=bs,ns[rs++]=sa,vs=t.id,bs=t.overflow,sa=e}var pt=null,Ve=null,Ae=!1,aa=null,is=!1,Xo=Error(o(519));function na(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _r(as(t,e)),Xo}function Nh(e){var t=e.stateNode,r=e.type,l=e.memoizedProps;switch(t[gt]=e,t[Ct]=l,r){case"dialog":we("cancel",t),we("close",t);break;case"iframe":case"object":case"embed":we("load",t);break;case"video":case"audio":for(r=0;r<Pr.length;r++)we(Pr[r],t);break;case"source":we("error",t);break;case"img":case"image":case"link":we("error",t),we("load",t);break;case"details":we("toggle",t);break;case"input":we("invalid",t),Ud(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":we("invalid",t);break;case"textarea":we("invalid",t),Ld(t,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||l.suppressHydrationWarning===!0||$m(t.textContent,r)?(l.popover!=null&&(we("beforetoggle",t),we("toggle",t)),l.onScroll!=null&&we("scroll",t),l.onScrollEnd!=null&&we("scrollend",t),l.onClick!=null&&(t.onclick=Ss),t=!0):t=!1,t||na(e,!0)}function _h(e){for(pt=e.return;pt;)switch(pt.tag){case 5:case 31:case 13:is=!1;return;case 27:case 3:is=!0;return;default:pt=pt.return}}function yn(e){if(e!==pt)return!1;if(!Ae)return _h(e),Ae=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||fu(e.type,e.memoizedProps)),r=!r),r&&Ve&&na(e),_h(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ve=Jm(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Ve=Jm(e)}else t===27?(t=Ve,ya(e.type)?(e=yu,yu=null,Ve=e):Ve=t):Ve=pt?os(e.stateNode.nextSibling):null;return!0}function Ua(){Ve=pt=null,Ae=!1}function Jo(){var e=aa;return e!==null&&(Mt===null?Mt=e:Mt.push.apply(Mt,e),aa=null),e}function _r(e){aa===null?aa=[e]:aa.push(e)}var Zo=C(null),Ba=null,Es=null;function ra(e,t,r){K(Zo,t._currentValue),t._currentValue=r}function Cs(e){e._currentValue=Zo.current,$(Zo)}function Fo(e,t,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===r)break;e=e.return}}function Wo(e,t,r,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var h=c.dependencies;if(h!==null){var x=c.child;h=h.firstContext;e:for(;h!==null;){var b=h;h=c;for(var A=0;A<t.length;A++)if(b.context===t[A]){h.lanes|=r,b=h.alternate,b!==null&&(b.lanes|=r),Fo(h.return,r,e),l||(x=null);break e}h=b.next}}else if(c.tag===18){if(x=c.return,x===null)throw Error(o(341));x.lanes|=r,h=x.alternate,h!==null&&(h.lanes|=r),Fo(x,r,e),x=null}else x=c.child;if(x!==null)x.return=c;else for(x=c;x!==null;){if(x===e){x=null;break}if(c=x.sibling,c!==null){c.return=x.return,x=c;break}x=x.return}c=x}}function vn(e,t,r,l){e=null;for(var c=t,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var x=c.alternate;if(x===null)throw Error(o(387));if(x=x.memoizedProps,x!==null){var b=c.type;Gt(c.pendingProps.value,x.value)||(e!==null?e.push(b):e=[b])}}else if(c===fe.current){if(x=c.alternate,x===null)throw Error(o(387));x.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Zr):e=[Zr])}c=c.return}e!==null&&Wo(t,e,r,l),t.flags|=262144}function Vi(e){for(e=e.firstContext;e!==null;){if(!Gt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function La(e){Ba=e,Es=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function xt(e){return Sh(Ba,e)}function Ki(e,t){return Ba===null&&La(e),Sh(e,t)}function Sh(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Es===null){if(e===null)throw Error(o(308));Es=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Es=Es.next=t;return r}var rx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},ix=n.unstable_scheduleCallback,lx=n.unstable_NormalPriority,st={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ec(){return{controller:new rx,data:new Map,refCount:0}}function Sr(e){e.refCount--,e.refCount===0&&ix(lx,function(){e.controller.abort()})}var Ar=null,tc=0,bn=0,jn=null;function ox(e,t){if(Ar===null){var r=Ar=[];tc=0,bn=nu(),jn={status:"pending",value:void 0,then:function(l){r.push(l)}}}return tc++,t.then(Ah,Ah),t}function Ah(){if(--tc===0&&Ar!==null){jn!==null&&(jn.status="fulfilled");var e=Ar;Ar=null,bn=0,jn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function cx(e,t){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var c=0;c<r.length;c++)(0,r[c])(t)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var Th=B.S;B.S=function(e,t){dm=qt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ox(e,t),Th!==null&&Th(e,t)};var qa=C(null);function sc(){var e=qa.current;return e!==null?e:Le.pooledCache}function Pi(e,t){t===null?K(qa,qa.current):K(qa,t.pool)}function kh(){var e=sc();return e===null?null:{parent:st._currentValue,pool:e}}var wn=Error(o(460)),ac=Error(o(474)),Yi=Error(o(542)),Qi={then:function(){}};function Eh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ch(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Ss,Ss),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Oh(e),e;default:if(typeof t.status=="string")t.then(Ss,Ss);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=l}},function(l){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Oh(e),e}throw $a=t,wn}}function Ha(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?($a=r,wn):r}}var $a=null;function Rh(){if($a===null)throw Error(o(459));var e=$a;return $a=null,e}function Oh(e){if(e===wn||e===Yi)throw Error(o(483))}var Nn=null,Tr=0;function Xi(e){var t=Tr;return Tr+=1,Nn===null&&(Nn=[]),Ch(Nn,e,t)}function kr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ji(e,t){throw t.$$typeof===y?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Dh(e){function t(O,T){if(e){var D=O.deletions;D===null?(O.deletions=[T],O.flags|=16):D.push(T)}}function r(O,T){if(!e)return null;for(;T!==null;)t(O,T),T=T.sibling;return null}function l(O){for(var T=new Map;O!==null;)O.key!==null?T.set(O.key,O):T.set(O.index,O),O=O.sibling;return T}function c(O,T){return O=Ts(O,T),O.index=0,O.sibling=null,O}function h(O,T,D){return O.index=D,e?(D=O.alternate,D!==null?(D=D.index,D<T?(O.flags|=67108866,T):D):(O.flags|=67108866,T)):(O.flags|=1048576,T)}function x(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function b(O,T,D,H){return T===null||T.tag!==6?(T=Ko(D,O.mode,H),T.return=O,T):(T=c(T,D),T.return=O,T)}function A(O,T,D,H){var le=D.type;return le===_?q(O,T,D.props.children,H,D.key):T!==null&&(T.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===P&&Ha(le)===T.type)?(T=c(T,D.props),kr(T,D),T.return=O,T):(T=Gi(D.type,D.key,D.props,null,O.mode,H),kr(T,D),T.return=O,T)}function z(O,T,D,H){return T===null||T.tag!==4||T.stateNode.containerInfo!==D.containerInfo||T.stateNode.implementation!==D.implementation?(T=Po(D,O.mode,H),T.return=O,T):(T=c(T,D.children||[]),T.return=O,T)}function q(O,T,D,H,le){return T===null||T.tag!==7?(T=Ma(D,O.mode,H,le),T.return=O,T):(T=c(T,D),T.return=O,T)}function G(O,T,D){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Ko(""+T,O.mode,D),T.return=O,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case j:return D=Gi(T.type,T.key,T.props,null,O.mode,D),kr(D,T),D.return=O,D;case w:return T=Po(T,O.mode,D),T.return=O,T;case P:return T=Ha(T),G(O,T,D)}if(Se(T)||Pe(T))return T=Ma(T,O.mode,D,null),T.return=O,T;if(typeof T.then=="function")return G(O,Xi(T),D);if(T.$$typeof===M)return G(O,Ki(O,T),D);Ji(O,T)}return null}function U(O,T,D,H){var le=T!==null?T.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return le!==null?null:b(O,T,""+D,H);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case j:return D.key===le?A(O,T,D,H):null;case w:return D.key===le?z(O,T,D,H):null;case P:return D=Ha(D),U(O,T,D,H)}if(Se(D)||Pe(D))return le!==null?null:q(O,T,D,H,null);if(typeof D.then=="function")return U(O,T,Xi(D),H);if(D.$$typeof===M)return U(O,T,Ki(O,D),H);Ji(O,D)}return null}function L(O,T,D,H,le){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return O=O.get(D)||null,b(T,O,""+H,le);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case j:return O=O.get(H.key===null?D:H.key)||null,A(T,O,H,le);case w:return O=O.get(H.key===null?D:H.key)||null,z(T,O,H,le);case P:return H=Ha(H),L(O,T,D,H,le)}if(Se(H)||Pe(H))return O=O.get(D)||null,q(T,O,H,le,null);if(typeof H.then=="function")return L(O,T,D,Xi(H),le);if(H.$$typeof===M)return L(O,T,D,Ki(T,H),le);Ji(T,H)}return null}function ee(O,T,D,H){for(var le=null,ke=null,ne=T,ye=T=0,_e=null;ne!==null&&ye<D.length;ye++){ne.index>ye?(_e=ne,ne=null):_e=ne.sibling;var Ee=U(O,ne,D[ye],H);if(Ee===null){ne===null&&(ne=_e);break}e&&ne&&Ee.alternate===null&&t(O,ne),T=h(Ee,T,ye),ke===null?le=Ee:ke.sibling=Ee,ke=Ee,ne=_e}if(ye===D.length)return r(O,ne),Ae&&ks(O,ye),le;if(ne===null){for(;ye<D.length;ye++)ne=G(O,D[ye],H),ne!==null&&(T=h(ne,T,ye),ke===null?le=ne:ke.sibling=ne,ke=ne);return Ae&&ks(O,ye),le}for(ne=l(ne);ye<D.length;ye++)_e=L(ne,O,ye,D[ye],H),_e!==null&&(e&&_e.alternate!==null&&ne.delete(_e.key===null?ye:_e.key),T=h(_e,T,ye),ke===null?le=_e:ke.sibling=_e,ke=_e);return e&&ne.forEach(function(Na){return t(O,Na)}),Ae&&ks(O,ye),le}function ue(O,T,D,H){if(D==null)throw Error(o(151));for(var le=null,ke=null,ne=T,ye=T=0,_e=null,Ee=D.next();ne!==null&&!Ee.done;ye++,Ee=D.next()){ne.index>ye?(_e=ne,ne=null):_e=ne.sibling;var Na=U(O,ne,Ee.value,H);if(Na===null){ne===null&&(ne=_e);break}e&&ne&&Na.alternate===null&&t(O,ne),T=h(Na,T,ye),ke===null?le=Na:ke.sibling=Na,ke=Na,ne=_e}if(Ee.done)return r(O,ne),Ae&&ks(O,ye),le;if(ne===null){for(;!Ee.done;ye++,Ee=D.next())Ee=G(O,Ee.value,H),Ee!==null&&(T=h(Ee,T,ye),ke===null?le=Ee:ke.sibling=Ee,ke=Ee);return Ae&&ks(O,ye),le}for(ne=l(ne);!Ee.done;ye++,Ee=D.next())Ee=L(ne,O,ye,Ee.value,H),Ee!==null&&(e&&Ee.alternate!==null&&ne.delete(Ee.key===null?ye:Ee.key),T=h(Ee,T,ye),ke===null?le=Ee:ke.sibling=Ee,ke=Ee);return e&&ne.forEach(function(by){return t(O,by)}),Ae&&ks(O,ye),le}function Be(O,T,D,H){if(typeof D=="object"&&D!==null&&D.type===_&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case j:e:{for(var le=D.key;T!==null;){if(T.key===le){if(le=D.type,le===_){if(T.tag===7){r(O,T.sibling),H=c(T,D.props.children),H.return=O,O=H;break e}}else if(T.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===P&&Ha(le)===T.type){r(O,T.sibling),H=c(T,D.props),kr(H,D),H.return=O,O=H;break e}r(O,T);break}else t(O,T);T=T.sibling}D.type===_?(H=Ma(D.props.children,O.mode,H,D.key),H.return=O,O=H):(H=Gi(D.type,D.key,D.props,null,O.mode,H),kr(H,D),H.return=O,O=H)}return x(O);case w:e:{for(le=D.key;T!==null;){if(T.key===le)if(T.tag===4&&T.stateNode.containerInfo===D.containerInfo&&T.stateNode.implementation===D.implementation){r(O,T.sibling),H=c(T,D.children||[]),H.return=O,O=H;break e}else{r(O,T);break}else t(O,T);T=T.sibling}H=Po(D,O.mode,H),H.return=O,O=H}return x(O);case P:return D=Ha(D),Be(O,T,D,H)}if(Se(D))return ee(O,T,D,H);if(Pe(D)){if(le=Pe(D),typeof le!="function")throw Error(o(150));return D=le.call(D),ue(O,T,D,H)}if(typeof D.then=="function")return Be(O,T,Xi(D),H);if(D.$$typeof===M)return Be(O,T,Ki(O,D),H);Ji(O,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,T!==null&&T.tag===6?(r(O,T.sibling),H=c(T,D),H.return=O,O=H):(r(O,T),H=Ko(D,O.mode,H),H.return=O,O=H),x(O)):r(O,T)}return function(O,T,D,H){try{Tr=0;var le=Be(O,T,D,H);return Nn=null,le}catch(ne){if(ne===wn||ne===Yi)throw ne;var ke=It(29,ne,null,O.mode);return ke.lanes=H,ke.return=O,ke}finally{}}}var Ga=Dh(!0),zh=Dh(!1),ia=!1;function nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function la(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oa(e,t,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Re&2)!==0){var c=l.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),l.pending=t,t=$i(e),xh(e,null,r),t}return Hi(e,l,t,r),$i(e)}function Er(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Sd(e,r)}}function ic(e,t){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var x={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?c=h=x:h=h.next=x,r=r.next}while(r!==null);h===null?c=h=t:h=h.next=t}else c=h=t;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var lc=!1;function Cr(){if(lc){var e=jn;if(e!==null)throw e}}function Rr(e,t,r,l){lc=!1;var c=e.updateQueue;ia=!1;var h=c.firstBaseUpdate,x=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var A=b,z=A.next;A.next=null,x===null?h=z:x.next=z,x=A;var q=e.alternate;q!==null&&(q=q.updateQueue,b=q.lastBaseUpdate,b!==x&&(b===null?q.firstBaseUpdate=z:b.next=z,q.lastBaseUpdate=A))}if(h!==null){var G=c.baseState;x=0,q=z=A=null,b=h;do{var U=b.lane&-536870913,L=U!==b.lane;if(L?(Ne&U)===U:(l&U)===U){U!==0&&U===bn&&(lc=!0),q!==null&&(q=q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ee=e,ue=b;U=t;var Be=r;switch(ue.tag){case 1:if(ee=ue.payload,typeof ee=="function"){G=ee.call(Be,G,U);break e}G=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=ue.payload,U=typeof ee=="function"?ee.call(Be,G,U):ee,U==null)break e;G=N({},G,U);break e;case 2:ia=!0}}U=b.callback,U!==null&&(e.flags|=64,L&&(e.flags|=8192),L=c.callbacks,L===null?c.callbacks=[U]:L.push(U))}else L={lane:U,tag:b.tag,payload:b.payload,callback:b.callback,next:null},q===null?(z=q=L,A=G):q=q.next=L,x|=U;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;L=b,b=L.next,L.next=null,c.lastBaseUpdate=L,c.shared.pending=null}}while(!0);q===null&&(A=G),c.baseState=A,c.firstBaseUpdate=z,c.lastBaseUpdate=q,h===null&&(c.shared.lanes=0),fa|=x,e.lanes=x,e.memoizedState=G}}function Mh(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function Uh(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Mh(r[e],t)}var _n=C(null),Zi=C(0);function Bh(e,t){e=qs,K(Zi,e),K(_n,t),qs=e|t.baseLanes}function oc(){K(Zi,qs),K(_n,_n.current)}function cc(){qs=Zi.current,$(_n),$(Zi)}var Vt=C(null),ls=null;function ca(e){var t=e.alternate;K(et,et.current&1),K(Vt,e),ls===null&&(t===null||_n.current!==null||t.memoizedState!==null)&&(ls=e)}function uc(e){K(et,et.current),K(Vt,e),ls===null&&(ls=e)}function Lh(e){e.tag===22?(K(et,et.current),K(Vt,e),ls===null&&(ls=e)):ua()}function ua(){K(et,et.current),K(Vt,Vt.current)}function Kt(e){$(Vt),ls===e&&(ls=null),$(et)}var et=C(0);function Fi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||pu(r)||xu(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Rs=0,xe=null,Me=null,at=null,Wi=!1,Sn=!1,Ia=!1,el=0,Or=0,An=null,ux=0;function Xe(){throw Error(o(321))}function dc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Gt(e[r],t[r]))return!1;return!0}function hc(e,t,r,l,c,h){return Rs=h,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,B.H=e===null||e.memoizedState===null?wf:Tc,Ia=!1,h=r(l,c),Ia=!1,Sn&&(h=Hh(t,r,l,c)),qh(e),h}function qh(e){B.H=Mr;var t=Me!==null&&Me.next!==null;if(Rs=0,at=Me=xe=null,Wi=!1,Or=0,An=null,t)throw Error(o(300));e===null||nt||(e=e.dependencies,e!==null&&Vi(e)&&(nt=!0))}function Hh(e,t,r,l){xe=e;var c=0;do{if(Sn&&(An=null),Or=0,Sn=!1,25<=c)throw Error(o(301));if(c+=1,at=Me=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}B.H=Nf,h=t(r,l)}while(Sn);return h}function dx(){var e=B.H,t=e.useState()[0];return t=typeof t.then=="function"?Dr(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(xe.flags|=1024),t}function fc(){var e=el!==0;return el=0,e}function mc(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function gc(e){if(Wi){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Wi=!1}Rs=0,at=Me=xe=null,Sn=!1,Or=el=0,An=null}function kt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return at===null?xe.memoizedState=at=e:at=at.next=e,at}function tt(){if(Me===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=at===null?xe.memoizedState:at.next;if(t!==null)at=t,Me=e;else{if(e===null)throw xe.alternate===null?Error(o(467)):Error(o(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},at===null?xe.memoizedState=at=e:at=at.next=e}return at}function tl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dr(e){var t=Or;return Or+=1,An===null&&(An=[]),e=Ch(An,e,t),t=xe,(at===null?t.memoizedState:at.next)===null&&(t=t.alternate,B.H=t===null||t.memoizedState===null?wf:Tc),e}function sl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Dr(e);if(e.$$typeof===M)return xt(e)}throw Error(o(438,String(e)))}function pc(e){var t=null,r=xe.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=tl(),xe.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),l=0;l<e;l++)r[l]=Ie;return t.index++,r}function Os(e,t){return typeof t=="function"?t(e):t}function al(e){var t=tt();return xc(t,Me,e)}function xc(e,t,r){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=r;var c=e.baseQueue,h=l.pending;if(h!==null){if(c!==null){var x=c.next;c.next=h.next,h.next=x}t.baseQueue=c=h,l.pending=null}if(h=e.baseState,c===null)e.memoizedState=h;else{t=c.next;var b=x=null,A=null,z=t,q=!1;do{var G=z.lane&-536870913;if(G!==z.lane?(Ne&G)===G:(Rs&G)===G){var U=z.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),G===bn&&(q=!0);else if((Rs&U)===U){z=z.next,U===bn&&(q=!0);continue}else G={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},A===null?(b=A=G,x=h):A=A.next=G,xe.lanes|=U,fa|=U;G=z.action,Ia&&r(h,G),h=z.hasEagerState?z.eagerState:r(h,G)}else U={lane:G,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},A===null?(b=A=U,x=h):A=A.next=U,xe.lanes|=G,fa|=G;z=z.next}while(z!==null&&z!==t);if(A===null?x=h:A.next=b,!Gt(h,e.memoizedState)&&(nt=!0,q&&(r=jn,r!==null)))throw r;e.memoizedState=h,e.baseState=x,e.baseQueue=A,l.lastRenderedState=h}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function yc(e){var t=tt(),r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var l=r.dispatch,c=r.pending,h=t.memoizedState;if(c!==null){r.pending=null;var x=c=c.next;do h=e(h,x.action),x=x.next;while(x!==c);Gt(h,t.memoizedState)||(nt=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),r.lastRenderedState=h}return[h,l]}function $h(e,t,r){var l=xe,c=tt(),h=Ae;if(h){if(r===void 0)throw Error(o(407));r=r()}else r=t();var x=!Gt((Me||c).memoizedState,r);if(x&&(c.memoizedState=r,nt=!0),c=c.queue,jc(Vh.bind(null,l,c,e),[e]),c.getSnapshot!==t||x||at!==null&&at.memoizedState.tag&1){if(l.flags|=2048,Tn(9,{destroy:void 0},Ih.bind(null,l,c,r,t),null),Le===null)throw Error(o(349));h||(Rs&127)!==0||Gh(l,t,r)}return r}function Gh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xe.updateQueue,t===null?(t=tl(),xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ih(e,t,r,l){t.value=r,t.getSnapshot=l,Kh(t)&&Ph(e)}function Vh(e,t,r){return r(function(){Kh(t)&&Ph(e)})}function Kh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Gt(e,r)}catch{return!0}}function Ph(e){var t=za(e,2);t!==null&&Ut(t,e,2)}function vc(e){var t=kt();if(typeof e=="function"){var r=e;if(e=r(),Ia){Ws(!0);try{r()}finally{Ws(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:e},t}function Yh(e,t,r,l){return e.baseState=r,xc(e,Me,typeof l=="function"?l:Os)}function hx(e,t,r,l,c){if(il(e))throw Error(o(485));if(e=t.action,e!==null){var h={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){h.listeners.push(x)}};B.T!==null?r(!0):h.isTransition=!1,l(h),r=t.pending,r===null?(h.next=t.pending=h,Qh(t,h)):(h.next=r.next,t.pending=r.next=h)}}function Qh(e,t){var r=t.action,l=t.payload,c=e.state;if(t.isTransition){var h=B.T,x={};B.T=x;try{var b=r(c,l),A=B.S;A!==null&&A(x,b),Xh(e,t,b)}catch(z){bc(e,t,z)}finally{h!==null&&x.types!==null&&(h.types=x.types),B.T=h}}else try{h=r(c,l),Xh(e,t,h)}catch(z){bc(e,t,z)}}function Xh(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Jh(e,t,l)},function(l){return bc(e,t,l)}):Jh(e,t,r)}function Jh(e,t,r){t.status="fulfilled",t.value=r,Zh(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,Qh(e,r)))}function bc(e,t,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=r,Zh(t),t=t.next;while(t!==l)}e.action=null}function Zh(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Fh(e,t){return t}function Wh(e,t){if(Ae){var r=Le.formState;if(r!==null){e:{var l=xe;if(Ae){if(Ve){t:{for(var c=Ve,h=is;c.nodeType!==8;){if(!h){c=null;break t}if(c=os(c.nextSibling),c===null){c=null;break t}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Ve=os(c.nextSibling),l=c.data==="F!";break e}}na(l)}l=!1}l&&(t=r[0])}}return r=kt(),r.memoizedState=r.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fh,lastRenderedState:t},r.queue=l,r=vf.bind(null,xe,l),l.dispatch=r,l=vc(!1),h=Ac.bind(null,xe,!1,l.queue),l=kt(),c={state:t,dispatch:null,action:e,pending:null},l.queue=c,r=hx.bind(null,xe,c,h,r),c.dispatch=r,l.memoizedState=e,[t,r,!1]}function ef(e){var t=tt();return tf(t,Me,e)}function tf(e,t,r){if(t=xc(e,t,Fh)[0],e=al(Os)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Dr(t)}catch(x){throw x===wn?Yi:x}else l=t;t=tt();var c=t.queue,h=c.dispatch;return r!==t.memoizedState&&(xe.flags|=2048,Tn(9,{destroy:void 0},fx.bind(null,c,r),null)),[l,h,e]}function fx(e,t){e.action=t}function sf(e){var t=tt(),r=Me;if(r!==null)return tf(t,r,e);tt(),t=t.memoizedState,r=tt();var l=r.queue.dispatch;return r.memoizedState=e,[t,l,!1]}function Tn(e,t,r,l){return e={tag:e,create:r,deps:l,inst:t,next:null},t=xe.updateQueue,t===null&&(t=tl(),xe.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,t.lastEffect=e),e}function af(){return tt().memoizedState}function nl(e,t,r,l){var c=kt();xe.flags|=e,c.memoizedState=Tn(1|t,{destroy:void 0},r,l===void 0?null:l)}function rl(e,t,r,l){var c=tt();l=l===void 0?null:l;var h=c.memoizedState.inst;Me!==null&&l!==null&&dc(l,Me.memoizedState.deps)?c.memoizedState=Tn(t,h,r,l):(xe.flags|=e,c.memoizedState=Tn(1|t,h,r,l))}function nf(e,t){nl(8390656,8,e,t)}function jc(e,t){rl(2048,8,e,t)}function mx(e){xe.flags|=4;var t=xe.updateQueue;if(t===null)t=tl(),xe.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function rf(e){var t=tt().memoizedState;return mx({ref:t,nextImpl:e}),function(){if((Re&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function lf(e,t){return rl(4,2,e,t)}function of(e,t){return rl(4,4,e,t)}function cf(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uf(e,t,r){r=r!=null?r.concat([e]):null,rl(4,4,cf.bind(null,t,e),r)}function wc(){}function df(e,t){var r=tt();t=t===void 0?null:t;var l=r.memoizedState;return t!==null&&dc(t,l[1])?l[0]:(r.memoizedState=[e,t],e)}function hf(e,t){var r=tt();t=t===void 0?null:t;var l=r.memoizedState;if(t!==null&&dc(t,l[1]))return l[0];if(l=e(),Ia){Ws(!0);try{e()}finally{Ws(!1)}}return r.memoizedState=[l,t],l}function Nc(e,t,r){return r===void 0||(Rs&1073741824)!==0&&(Ne&261930)===0?e.memoizedState=t:(e.memoizedState=r,e=fm(),xe.lanes|=e,fa|=e,r)}function ff(e,t,r,l){return Gt(r,t)?r:_n.current!==null?(e=Nc(e,r,l),Gt(e,t)||(nt=!0),e):(Rs&42)===0||(Rs&1073741824)!==0&&(Ne&261930)===0?(nt=!0,e.memoizedState=r):(e=fm(),xe.lanes|=e,fa|=e,t)}function mf(e,t,r,l,c){var h=Y.p;Y.p=h!==0&&8>h?h:8;var x=B.T,b={};B.T=b,Ac(e,!1,t,r);try{var A=c(),z=B.S;if(z!==null&&z(b,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var q=cx(A,l);zr(e,t,q,Qt(e))}else zr(e,t,l,Qt(e))}catch(G){zr(e,t,{then:function(){},status:"rejected",reason:G},Qt())}finally{Y.p=h,x!==null&&b.types!==null&&(x.types=b.types),B.T=x}}function gx(){}function _c(e,t,r,l){if(e.tag!==5)throw Error(o(476));var c=gf(e).queue;mf(e,c,t,V,r===null?gx:function(){return pf(e),r(l)})}function gf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:V},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function pf(e){var t=gf(e);t.next===null&&(t=e.alternate.memoizedState),zr(e,t.next.queue,{},Qt())}function Sc(){return xt(Zr)}function xf(){return tt().memoizedState}function yf(){return tt().memoizedState}function px(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Qt();e=la(r);var l=oa(t,e,r);l!==null&&(Ut(l,t,r),Er(l,t,r)),t={cache:ec()},e.payload=t;return}t=t.return}}function xx(e,t,r){var l=Qt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},il(e)?bf(t,r):(r=Io(e,t,r,l),r!==null&&(Ut(r,e,l),jf(r,t,l)))}function vf(e,t,r){var l=Qt();zr(e,t,r,l)}function zr(e,t,r,l){var c={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(il(e))bf(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var x=t.lastRenderedState,b=h(x,r);if(c.hasEagerState=!0,c.eagerState=b,Gt(b,x))return Hi(e,t,c,0),Le===null&&qi(),!1}catch{}finally{}if(r=Io(e,t,c,l),r!==null)return Ut(r,e,l),jf(r,t,l),!0}return!1}function Ac(e,t,r,l){if(l={lane:2,revertLane:nu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},il(e)){if(t)throw Error(o(479))}else t=Io(e,r,l,2),t!==null&&Ut(t,e,2)}function il(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function bf(e,t){Sn=Wi=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jf(e,t,r){if((r&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,r|=l,t.lanes=r,Sd(e,r)}}var Mr={readContext:xt,use:sl,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Mr.useEffectEvent=Xe;var wf={readContext:xt,use:sl,useCallback:function(e,t){return kt().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:nf,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,nl(4194308,4,cf.bind(null,t,e),r)},useLayoutEffect:function(e,t){return nl(4194308,4,e,t)},useInsertionEffect:function(e,t){nl(4,2,e,t)},useMemo:function(e,t){var r=kt();t=t===void 0?null:t;var l=e();if(Ia){Ws(!0);try{e()}finally{Ws(!1)}}return r.memoizedState=[l,t],l},useReducer:function(e,t,r){var l=kt();if(r!==void 0){var c=r(t);if(Ia){Ws(!0);try{r(t)}finally{Ws(!1)}}}else c=t;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=xx.bind(null,xe,e),[l.memoizedState,e]},useRef:function(e){var t=kt();return e={current:e},t.memoizedState=e},useState:function(e){e=vc(e);var t=e.queue,r=vf.bind(null,xe,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:wc,useDeferredValue:function(e,t){var r=kt();return Nc(r,e,t)},useTransition:function(){var e=vc(!1);return e=mf.bind(null,xe,e.queue,!0,!1),kt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var l=xe,c=kt();if(Ae){if(r===void 0)throw Error(o(407));r=r()}else{if(r=t(),Le===null)throw Error(o(349));(Ne&127)!==0||Gh(l,t,r)}c.memoizedState=r;var h={value:r,getSnapshot:t};return c.queue=h,nf(Vh.bind(null,l,h,e),[e]),l.flags|=2048,Tn(9,{destroy:void 0},Ih.bind(null,l,h,r,t),null),r},useId:function(){var e=kt(),t=Le.identifierPrefix;if(Ae){var r=bs,l=vs;r=(l&~(1<<32-$t(l)-1)).toString(32)+r,t="_"+t+"R_"+r,r=el++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=ux++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Sc,useFormState:Wh,useActionState:Wh,useOptimistic:function(e){var t=kt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Ac.bind(null,xe,!0,r),r.dispatch=t,[e,t]},useMemoCache:pc,useCacheRefresh:function(){return kt().memoizedState=px.bind(null,xe)},useEffectEvent:function(e){var t=kt(),r={impl:e};return t.memoizedState=r,function(){if((Re&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},Tc={readContext:xt,use:sl,useCallback:df,useContext:xt,useEffect:jc,useImperativeHandle:uf,useInsertionEffect:lf,useLayoutEffect:of,useMemo:hf,useReducer:al,useRef:af,useState:function(){return al(Os)},useDebugValue:wc,useDeferredValue:function(e,t){var r=tt();return ff(r,Me.memoizedState,e,t)},useTransition:function(){var e=al(Os)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Dr(e),t]},useSyncExternalStore:$h,useId:xf,useHostTransitionStatus:Sc,useFormState:ef,useActionState:ef,useOptimistic:function(e,t){var r=tt();return Yh(r,Me,e,t)},useMemoCache:pc,useCacheRefresh:yf};Tc.useEffectEvent=rf;var Nf={readContext:xt,use:sl,useCallback:df,useContext:xt,useEffect:jc,useImperativeHandle:uf,useInsertionEffect:lf,useLayoutEffect:of,useMemo:hf,useReducer:yc,useRef:af,useState:function(){return yc(Os)},useDebugValue:wc,useDeferredValue:function(e,t){var r=tt();return Me===null?Nc(r,e,t):ff(r,Me.memoizedState,e,t)},useTransition:function(){var e=yc(Os)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Dr(e),t]},useSyncExternalStore:$h,useId:xf,useHostTransitionStatus:Sc,useFormState:sf,useActionState:sf,useOptimistic:function(e,t){var r=tt();return Me!==null?Yh(r,Me,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:pc,useCacheRefresh:yf};Nf.useEffectEvent=rf;function kc(e,t,r,l){t=e.memoizedState,r=r(l,t),r=r==null?t:N({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ec={enqueueSetState:function(e,t,r){e=e._reactInternals;var l=Qt(),c=la(l);c.payload=t,r!=null&&(c.callback=r),t=oa(e,c,l),t!==null&&(Ut(t,e,l),Er(t,e,l))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var l=Qt(),c=la(l);c.tag=1,c.payload=t,r!=null&&(c.callback=r),t=oa(e,c,l),t!==null&&(Ut(t,e,l),Er(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Qt(),l=la(r);l.tag=2,t!=null&&(l.callback=t),t=oa(e,l,r),t!==null&&(Ut(t,e,r),Er(t,e,r))}};function _f(e,t,r,l,c,h,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,x):t.prototype&&t.prototype.isPureReactComponent?!jr(r,l)||!jr(c,h):!0}function Sf(e,t,r,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,l),t.state!==e&&Ec.enqueueReplaceState(t,t.state,null)}function Va(e,t){var r=t;if("ref"in t){r={};for(var l in t)l!=="ref"&&(r[l]=t[l])}if(e=e.defaultProps){r===t&&(r=N({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}function Af(e){Li(e)}function Tf(e){console.error(e)}function kf(e){Li(e)}function ll(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Ef(e,t,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Cc(e,t,r){return r=la(r),r.tag=3,r.payload={element:null},r.callback=function(){ll(e,t)},r}function Cf(e){return e=la(e),e.tag=3,e}function Rf(e,t,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;e.payload=function(){return c(h)},e.callback=function(){Ef(t,r,l)}}var x=r.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){Ef(t,r,l),typeof c!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function yx(e,t,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=r.alternate,t!==null&&vn(t,r,c,!0),r=Vt.current,r!==null){switch(r.tag){case 31:case 13:return ls===null?vl():r.alternate===null&&Je===0&&(Je=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Qi?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([l]):t.add(l),tu(e,l,c)),!1;case 22:return r.flags|=65536,l===Qi?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([l]):r.add(l)),tu(e,l,c)),!1}throw Error(o(435,r.tag))}return tu(e,l,c),vl(),!1}if(Ae)return t=Vt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,l!==Xo&&(e=Error(o(422),{cause:l}),_r(as(e,r)))):(l!==Xo&&(t=Error(o(423),{cause:l}),_r(as(t,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=as(l,r),c=Cc(e.stateNode,l,c),ic(e,c),Je!==4&&(Je=2)),!1;var h=Error(o(520),{cause:l});if(h=as(h,r),Ir===null?Ir=[h]:Ir.push(h),Je!==4&&(Je=2),t===null)return!0;l=as(l,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Cc(r.stateNode,l,e),ic(r,e),!1;case 1:if(t=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ma===null||!ma.has(h))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Cf(c),Rf(c,e,r,l),ic(r,c),!1}r=r.return}while(r!==null);return!1}var Rc=Error(o(461)),nt=!1;function yt(e,t,r,l){t.child=e===null?zh(t,null,r,l):Ga(t,e.child,r,l)}function Of(e,t,r,l,c){r=r.render;var h=t.ref;if("ref"in l){var x={};for(var b in l)b!=="ref"&&(x[b]=l[b])}else x=l;return La(t),l=hc(e,t,r,x,h,c),b=fc(),e!==null&&!nt?(mc(e,t,c),Ds(e,t,c)):(Ae&&b&&Yo(t),t.flags|=1,yt(e,t,l,c),t.child)}function Df(e,t,r,l,c){if(e===null){var h=r.type;return typeof h=="function"&&!Vo(h)&&h.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=h,zf(e,t,h,l,c)):(e=Gi(r.type,null,l,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,!qc(e,c)){var x=h.memoizedProps;if(r=r.compare,r=r!==null?r:jr,r(x,l)&&e.ref===t.ref)return Ds(e,t,c)}return t.flags|=1,e=Ts(h,l),e.ref=t.ref,e.return=t,t.child=e}function zf(e,t,r,l,c){if(e!==null){var h=e.memoizedProps;if(jr(h,l)&&e.ref===t.ref)if(nt=!1,t.pendingProps=l=h,qc(e,c))(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,Ds(e,t,c)}return Oc(e,t,r,l,c)}function Mf(e,t,r,l){var c=l.children,h=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(h=h!==null?h.baseLanes|r:r,e!==null){for(l=t.child=e.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,t.child=null;return Uf(e,t,h,r,l)}if((r&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Pi(t,h!==null?h.cachePool:null),h!==null?Bh(t,h):oc(),Lh(t);else return l=t.lanes=536870912,Uf(e,t,h!==null?h.baseLanes|r:r,r,l)}else h!==null?(Pi(t,h.cachePool),Bh(t,h),ua(),t.memoizedState=null):(e!==null&&Pi(t,null),oc(),ua());return yt(e,t,c,r),t.child}function Ur(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Uf(e,t,r,l,c){var h=sc();return h=h===null?null:{parent:st._currentValue,pool:h},t.memoizedState={baseLanes:r,cachePool:h},e!==null&&Pi(t,null),oc(),Lh(t),e!==null&&vn(e,t,l,!0),t.childLanes=c,null}function ol(e,t){return t=ul({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Bf(e,t,r){return Ga(t,e.child,null,r),e=ol(t,t.pendingProps),e.flags|=2,Kt(t),t.memoizedState=null,e}function vx(e,t,r){var l=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ae){if(l.mode==="hidden")return e=ol(t,l),t.lanes=536870912,Ur(null,e);if(uc(t),(e=Ve)?(e=Xm(e,is),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sa!==null?{id:vs,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},r=vh(e),r.return=t,t.child=r,pt=t,Ve=null)):e=null,e===null)throw na(t);return t.lanes=536870912,null}return ol(t,l)}var h=e.memoizedState;if(h!==null){var x=h.dehydrated;if(uc(t),c)if(t.flags&256)t.flags&=-257,t=Bf(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(nt||vn(e,t,r,!1),c=(r&e.childLanes)!==0,nt||c){if(l=Le,l!==null&&(x=Ad(l,r),x!==0&&x!==h.retryLane))throw h.retryLane=x,za(e,x),Ut(l,e,x),Rc;vl(),t=Bf(e,t,r)}else e=h.treeContext,Ve=os(x.nextSibling),pt=t,Ae=!0,aa=null,is=!1,e!==null&&wh(t,e),t=ol(t,l),t.flags|=4096;return t}return e=Ts(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function cl(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Oc(e,t,r,l,c){return La(t),r=hc(e,t,r,l,void 0,c),l=fc(),e!==null&&!nt?(mc(e,t,c),Ds(e,t,c)):(Ae&&l&&Yo(t),t.flags|=1,yt(e,t,r,c),t.child)}function Lf(e,t,r,l,c,h){return La(t),t.updateQueue=null,r=Hh(t,l,r,c),qh(e),l=fc(),e!==null&&!nt?(mc(e,t,h),Ds(e,t,h)):(Ae&&l&&Yo(t),t.flags|=1,yt(e,t,r,h),t.child)}function qf(e,t,r,l,c){if(La(t),t.stateNode===null){var h=gn,x=r.contextType;typeof x=="object"&&x!==null&&(h=xt(x)),h=new r(l,h),t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Ec,t.stateNode=h,h._reactInternals=t,h=t.stateNode,h.props=l,h.state=t.memoizedState,h.refs={},nc(t),x=r.contextType,h.context=typeof x=="object"&&x!==null?xt(x):gn,h.state=t.memoizedState,x=r.getDerivedStateFromProps,typeof x=="function"&&(kc(t,r,x,l),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(x=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),x!==h.state&&Ec.enqueueReplaceState(h,h.state,null),Rr(t,l,h,c),Cr(),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){h=t.stateNode;var b=t.memoizedProps,A=Va(r,b);h.props=A;var z=h.context,q=r.contextType;x=gn,typeof q=="object"&&q!==null&&(x=xt(q));var G=r.getDerivedStateFromProps;q=typeof G=="function"||typeof h.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,q||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(b||z!==x)&&Sf(t,h,l,x),ia=!1;var U=t.memoizedState;h.state=U,Rr(t,l,h,c),Cr(),z=t.memoizedState,b||U!==z||ia?(typeof G=="function"&&(kc(t,r,G,l),z=t.memoizedState),(A=ia||_f(t,r,A,l,U,z,x))?(q||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=z),h.props=l,h.state=z,h.context=x,l=A):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{h=t.stateNode,rc(e,t),x=t.memoizedProps,q=Va(r,x),h.props=q,G=t.pendingProps,U=h.context,z=r.contextType,A=gn,typeof z=="object"&&z!==null&&(A=xt(z)),b=r.getDerivedStateFromProps,(z=typeof b=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(x!==G||U!==A)&&Sf(t,h,l,A),ia=!1,U=t.memoizedState,h.state=U,Rr(t,l,h,c),Cr();var L=t.memoizedState;x!==G||U!==L||ia||e!==null&&e.dependencies!==null&&Vi(e.dependencies)?(typeof b=="function"&&(kc(t,r,b,l),L=t.memoizedState),(q=ia||_f(t,r,q,l,U,L,A)||e!==null&&e.dependencies!==null&&Vi(e.dependencies))?(z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,L,A),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,L,A)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||x===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=L),h.props=l,h.state=L,h.context=A,l=q):(typeof h.componentDidUpdate!="function"||x===e.memoizedProps&&U===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&U===e.memoizedState||(t.flags|=1024),l=!1)}return h=l,cl(e,t),l=(t.flags&128)!==0,h||l?(h=t.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),t.flags|=1,e!==null&&l?(t.child=Ga(t,e.child,null,c),t.child=Ga(t,null,r,c)):yt(e,t,r,c),t.memoizedState=h.state,e=t.child):e=Ds(e,t,c),e}function Hf(e,t,r,l){return Ua(),t.flags|=256,yt(e,t,r,l),t.child}var Dc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zc(e){return{baseLanes:e,cachePool:kh()}}function Mc(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=Yt),e}function $f(e,t,r){var l=t.pendingProps,c=!1,h=(t.flags&128)!==0,x;if((x=h)||(x=e!==null&&e.memoizedState===null?!1:(et.current&2)!==0),x&&(c=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ae){if(c?ca(t):ua(),(e=Ve)?(e=Xm(e,is),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sa!==null?{id:vs,overflow:bs}:null,retryLane:536870912,hydrationErrors:null},r=vh(e),r.return=t,t.child=r,pt=t,Ve=null)):e=null,e===null)throw na(t);return xu(e)?t.lanes=32:t.lanes=536870912,null}var b=l.children;return l=l.fallback,c?(ua(),c=t.mode,b=ul({mode:"hidden",children:b},c),l=Ma(l,c,r,null),b.return=t,l.return=t,b.sibling=l,t.child=b,l=t.child,l.memoizedState=zc(r),l.childLanes=Mc(e,x,r),t.memoizedState=Dc,Ur(null,l)):(ca(t),Uc(t,b))}var A=e.memoizedState;if(A!==null&&(b=A.dehydrated,b!==null)){if(h)t.flags&256?(ca(t),t.flags&=-257,t=Bc(e,t,r)):t.memoizedState!==null?(ua(),t.child=e.child,t.flags|=128,t=null):(ua(),b=l.fallback,c=t.mode,l=ul({mode:"visible",children:l.children},c),b=Ma(b,c,r,null),b.flags|=2,l.return=t,b.return=t,l.sibling=b,t.child=l,Ga(t,e.child,null,r),l=t.child,l.memoizedState=zc(r),l.childLanes=Mc(e,x,r),t.memoizedState=Dc,t=Ur(null,l));else if(ca(t),xu(b)){if(x=b.nextSibling&&b.nextSibling.dataset,x)var z=x.dgst;x=z,l=Error(o(419)),l.stack="",l.digest=x,_r({value:l,source:null,stack:null}),t=Bc(e,t,r)}else if(nt||vn(e,t,r,!1),x=(r&e.childLanes)!==0,nt||x){if(x=Le,x!==null&&(l=Ad(x,r),l!==0&&l!==A.retryLane))throw A.retryLane=l,za(e,l),Ut(x,e,l),Rc;pu(b)||vl(),t=Bc(e,t,r)}else pu(b)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,Ve=os(b.nextSibling),pt=t,Ae=!0,aa=null,is=!1,e!==null&&wh(t,e),t=Uc(t,l.children),t.flags|=4096);return t}return c?(ua(),b=l.fallback,c=t.mode,A=e.child,z=A.sibling,l=Ts(A,{mode:"hidden",children:l.children}),l.subtreeFlags=A.subtreeFlags&65011712,z!==null?b=Ts(z,b):(b=Ma(b,c,r,null),b.flags|=2),b.return=t,l.return=t,l.sibling=b,t.child=l,Ur(null,l),l=t.child,b=e.child.memoizedState,b===null?b=zc(r):(c=b.cachePool,c!==null?(A=st._currentValue,c=c.parent!==A?{parent:A,pool:A}:c):c=kh(),b={baseLanes:b.baseLanes|r,cachePool:c}),l.memoizedState=b,l.childLanes=Mc(e,x,r),t.memoizedState=Dc,Ur(e.child,l)):(ca(t),r=e.child,e=r.sibling,r=Ts(r,{mode:"visible",children:l.children}),r.return=t,r.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=r,t.memoizedState=null,r)}function Uc(e,t){return t=ul({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ul(e,t){return e=It(22,e,null,t),e.lanes=0,e}function Bc(e,t,r){return Ga(t,e.child,null,r),e=Uc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Gf(e,t,r){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Fo(e.return,t,r)}function Lc(e,t,r,l,c,h){var x=e.memoizedState;x===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c,treeForkCount:h}:(x.isBackwards=t,x.rendering=null,x.renderingStartTime=0,x.last=l,x.tail=r,x.tailMode=c,x.treeForkCount=h)}function If(e,t,r){var l=t.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var x=et.current,b=(x&2)!==0;if(b?(x=x&1|2,t.flags|=128):x&=1,K(et,x),yt(e,t,l,r),l=Ae?Nr:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Gf(e,r,t);else if(e.tag===19)Gf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(r=t.child,c=null;r!==null;)e=r.alternate,e!==null&&Fi(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=t.child,t.child=null):(c=r.sibling,r.sibling=null),Lc(t,!1,c,r,h,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Fi(e)===null){t.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}Lc(t,!0,r,null,h,l);break;case"together":Lc(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Ds(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),fa|=t.lanes,(r&t.childLanes)===0)if(e!==null){if(vn(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,r=Ts(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ts(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function qc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Vi(e)))}function bx(e,t,r){switch(t.tag){case 3:dt(t,t.stateNode.containerInfo),ra(t,st,e.memoizedState.cache),Ua();break;case 27:case 5:ys(t);break;case 4:dt(t,t.stateNode.containerInfo);break;case 10:ra(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,uc(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(ca(t),t.flags|=128,null):(r&t.child.childLanes)!==0?$f(e,t,r):(ca(t),e=Ds(e,t,r),e!==null?e.sibling:null);ca(t);break;case 19:var c=(e.flags&128)!==0;if(l=(r&t.childLanes)!==0,l||(vn(e,t,r,!1),l=(r&t.childLanes)!==0),c){if(l)return If(e,t,r);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),K(et,et.current),l)break;return null;case 22:return t.lanes=0,Mf(e,t,r,t.pendingProps);case 24:ra(t,st,e.memoizedState.cache)}return Ds(e,t,r)}function Vf(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)nt=!0;else{if(!qc(e,r)&&(t.flags&128)===0)return nt=!1,bx(e,t,r);nt=(e.flags&131072)!==0}else nt=!1,Ae&&(t.flags&1048576)!==0&&jh(t,Nr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ha(t.elementType),t.type=e,typeof e=="function")Vo(e)?(l=Va(e,l),t.tag=1,t=qf(null,t,e,l,r)):(t.tag=0,t=Oc(null,t,e,l,r));else{if(e!=null){var c=e.$$typeof;if(c===I){t.tag=11,t=Of(null,t,e,l,r);break e}else if(c===Q){t.tag=14,t=Df(null,t,e,l,r);break e}}throw t=Tt(e)||e,Error(o(306,t,""))}}return t;case 0:return Oc(e,t,t.type,t.pendingProps,r);case 1:return l=t.type,c=Va(l,t.pendingProps),qf(e,t,l,c,r);case 3:e:{if(dt(t,t.stateNode.containerInfo),e===null)throw Error(o(387));l=t.pendingProps;var h=t.memoizedState;c=h.element,rc(e,t),Rr(t,l,null,r);var x=t.memoizedState;if(l=x.cache,ra(t,st,l),l!==h.cache&&Wo(t,[st],r,!0),Cr(),l=x.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){t=Hf(e,t,l,r);break e}else if(l!==c){c=as(Error(o(424)),t),_r(c),t=Hf(e,t,l,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=os(e.firstChild),pt=t,Ae=!0,aa=null,is=!0,r=zh(t,null,l,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ua(),l===c){t=Ds(e,t,r);break e}yt(e,t,l,r)}t=t.child}return t;case 26:return cl(e,t),e===null?(r=t0(t.type,null,t.pendingProps,null))?t.memoizedState=r:Ae||(r=t.type,e=t.pendingProps,l=Al(ve.current).createElement(r),l[gt]=t,l[Ct]=e,vt(l,r,e),ht(l),t.stateNode=l):t.memoizedState=t0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ys(t),e===null&&Ae&&(l=t.stateNode=Fm(t.type,t.pendingProps,ve.current),pt=t,is=!0,c=Ve,ya(t.type)?(yu=c,Ve=os(l.firstChild)):Ve=c),yt(e,t,t.pendingProps.children,r),cl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ae&&((c=l=Ve)&&(l=Jx(l,t.type,t.pendingProps,is),l!==null?(t.stateNode=l,pt=t,Ve=os(l.firstChild),is=!1,c=!0):c=!1),c||na(t)),ys(t),c=t.type,h=t.pendingProps,x=e!==null?e.memoizedProps:null,l=h.children,fu(c,h)?l=null:x!==null&&fu(c,x)&&(t.flags|=32),t.memoizedState!==null&&(c=hc(e,t,dx,null,null,r),Zr._currentValue=c),cl(e,t),yt(e,t,l,r),t.child;case 6:return e===null&&Ae&&((e=r=Ve)&&(r=Zx(r,t.pendingProps,is),r!==null?(t.stateNode=r,pt=t,Ve=null,e=!0):e=!1),e||na(t)),null;case 13:return $f(e,t,r);case 4:return dt(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ga(t,null,l,r):yt(e,t,l,r),t.child;case 11:return Of(e,t,t.type,t.pendingProps,r);case 7:return yt(e,t,t.pendingProps,r),t.child;case 8:return yt(e,t,t.pendingProps.children,r),t.child;case 12:return yt(e,t,t.pendingProps.children,r),t.child;case 10:return l=t.pendingProps,ra(t,t.type,l.value),yt(e,t,l.children,r),t.child;case 9:return c=t.type._context,l=t.pendingProps.children,La(t),c=xt(c),l=l(c),t.flags|=1,yt(e,t,l,r),t.child;case 14:return Df(e,t,t.type,t.pendingProps,r);case 15:return zf(e,t,t.type,t.pendingProps,r);case 19:return If(e,t,r);case 31:return vx(e,t,r);case 22:return Mf(e,t,r,t.pendingProps);case 24:return La(t),l=xt(st),e===null?(c=sc(),c===null&&(c=Le,h=ec(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=r),c=h),t.memoizedState={parent:l,cache:c},nc(t),ra(t,st,c)):((e.lanes&r)!==0&&(rc(e,t),Rr(t,null,null,r),Cr()),c=e.memoizedState,h=t.memoizedState,c.parent!==l?(c={parent:l,cache:l},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),ra(t,st,l)):(l=h.cache,ra(t,st,l),l!==c.cache&&Wo(t,[st],r,!0))),yt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function zs(e){e.flags|=4}function Hc(e,t,r,l,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(xm())e.flags|=8192;else throw $a=Qi,ac}else e.flags&=-16777217}function Kf(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!i0(t))if(xm())e.flags|=8192;else throw $a=Qi,ac}function dl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Nd():536870912,e.lanes|=t,Rn|=t)}function Br(e,t){if(!Ae)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(t)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=r,t}function jx(e,t,r){var l=t.pendingProps;switch(Qo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return Ke(t),null;case 3:return r=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Cs(st),qe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(yn(t)?zs(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Jo())),Ke(t),null;case 26:var c=t.type,h=t.memoizedState;return e===null?(zs(t),h!==null?(Ke(t),Kf(t,h)):(Ke(t),Hc(t,c,null,l,r))):h?h!==e.memoizedState?(zs(t),Ke(t),Kf(t,h)):(Ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&zs(t),Ke(t),Hc(t,c,e,l,r)),null;case 27:if(Zs(t),r=ve.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&zs(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Ke(t),null}e=Z.current,yn(t)?Nh(t):(e=Fm(c,l,r),t.stateNode=e,zs(t))}return Ke(t),null;case 5:if(Zs(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&zs(t);else{if(!l){if(t.stateNode===null)throw Error(o(166));return Ke(t),null}if(h=Z.current,yn(t))Nh(t);else{var x=Al(ve.current);switch(h){case 1:h=x.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=x.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=x.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=x.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?x.createElement("select",{is:l.is}):x.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?x.createElement(c,{is:l.is}):x.createElement(c)}}h[gt]=t,h[Ct]=l;e:for(x=t.child;x!==null;){if(x.tag===5||x.tag===6)h.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===t)break e;for(;x.sibling===null;){if(x.return===null||x.return===t)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}t.stateNode=h;e:switch(vt(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&zs(t)}}return Ke(t),Hc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&zs(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(o(166));if(e=ve.current,yn(t)){if(e=t.stateNode,r=t.memoizedProps,l=null,c=pt,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[gt]=t,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||$m(e.nodeValue,r)),e||na(t,!0)}else e=Al(e).createTextNode(l),e[gt]=t,t.stateNode=e}return Ke(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(l=yn(t),r!==null){if(e===null){if(!l)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[gt]=t}else Ua(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),e=!1}else r=Jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(Kt(t),t):(Kt(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Ke(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=yn(t),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(o(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[gt]=t}else Ua(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ke(t),c=!1}else c=Jo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Kt(t),t):(Kt(t),null)}return Kt(t),(t.flags&128)!==0?(t.lanes=r,t):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=t.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),dl(t,t.updateQueue),Ke(t),null);case 4:return qe(),e===null&&ou(t.stateNode.containerInfo),Ke(t),null;case 10:return Cs(t.type),Ke(t),null;case 19:if($(et),l=t.memoizedState,l===null)return Ke(t),null;if(c=(t.flags&128)!==0,h=l.rendering,h===null)if(c)Br(l,!1);else{if(Je!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(h=Fi(e),h!==null){for(t.flags|=128,Br(l,!1),e=h.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)yh(r,e),r=r.sibling;return K(et,et.current&1|2),Ae&&ks(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&qt()>pl&&(t.flags|=128,c=!0,Br(l,!1),t.lanes=4194304)}else{if(!c)if(e=Fi(h),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),Br(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ae)return Ke(t),null}else 2*qt()-l.renderingStartTime>pl&&r!==536870912&&(t.flags|=128,c=!0,Br(l,!1),t.lanes=4194304);l.isBackwards?(h.sibling=t.child,t.child=h):(e=l.last,e!==null?e.sibling=h:t.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=qt(),e.sibling=null,r=et.current,K(et,c?r&1|2:r&1),Ae&&ks(t,l.treeForkCount),e):(Ke(t),null);case 22:case 23:return Kt(t),cc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(r&536870912)!==0&&(t.flags&128)===0&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),r=t.updateQueue,r!==null&&dl(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==r&&(t.flags|=2048),e!==null&&$(qa),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Cs(st),Ke(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function wx(e,t){switch(Qo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Cs(st),qe(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Zs(t),null;case 31:if(t.memoizedState!==null){if(Kt(t),t.alternate===null)throw Error(o(340));Ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Kt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));Ua()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $(et),null;case 4:return qe(),null;case 10:return Cs(t.type),null;case 22:case 23:return Kt(t),cc(),e!==null&&$(qa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Cs(st),null;case 25:return null;default:return null}}function Pf(e,t){switch(Qo(t),t.tag){case 3:Cs(st),qe();break;case 26:case 27:case 5:Zs(t);break;case 4:qe();break;case 31:t.memoizedState!==null&&Kt(t);break;case 13:Kt(t);break;case 19:$(et);break;case 10:Cs(t.type);break;case 22:case 23:Kt(t),cc(),e!==null&&$(qa);break;case 24:Cs(st)}}function Lr(e,t){try{var r=t.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&e)===e){l=void 0;var h=r.create,x=r.inst;l=h(),x.destroy=l}r=r.next}while(r!==c)}}catch(b){ze(t,t.return,b)}}function da(e,t,r){try{var l=t.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&e)===e){var x=l.inst,b=x.destroy;if(b!==void 0){x.destroy=void 0,c=t;var A=r,z=b;try{z()}catch(q){ze(c,A,q)}}}l=l.next}while(l!==h)}}catch(q){ze(t,t.return,q)}}function Yf(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{Uh(t,r)}catch(l){ze(e,e.return,l)}}}function Qf(e,t,r){r.props=Va(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){ze(e,t,l)}}function qr(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(c){ze(e,t,c)}}function js(e,t){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){ze(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){ze(e,t,c)}else r.current=null}function Xf(e){var t=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){ze(e,e.return,c)}}function $c(e,t,r){try{var l=e.stateNode;Vx(l,e.type,r,t),l[Ct]=t}catch(c){ze(e,e.return,c)}}function Jf(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ya(e.type)||e.tag===4}function Gc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Jf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ic(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ss));else if(l!==4&&(l===27&&ya(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Ic(e,t,r),e=e.sibling;e!==null;)Ic(e,t,r),e=e.sibling}function hl(e,t,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(l!==4&&(l===27&&ya(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(hl(e,t,r),e=e.sibling;e!==null;)hl(e,t,r),e=e.sibling}function Zf(e){var t=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);vt(t,l,r),t[gt]=e,t[Ct]=r}catch(h){ze(e,e.return,h)}}var Ms=!1,rt=!1,Vc=!1,Ff=typeof WeakSet=="function"?WeakSet:Set,ft=null;function Nx(e,t){if(e=e.containerInfo,du=Dl,e=ch(e),Bo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var x=0,b=-1,A=-1,z=0,q=0,G=e,U=null;t:for(;;){for(var L;G!==r||c!==0&&G.nodeType!==3||(b=x+c),G!==h||l!==0&&G.nodeType!==3||(A=x+l),G.nodeType===3&&(x+=G.nodeValue.length),(L=G.firstChild)!==null;)U=G,G=L;for(;;){if(G===e)break t;if(U===r&&++z===c&&(b=x),U===h&&++q===l&&(A=x),(L=G.nextSibling)!==null)break;G=U,U=G.parentNode}G=L}r=b===-1||A===-1?null:{start:b,end:A}}else r=null}r=r||{start:0,end:0}}else r=null;for(hu={focusedElem:e,selectionRange:r},Dl=!1,ft=t;ft!==null;)if(t=ft,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ft=e;else for(;ft!==null;){switch(t=ft,h=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)c=e[r],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,r=t,c=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var ee=Va(r.type,c);e=l.getSnapshotBeforeUpdate(ee,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(ue){ze(r,r.return,ue)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)gu(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,ft=e;break}ft=t.return}}function Wf(e,t,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Bs(e,r),l&4&&Lr(5,r);break;case 1:if(Bs(e,r),l&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(x){ze(r,r.return,x)}else{var c=Va(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){ze(r,r.return,x)}}l&64&&Yf(r),l&512&&qr(r,r.return);break;case 3:if(Bs(e,r),l&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{Uh(e,t)}catch(x){ze(r,r.return,x)}}break;case 27:t===null&&l&4&&Zf(r);case 26:case 5:Bs(e,r),t===null&&l&4&&Xf(r),l&512&&qr(r,r.return);break;case 12:Bs(e,r);break;case 31:Bs(e,r),l&4&&sm(e,r);break;case 13:Bs(e,r),l&4&&am(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=Ox.bind(null,r),Fx(e,r))));break;case 22:if(l=r.memoizedState!==null||Ms,!l){t=t!==null&&t.memoizedState!==null||rt,c=Ms;var h=rt;Ms=l,(rt=t)&&!h?Ls(e,r,(r.subtreeFlags&8772)!==0):Bs(e,r),Ms=c,rt=h}break;case 30:break;default:Bs(e,r)}}function em(e){var t=e.alternate;t!==null&&(e.alternate=null,em(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&bo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,Ot=!1;function Us(e,t,r){for(r=r.child;r!==null;)tm(e,t,r),r=r.sibling}function tm(e,t,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(cr,r)}catch{}switch(r.tag){case 26:rt||js(r,t),Us(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:rt||js(r,t);var l=Ye,c=Ot;ya(r.type)&&(Ye=r.stateNode,Ot=!1),Us(e,t,r),Qr(r.stateNode),Ye=l,Ot=c;break;case 5:rt||js(r,t);case 6:if(l=Ye,c=Ot,Ye=null,Us(e,t,r),Ye=l,Ot=c,Ye!==null)if(Ot)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(r.stateNode)}catch(h){ze(r,t,h)}else try{Ye.removeChild(r.stateNode)}catch(h){ze(r,t,h)}break;case 18:Ye!==null&&(Ot?(e=Ye,Ym(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),qn(e)):Ym(Ye,r.stateNode));break;case 4:l=Ye,c=Ot,Ye=r.stateNode.containerInfo,Ot=!0,Us(e,t,r),Ye=l,Ot=c;break;case 0:case 11:case 14:case 15:da(2,r,t),rt||da(4,r,t),Us(e,t,r);break;case 1:rt||(js(r,t),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Qf(r,t,l)),Us(e,t,r);break;case 21:Us(e,t,r);break;case 22:rt=(l=rt)||r.memoizedState!==null,Us(e,t,r),rt=l;break;default:Us(e,t,r)}}function sm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qn(e)}catch(r){ze(t,t.return,r)}}}function am(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qn(e)}catch(r){ze(t,t.return,r)}}function _x(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ff),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ff),t;default:throw Error(o(435,e.tag))}}function fl(e,t){var r=_x(e);t.forEach(function(l){if(!r.has(l)){r.add(l);var c=Dx.bind(null,e,l);l.then(c,c)}})}function Dt(e,t){var r=t.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],h=e,x=t,b=x;e:for(;b!==null;){switch(b.tag){case 27:if(ya(b.type)){Ye=b.stateNode,Ot=!1;break e}break;case 5:Ye=b.stateNode,Ot=!1;break e;case 3:case 4:Ye=b.stateNode.containerInfo,Ot=!0;break e}b=b.return}if(Ye===null)throw Error(o(160));tm(h,x,c),Ye=null,Ot=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)nm(t,e),t=t.sibling}var hs=null;function nm(e,t){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dt(t,e),zt(e),l&4&&(da(3,e,e.return),Lr(3,e),da(5,e,e.return));break;case 1:Dt(t,e),zt(e),l&512&&(rt||r===null||js(r,r.return)),l&64&&Ms&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=hs;if(Dt(t,e),zt(e),l&512&&(rt||r===null||js(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[hr]||h[gt]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),vt(h,l,r),h[gt]=e,ht(h),l=h;break e;case"link":var x=n0("link","href",c).get(l+(r.href||""));if(x){for(var b=0;b<x.length;b++)if(h=x[b],h.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){x.splice(b,1);break t}}h=c.createElement(l),vt(h,l,r),c.head.appendChild(h);break;case"meta":if(x=n0("meta","content",c).get(l+(r.content||""))){for(b=0;b<x.length;b++)if(h=x[b],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){x.splice(b,1);break t}}h=c.createElement(l),vt(h,l,r),c.head.appendChild(h);break;default:throw Error(o(468,l))}h[gt]=e,ht(h),l=h}e.stateNode=l}else r0(c,e.type,e.stateNode);else e.stateNode=a0(c,l,e.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?r0(c,e.type,e.stateNode):a0(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&$c(e,e.memoizedProps,r.memoizedProps)}break;case 27:Dt(t,e),zt(e),l&512&&(rt||r===null||js(r,r.return)),r!==null&&l&4&&$c(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Dt(t,e),zt(e),l&512&&(rt||r===null||js(r,r.return)),e.flags&32){c=e.stateNode;try{on(c,"")}catch(ee){ze(e,e.return,ee)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,$c(e,c,r!==null?r.memoizedProps:c)),l&1024&&(Vc=!0);break;case 6:if(Dt(t,e),zt(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(ee){ze(e,e.return,ee)}}break;case 3:if(El=null,c=hs,hs=Tl(t.containerInfo),Dt(t,e),hs=c,zt(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{qn(t.containerInfo)}catch(ee){ze(e,e.return,ee)}Vc&&(Vc=!1,rm(e));break;case 4:l=hs,hs=Tl(e.stateNode.containerInfo),Dt(t,e),zt(e),hs=l;break;case 12:Dt(t,e),zt(e);break;case 31:Dt(t,e),zt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fl(e,l)));break;case 13:Dt(t,e),zt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(gl=qt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fl(e,l)));break;case 22:c=e.memoizedState!==null;var A=r!==null&&r.memoizedState!==null,z=Ms,q=rt;if(Ms=z||c,rt=q||A,Dt(t,e),rt=q,Ms=z,zt(e),l&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(r===null||A||Ms||rt||Ka(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){A=r=t;try{if(h=A.stateNode,c)x=h.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{b=A.stateNode;var G=A.memoizedProps.style,U=G!=null&&G.hasOwnProperty("display")?G.display:null;b.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(ee){ze(A,A.return,ee)}}}else if(t.tag===6){if(r===null){A=t;try{A.stateNode.nodeValue=c?"":A.memoizedProps}catch(ee){ze(A,A.return,ee)}}}else if(t.tag===18){if(r===null){A=t;try{var L=A.stateNode;c?Qm(L,!0):Qm(A.stateNode,!1)}catch(ee){ze(A,A.return,ee)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,fl(e,r))));break;case 19:Dt(t,e),zt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fl(e,l)));break;case 30:break;case 21:break;default:Dt(t,e),zt(e)}}function zt(e){var t=e.flags;if(t&2){try{for(var r,l=e.return;l!==null;){if(Jf(l)){r=l;break}l=l.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var c=r.stateNode,h=Gc(e);hl(e,h,c);break;case 5:var x=r.stateNode;r.flags&32&&(on(x,""),r.flags&=-33);var b=Gc(e);hl(e,b,x);break;case 3:case 4:var A=r.stateNode.containerInfo,z=Gc(e);Ic(e,z,A);break;default:throw Error(o(161))}}catch(q){ze(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;rm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Bs(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Wf(e,t.alternate,t),t=t.sibling}function Ka(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:da(4,t,t.return),Ka(t);break;case 1:js(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&Qf(t,t.return,r),Ka(t);break;case 27:Qr(t.stateNode);case 26:case 5:js(t,t.return),Ka(t);break;case 22:t.memoizedState===null&&Ka(t);break;case 30:Ka(t);break;default:Ka(t)}e=e.sibling}}function Ls(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,c=e,h=t,x=h.flags;switch(h.tag){case 0:case 11:case 15:Ls(c,h,r),Lr(4,h);break;case 1:if(Ls(c,h,r),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){ze(l,l.return,z)}if(l=h,c=l.updateQueue,c!==null){var b=l.stateNode;try{var A=c.shared.hiddenCallbacks;if(A!==null)for(c.shared.hiddenCallbacks=null,c=0;c<A.length;c++)Mh(A[c],b)}catch(z){ze(l,l.return,z)}}r&&x&64&&Yf(h),qr(h,h.return);break;case 27:Zf(h);case 26:case 5:Ls(c,h,r),r&&l===null&&x&4&&Xf(h),qr(h,h.return);break;case 12:Ls(c,h,r);break;case 31:Ls(c,h,r),r&&x&4&&sm(c,h);break;case 13:Ls(c,h,r),r&&x&4&&am(c,h);break;case 22:h.memoizedState===null&&Ls(c,h,r),qr(h,h.return);break;case 30:break;default:Ls(c,h,r)}t=t.sibling}}function Kc(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Sr(r))}function Pc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Sr(e))}function fs(e,t,r,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)im(e,t,r,l),t=t.sibling}function im(e,t,r,l){var c=t.flags;switch(t.tag){case 0:case 11:case 15:fs(e,t,r,l),c&2048&&Lr(9,t);break;case 1:fs(e,t,r,l);break;case 3:fs(e,t,r,l),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Sr(e)));break;case 12:if(c&2048){fs(e,t,r,l),e=t.stateNode;try{var h=t.memoizedProps,x=h.id,b=h.onPostCommit;typeof b=="function"&&b(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){ze(t,t.return,A)}}else fs(e,t,r,l);break;case 31:fs(e,t,r,l);break;case 13:fs(e,t,r,l);break;case 23:break;case 22:h=t.stateNode,x=t.alternate,t.memoizedState!==null?h._visibility&2?fs(e,t,r,l):Hr(e,t):h._visibility&2?fs(e,t,r,l):(h._visibility|=2,kn(e,t,r,l,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Kc(x,t);break;case 24:fs(e,t,r,l),c&2048&&Pc(t.alternate,t);break;default:fs(e,t,r,l)}}function kn(e,t,r,l,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var h=e,x=t,b=r,A=l,z=x.flags;switch(x.tag){case 0:case 11:case 15:kn(h,x,b,A,c),Lr(8,x);break;case 23:break;case 22:var q=x.stateNode;x.memoizedState!==null?q._visibility&2?kn(h,x,b,A,c):Hr(h,x):(q._visibility|=2,kn(h,x,b,A,c)),c&&z&2048&&Kc(x.alternate,x);break;case 24:kn(h,x,b,A,c),c&&z&2048&&Pc(x.alternate,x);break;default:kn(h,x,b,A,c)}t=t.sibling}}function Hr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,l=t,c=l.flags;switch(l.tag){case 22:Hr(r,l),c&2048&&Kc(l.alternate,l);break;case 24:Hr(r,l),c&2048&&Pc(l.alternate,l);break;default:Hr(r,l)}t=t.sibling}}var $r=8192;function En(e,t,r){if(e.subtreeFlags&$r)for(e=e.child;e!==null;)lm(e,t,r),e=e.sibling}function lm(e,t,r){switch(e.tag){case 26:En(e,t,r),e.flags&$r&&e.memoizedState!==null&&uy(r,hs,e.memoizedState,e.memoizedProps);break;case 5:En(e,t,r);break;case 3:case 4:var l=hs;hs=Tl(e.stateNode.containerInfo),En(e,t,r),hs=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=$r,$r=16777216,En(e,t,r),$r=l):En(e,t,r));break;default:En(e,t,r)}}function om(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Gr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];ft=l,um(l,e)}om(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)cm(e),e=e.sibling}function cm(e){switch(e.tag){case 0:case 11:case 15:Gr(e),e.flags&2048&&da(9,e,e.return);break;case 3:Gr(e);break;case 12:Gr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ml(e)):Gr(e);break;default:Gr(e)}}function ml(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var r=0;r<t.length;r++){var l=t[r];ft=l,um(l,e)}om(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:da(8,t,t.return),ml(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,ml(t));break;default:ml(t)}e=e.sibling}}function um(e,t){for(;ft!==null;){var r=ft;switch(r.tag){case 0:case 11:case 15:da(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Sr(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,ft=l;else e:for(r=e;ft!==null;){l=ft;var c=l.sibling,h=l.return;if(em(l),l===r){ft=null;break e}if(c!==null){c.return=h,ft=c;break e}ft=h}}}var Sx={getCacheForType:function(e){var t=xt(st),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return xt(st).controller.signal}},Ax=typeof WeakMap=="function"?WeakMap:Map,Re=0,Le=null,je=null,Ne=0,De=0,Pt=null,ha=!1,Cn=!1,Yc=!1,qs=0,Je=0,fa=0,Pa=0,Qc=0,Yt=0,Rn=0,Ir=null,Mt=null,Xc=!1,gl=0,dm=0,pl=1/0,xl=null,ma=null,lt=0,ga=null,On=null,Hs=0,Jc=0,Zc=null,hm=null,Vr=0,Fc=null;function Qt(){return(Re&2)!==0&&Ne!==0?Ne&-Ne:B.T!==null?nu():Td()}function fm(){if(Yt===0)if((Ne&536870912)===0||Ae){var e=Si;Si<<=1,(Si&3932160)===0&&(Si=262144),Yt=e}else Yt=536870912;return e=Vt.current,e!==null&&(e.flags|=32),Yt}function Ut(e,t,r){(e===Le&&(De===2||De===9)||e.cancelPendingCommit!==null)&&(Dn(e,0),pa(e,Ne,Yt,!1)),dr(e,r),((Re&2)===0||e!==Le)&&(e===Le&&((Re&2)===0&&(Pa|=r),Je===4&&pa(e,Ne,Yt,!1)),ws(e))}function mm(e,t,r){if((Re&6)!==0)throw Error(o(327));var l=!r&&(t&127)===0&&(t&e.expiredLanes)===0||ur(e,t),c=l?Ex(e,t):eu(e,t,!0),h=l;do{if(c===0){Cn&&!l&&pa(e,t,0,!1);break}else{if(r=e.current.alternate,h&&!Tx(r)){c=eu(e,t,!1),h=!1;continue}if(c===2){if(h=t,e.errorRecoveryDisabledLanes&h)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var b=e;c=Ir;var A=b.current.memoizedState.isDehydrated;if(A&&(Dn(b,x).flags|=256),x=eu(b,x,!1),x!==2){if(Yc&&!A){b.errorRecoveryDisabledLanes|=h,Pa|=h,c=4;break e}h=Mt,Mt=c,h!==null&&(Mt===null?Mt=h:Mt.push.apply(Mt,h))}c=x}if(h=!1,c!==2)continue}}if(c===1){Dn(e,0),pa(e,t,0,!0);break}e:{switch(l=e,h=c,h){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:pa(l,t,Yt,!ha);break e;case 2:Mt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(c=gl+300-qt(),10<c)){if(pa(l,t,Yt,!ha),Ti(l,0,!0)!==0)break e;Hs=t,l.timeoutHandle=Km(gm.bind(null,l,r,Mt,xl,Xc,t,Yt,Pa,Rn,ha,h,"Throttled",-0,0),c);break e}gm(l,r,Mt,xl,Xc,t,Yt,Pa,Rn,ha,h,null,-0,0)}}break}while(!0);ws(e)}function gm(e,t,r,l,c,h,x,b,A,z,q,G,U,L){if(e.timeoutHandle=-1,G=t.subtreeFlags,G&8192||(G&16785408)===16785408){G={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ss},lm(t,h,G);var ee=(h&62914560)===h?gl-qt():(h&4194048)===h?dm-qt():0;if(ee=dy(G,ee),ee!==null){Hs=h,e.cancelPendingCommit=ee(Nm.bind(null,e,t,h,r,l,c,x,b,A,q,G,null,U,L)),pa(e,h,x,!z);return}}Nm(e,t,h,r,l,c,x,b,A)}function Tx(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],h=c.getSnapshot;c=c.value;try{if(!Gt(h(),c))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function pa(e,t,r,l){t&=~Qc,t&=~Pa,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var c=t;0<c;){var h=31-$t(c),x=1<<h;l[h]=-1,c&=~x}r!==0&&_d(e,r,t)}function yl(){return(Re&6)===0?(Kr(0),!1):!0}function Wc(){if(je!==null){if(De===0)var e=je.return;else e=je,Es=Ba=null,gc(e),Nn=null,Tr=0,e=je;for(;e!==null;)Pf(e.alternate,e),e=e.return;je=null}}function Dn(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Yx(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Hs=0,Wc(),Le=e,je=r=Ts(e.current,null),Ne=t,De=0,Pt=null,ha=!1,Cn=ur(e,t),Yc=!1,Rn=Yt=Qc=Pa=fa=Je=0,Mt=Ir=null,Xc=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var c=31-$t(l),h=1<<c;t|=e[c],l&=~h}return qs=t,qi(),r}function pm(e,t){xe=null,B.H=Mr,t===wn||t===Yi?(t=Rh(),De=3):t===ac?(t=Rh(),De=4):De=t===Rc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Pt=t,je===null&&(Je=1,ll(e,as(t,e.current)))}function xm(){var e=Vt.current;return e===null?!0:(Ne&4194048)===Ne?ls===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?e===ls:!1}function ym(){var e=B.H;return B.H=Mr,e===null?Mr:e}function vm(){var e=B.A;return B.A=Sx,e}function vl(){Je=4,ha||(Ne&4194048)!==Ne&&Vt.current!==null||(Cn=!0),(fa&134217727)===0&&(Pa&134217727)===0||Le===null||pa(Le,Ne,Yt,!1)}function eu(e,t,r){var l=Re;Re|=2;var c=ym(),h=vm();(Le!==e||Ne!==t)&&(xl=null,Dn(e,t)),t=!1;var x=Je;e:do try{if(De!==0&&je!==null){var b=je,A=Pt;switch(De){case 8:Wc(),x=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(t=!0);var z=De;if(De=0,Pt=null,zn(e,b,A,z),r&&Cn){x=0;break e}break;default:z=De,De=0,Pt=null,zn(e,b,A,z)}}kx(),x=Je;break}catch(q){pm(e,q)}while(!0);return t&&e.shellSuspendCounter++,Es=Ba=null,Re=l,B.H=c,B.A=h,je===null&&(Le=null,Ne=0,qi()),x}function kx(){for(;je!==null;)bm(je)}function Ex(e,t){var r=Re;Re|=2;var l=ym(),c=vm();Le!==e||Ne!==t?(xl=null,pl=qt()+500,Dn(e,t)):Cn=ur(e,t);e:do try{if(De!==0&&je!==null){t=je;var h=Pt;t:switch(De){case 1:De=0,Pt=null,zn(e,t,h,1);break;case 2:case 9:if(Eh(h)){De=0,Pt=null,jm(t);break}t=function(){De!==2&&De!==9||Le!==e||(De=7),ws(e)},h.then(t,t);break e;case 3:De=7;break e;case 4:De=5;break e;case 7:Eh(h)?(De=0,Pt=null,jm(t)):(De=0,Pt=null,zn(e,t,h,7));break;case 5:var x=null;switch(je.tag){case 26:x=je.memoizedState;case 5:case 27:var b=je;if(x?i0(x):b.stateNode.complete){De=0,Pt=null;var A=b.sibling;if(A!==null)je=A;else{var z=b.return;z!==null?(je=z,bl(z)):je=null}break t}}De=0,Pt=null,zn(e,t,h,5);break;case 6:De=0,Pt=null,zn(e,t,h,6);break;case 8:Wc(),Je=6;break e;default:throw Error(o(462))}}Cx();break}catch(q){pm(e,q)}while(!0);return Es=Ba=null,B.H=l,B.A=c,Re=r,je!==null?0:(Le=null,Ne=0,qi(),Je)}function Cx(){for(;je!==null&&!Wg();)bm(je)}function bm(e){var t=Vf(e.alternate,e,qs);e.memoizedProps=e.pendingProps,t===null?bl(e):je=t}function jm(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Lf(r,t,t.pendingProps,t.type,void 0,Ne);break;case 11:t=Lf(r,t,t.pendingProps,t.type.render,t.ref,Ne);break;case 5:gc(t);default:Pf(r,t),t=je=yh(t,qs),t=Vf(r,t,qs)}e.memoizedProps=e.pendingProps,t===null?bl(e):je=t}function zn(e,t,r,l){Es=Ba=null,gc(t),Nn=null,Tr=0;var c=t.return;try{if(yx(e,c,t,r,Ne)){Je=1,ll(e,as(r,e.current)),je=null;return}}catch(h){if(c!==null)throw je=c,h;Je=1,ll(e,as(r,e.current)),je=null;return}t.flags&32768?(Ae||l===1?e=!0:Cn||(Ne&536870912)!==0?e=!1:(ha=e=!0,(l===2||l===9||l===3||l===6)&&(l=Vt.current,l!==null&&l.tag===13&&(l.flags|=16384))),wm(t,e)):bl(t)}function bl(e){var t=e;do{if((t.flags&32768)!==0){wm(t,ha);return}e=t.return;var r=jx(t.alternate,t,qs);if(r!==null){je=r;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Je===0&&(Je=5)}function wm(e,t){do{var r=wx(e.alternate,e);if(r!==null){r.flags&=32767,je=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){je=e;return}je=e=r}while(e!==null);Je=6,je=null}function Nm(e,t,r,l,c,h,x,b,A){e.cancelPendingCommit=null;do jl();while(lt!==0);if((Re&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(h=t.lanes|t.childLanes,h|=Go,cp(e,r,h,x,b,A),e===Le&&(je=Le=null,Ne=0),On=t,ga=e,Hs=r,Jc=h,Zc=c,hm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,zx(Ni,function(){return km(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,c=Y.p,Y.p=2,x=Re,Re|=4;try{Nx(e,t,r)}finally{Re=x,Y.p=c,B.T=l}}lt=1,_m(),Sm(),Am()}}function _m(){if(lt===1){lt=0;var e=ga,t=On,r=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||r){r=B.T,B.T=null;var l=Y.p;Y.p=2;var c=Re;Re|=4;try{nm(t,e);var h=hu,x=ch(e.containerInfo),b=h.focusedElem,A=h.selectionRange;if(x!==b&&b&&b.ownerDocument&&oh(b.ownerDocument.documentElement,b)){if(A!==null&&Bo(b)){var z=A.start,q=A.end;if(q===void 0&&(q=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(q,b.value.length);else{var G=b.ownerDocument||document,U=G&&G.defaultView||window;if(U.getSelection){var L=U.getSelection(),ee=b.textContent.length,ue=Math.min(A.start,ee),Be=A.end===void 0?ue:Math.min(A.end,ee);!L.extend&&ue>Be&&(x=Be,Be=ue,ue=x);var O=lh(b,ue),T=lh(b,Be);if(O&&T&&(L.rangeCount!==1||L.anchorNode!==O.node||L.anchorOffset!==O.offset||L.focusNode!==T.node||L.focusOffset!==T.offset)){var D=G.createRange();D.setStart(O.node,O.offset),L.removeAllRanges(),ue>Be?(L.addRange(D),L.extend(T.node,T.offset)):(D.setEnd(T.node,T.offset),L.addRange(D))}}}}for(G=[],L=b;L=L.parentNode;)L.nodeType===1&&G.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<G.length;b++){var H=G[b];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Dl=!!du,hu=du=null}finally{Re=c,Y.p=l,B.T=r}}e.current=t,lt=2}}function Sm(){if(lt===2){lt=0;var e=ga,t=On,r=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||r){r=B.T,B.T=null;var l=Y.p;Y.p=2;var c=Re;Re|=4;try{Wf(e,t.alternate,t)}finally{Re=c,Y.p=l,B.T=r}}lt=3}}function Am(){if(lt===4||lt===3){lt=0,ep();var e=ga,t=On,r=Hs,l=hm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?lt=5:(lt=0,On=ga=null,Tm(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ma=null),yo(r),t=t.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(cr,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=B.T,c=Y.p,Y.p=2,B.T=null;try{for(var h=e.onRecoverableError,x=0;x<l.length;x++){var b=l[x];h(b.value,{componentStack:b.stack})}}finally{B.T=t,Y.p=c}}(Hs&3)!==0&&jl(),ws(e),c=e.pendingLanes,(r&261930)!==0&&(c&42)!==0?e===Fc?Vr++:(Vr=0,Fc=e):Vr=0,Kr(0)}}function Tm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Sr(t)))}function jl(){return _m(),Sm(),Am(),km()}function km(){if(lt!==5)return!1;var e=ga,t=Jc;Jc=0;var r=yo(Hs),l=B.T,c=Y.p;try{Y.p=32>r?32:r,B.T=null,r=Zc,Zc=null;var h=ga,x=Hs;if(lt=0,On=ga=null,Hs=0,(Re&6)!==0)throw Error(o(331));var b=Re;if(Re|=4,cm(h.current),im(h,h.current,x,r),Re=b,Kr(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(cr,h)}catch{}return!0}finally{Y.p=c,B.T=l,Tm(e,t)}}function Em(e,t,r){t=as(r,t),t=Cc(e.stateNode,t,2),e=oa(e,t,2),e!==null&&(dr(e,2),ws(e))}function ze(e,t,r){if(e.tag===3)Em(e,e,r);else for(;t!==null;){if(t.tag===3){Em(t,e,r);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ma===null||!ma.has(l))){e=as(r,e),r=Cf(2),l=oa(t,r,2),l!==null&&(Rf(r,l,t,e),dr(l,2),ws(l));break}}t=t.return}}function tu(e,t,r){var l=e.pingCache;if(l===null){l=e.pingCache=new Ax;var c=new Set;l.set(t,c)}else c=l.get(t),c===void 0&&(c=new Set,l.set(t,c));c.has(r)||(Yc=!0,c.add(r),e=Rx.bind(null,e,t,r),t.then(e,e))}function Rx(e,t,r){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Le===e&&(Ne&r)===r&&(Je===4||Je===3&&(Ne&62914560)===Ne&&300>qt()-gl?(Re&2)===0&&Dn(e,0):Qc|=r,Rn===Ne&&(Rn=0)),ws(e)}function Cm(e,t){t===0&&(t=Nd()),e=za(e,t),e!==null&&(dr(e,t),ws(e))}function Ox(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Cm(e,r)}function Dx(e,t){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(t),Cm(e,r)}function zx(e,t){return mo(e,t)}var wl=null,Mn=null,su=!1,Nl=!1,au=!1,xa=0;function ws(e){e!==Mn&&e.next===null&&(Mn===null?wl=Mn=e:Mn=Mn.next=e),Nl=!0,su||(su=!0,Ux())}function Kr(e,t){if(!au&&Nl){au=!0;do for(var r=!1,l=wl;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var x=l.suspendedLanes,b=l.pingedLanes;h=(1<<31-$t(42|e)+1)-1,h&=c&~(x&~b),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(r=!0,zm(l,h))}else h=Ne,h=Ti(l,l===Le?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ur(l,h)||(r=!0,zm(l,h));l=l.next}while(r);au=!1}}function Mx(){Rm()}function Rm(){Nl=su=!1;var e=0;xa!==0&&Px()&&(e=xa);for(var t=qt(),r=null,l=wl;l!==null;){var c=l.next,h=Om(l,t);h===0?(l.next=null,r===null?wl=c:r.next=c,c===null&&(Mn=r)):(r=l,(e!==0||(h&3)!==0)&&(Nl=!0)),l=c}lt!==0&&lt!==5||Kr(e),xa!==0&&(xa=0)}function Om(e,t){for(var r=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var x=31-$t(h),b=1<<x,A=c[x];A===-1?((b&r)===0||(b&l)!==0)&&(c[x]=op(b,t)):A<=t&&(e.expiredLanes|=b),h&=~b}if(t=Le,r=Ne,r=Ti(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===t&&(De===2||De===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&go(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||ur(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(l!==null&&go(l),yo(r)){case 2:case 8:r=jd;break;case 32:r=Ni;break;case 268435456:r=wd;break;default:r=Ni}return l=Dm.bind(null,e),r=mo(r,l),e.callbackPriority=t,e.callbackNode=r,t}return l!==null&&l!==null&&go(l),e.callbackPriority=2,e.callbackNode=null,2}function Dm(e,t){if(lt!==0&&lt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(jl()&&e.callbackNode!==r)return null;var l=Ne;return l=Ti(e,e===Le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(mm(e,l,t),Om(e,qt()),e.callbackNode!=null&&e.callbackNode===r?Dm.bind(null,e):null)}function zm(e,t){if(jl())return null;mm(e,t,!0)}function Ux(){Qx(function(){(Re&6)!==0?mo(bd,Mx):Rm()})}function nu(){if(xa===0){var e=bn;e===0&&(e=_i,_i<<=1,(_i&261888)===0&&(_i=256)),xa=e}return xa}function Mm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ri(""+e)}function Um(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function Bx(e,t,r,l,c){if(t==="submit"&&r&&r.stateNode===c){var h=Mm((c[Ct]||null).action),x=l.submitter;x&&(t=(t=x[Ct]||null)?Mm(t.formAction):x.getAttribute("formAction"),t!==null&&(h=t,x=null));var b=new Mi("action","action",null,l,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(xa!==0){var A=x?Um(c,x):new FormData(c);_c(r,{pending:!0,data:A,method:c.method,action:h},null,A)}}else typeof h=="function"&&(b.preventDefault(),A=x?Um(c,x):new FormData(c),_c(r,{pending:!0,data:A,method:c.method,action:h},h,A))},currentTarget:c}]})}}for(var ru=0;ru<$o.length;ru++){var iu=$o[ru],Lx=iu.toLowerCase(),qx=iu[0].toUpperCase()+iu.slice(1);ds(Lx,"on"+qx)}ds(hh,"onAnimationEnd"),ds(fh,"onAnimationIteration"),ds(mh,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(tx,"onTransitionRun"),ds(sx,"onTransitionStart"),ds(ax,"onTransitionCancel"),ds(gh,"onTransitionEnd"),rn("onMouseEnter",["mouseout","mouseover"]),rn("onMouseLeave",["mouseout","mouseover"]),rn("onPointerEnter",["pointerout","pointerover"]),rn("onPointerLeave",["pointerout","pointerover"]),Ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pr));function Bm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],c=l.event;l=l.listeners;e:{var h=void 0;if(t)for(var x=l.length-1;0<=x;x--){var b=l[x],A=b.instance,z=b.currentTarget;if(b=b.listener,A!==h&&c.isPropagationStopped())break e;h=b,c.currentTarget=z;try{h(c)}catch(q){Li(q)}c.currentTarget=null,h=A}else for(x=0;x<l.length;x++){if(b=l[x],A=b.instance,z=b.currentTarget,b=b.listener,A!==h&&c.isPropagationStopped())break e;h=b,c.currentTarget=z;try{h(c)}catch(q){Li(q)}c.currentTarget=null,h=A}}}}function we(e,t){var r=t[vo];r===void 0&&(r=t[vo]=new Set);var l=e+"__bubble";r.has(l)||(Lm(t,e,2,!1),r.add(l))}function lu(e,t,r){var l=0;t&&(l|=4),Lm(r,e,l,t)}var _l="_reactListening"+Math.random().toString(36).slice(2);function ou(e){if(!e[_l]){e[_l]=!0,Cd.forEach(function(r){r!=="selectionchange"&&(Hx.has(r)||lu(r,!1,e),lu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_l]||(t[_l]=!0,lu("selectionchange",!1,t))}}function Lm(e,t,r,l){switch(f0(t)){case 2:var c=my;break;case 8:c=gy;break;default:c=Nu}r=c.bind(null,t,r,e),c=void 0,!ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(t,r,{capture:!0,passive:c}):e.addEventListener(t,r,!0):c!==void 0?e.addEventListener(t,r,{passive:c}):e.addEventListener(t,r,!1)}function cu(e,t,r,l,c){var h=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var x=l.tag;if(x===3||x===4){var b=l.stateNode.containerInfo;if(b===c)break;if(x===4)for(x=l.return;x!==null;){var A=x.tag;if((A===3||A===4)&&x.stateNode.containerInfo===c)return;x=x.return}for(;b!==null;){if(x=sn(b),x===null)return;if(A=x.tag,A===5||A===6||A===26||A===27){l=h=x;continue e}b=b.parentNode}}l=l.return}Gd(function(){var z=h,q=Ao(r),G=[];e:{var U=ph.get(e);if(U!==void 0){var L=Mi,ee=e;switch(e){case"keypress":if(Di(r)===0)break e;case"keydown":case"keyup":L=Dp;break;case"focusin":ee="focus",L=Oo;break;case"focusout":ee="blur",L=Oo;break;case"beforeblur":case"afterblur":L=Oo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=Up;break;case hh:case fh:case mh:L=_p;break;case gh:L=Lp;break;case"scroll":case"scrollend":L=vp;break;case"wheel":L=Hp;break;case"copy":case"cut":case"paste":L=Ap;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Yd;break;case"toggle":case"beforetoggle":L=Gp}var ue=(t&4)!==0,Be=!ue&&(e==="scroll"||e==="scrollend"),O=ue?U!==null?U+"Capture":null:U;ue=[];for(var T=z,D;T!==null;){var H=T;if(D=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||D===null||O===null||(H=mr(T,O),H!=null&&ue.push(Yr(T,H,D))),Be)break;T=T.return}0<ue.length&&(U=new L(U,ee,null,r,q),G.push({event:U,listeners:ue}))}}if((t&7)===0){e:{if(U=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",U&&r!==So&&(ee=r.relatedTarget||r.fromElement)&&(sn(ee)||ee[tn]))break e;if((L||U)&&(U=q.window===q?q:(U=q.ownerDocument)?U.defaultView||U.parentWindow:window,L?(ee=r.relatedTarget||r.toElement,L=z,ee=ee?sn(ee):null,ee!==null&&(Be=d(ee),ue=ee.tag,ee!==Be||ue!==5&&ue!==27&&ue!==6)&&(ee=null)):(L=null,ee=z),L!==ee)){if(ue=Kd,H="onMouseLeave",O="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(ue=Yd,H="onPointerLeave",O="onPointerEnter",T="pointer"),Be=L==null?U:fr(L),D=ee==null?U:fr(ee),U=new ue(H,T+"leave",L,r,q),U.target=Be,U.relatedTarget=D,H=null,sn(q)===z&&(ue=new ue(O,T+"enter",ee,r,q),ue.target=D,ue.relatedTarget=Be,H=ue),Be=H,L&&ee)t:{for(ue=$x,O=L,T=ee,D=0,H=O;H;H=ue(H))D++;H=0;for(var le=T;le;le=ue(le))H++;for(;0<D-H;)O=ue(O),D--;for(;0<H-D;)T=ue(T),H--;for(;D--;){if(O===T||T!==null&&O===T.alternate){ue=O;break t}O=ue(O),T=ue(T)}ue=null}else ue=null;L!==null&&qm(G,U,L,ue,!1),ee!==null&&Be!==null&&qm(G,Be,ee,ue,!0)}}e:{if(U=z?fr(z):window,L=U.nodeName&&U.nodeName.toLowerCase(),L==="select"||L==="input"&&U.type==="file")var ke=th;else if(Wd(U))if(sh)ke=Fp;else{ke=Jp;var ne=Xp}else L=U.nodeName,!L||L.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?z&&_o(z.elementType)&&(ke=th):ke=Zp;if(ke&&(ke=ke(e,z))){eh(G,ke,r,q);break e}ne&&ne(e,U,z),e==="focusout"&&z&&U.type==="number"&&z.memoizedProps.value!=null&&No(U,"number",U.value)}switch(ne=z?fr(z):window,e){case"focusin":(Wd(ne)||ne.contentEditable==="true")&&(hn=ne,Lo=z,wr=null);break;case"focusout":wr=Lo=hn=null;break;case"mousedown":qo=!0;break;case"contextmenu":case"mouseup":case"dragend":qo=!1,uh(G,r,q);break;case"selectionchange":if(ex)break;case"keydown":case"keyup":uh(G,r,q)}var ye;if(zo)e:{switch(e){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else dn?Zd(e,r)&&(_e="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_e="onCompositionStart");_e&&(Qd&&r.locale!=="ko"&&(dn||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&dn&&(ye=Id()):(ta=q,Eo="value"in ta?ta.value:ta.textContent,dn=!0)),ne=Sl(z,_e),0<ne.length&&(_e=new Pd(_e,e,null,r,q),G.push({event:_e,listeners:ne}),ye?_e.data=ye:(ye=Fd(r),ye!==null&&(_e.data=ye)))),(ye=Vp?Kp(e,r):Pp(e,r))&&(_e=Sl(z,"onBeforeInput"),0<_e.length&&(ne=new Pd("onBeforeInput","beforeinput",null,r,q),G.push({event:ne,listeners:_e}),ne.data=ye)),Bx(G,e,z,r,q)}Bm(G,t)})}function Yr(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Sl(e,t){for(var r=t+"Capture",l=[];e!==null;){var c=e,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=mr(e,r),c!=null&&l.unshift(Yr(e,c,h)),c=mr(e,t),c!=null&&l.push(Yr(e,c,h))),e.tag===3)return l;e=e.return}return[]}function $x(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qm(e,t,r,l,c){for(var h=t._reactName,x=[];r!==null&&r!==l;){var b=r,A=b.alternate,z=b.stateNode;if(b=b.tag,A!==null&&A===l)break;b!==5&&b!==26&&b!==27||z===null||(A=z,c?(z=mr(r,h),z!=null&&x.unshift(Yr(r,z,A))):c||(z=mr(r,h),z!=null&&x.push(Yr(r,z,A)))),r=r.return}x.length!==0&&e.push({event:t,listeners:x})}var Gx=/\r\n?/g,Ix=/\u0000|\uFFFD/g;function Hm(e){return(typeof e=="string"?e:""+e).replace(Gx,`
`).replace(Ix,"")}function $m(e,t){return t=Hm(t),Hm(e)===t}function Ue(e,t,r,l,c,h){switch(r){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||on(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&on(e,""+l);break;case"className":Ei(e,"class",l);break;case"tabIndex":Ei(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ei(e,r,l);break;case"style":Hd(e,l,h);break;case"data":if(t!=="object"){Ei(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Ri(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(t!=="input"&&Ue(e,t,"name",c.name,c,null),Ue(e,t,"formEncType",c.formEncType,c,null),Ue(e,t,"formMethod",c.formMethod,c,null),Ue(e,t,"formTarget",c.formTarget,c,null)):(Ue(e,t,"encType",c.encType,c,null),Ue(e,t,"method",c.method,c,null),Ue(e,t,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=Ri(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Ss);break;case"onScroll":l!=null&&we("scroll",e);break;case"onScrollEnd":l!=null&&we("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=Ri(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":we("beforetoggle",e),we("toggle",e),ki(e,"popover",l);break;case"xlinkActuate":_s(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":_s(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":_s(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":_s(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":_s(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":_s(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":_s(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":_s(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":_s(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ki(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=xp.get(r)||r,ki(e,r,l))}}function uu(e,t,r,l,c,h){switch(r){case"style":Hd(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"children":typeof l=="string"?on(e,l):(typeof l=="number"||typeof l=="bigint")&&on(e,""+l);break;case"onScroll":l!=null&&we("scroll",e);break;case"onScrollEnd":l!=null&&we("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),t=r.slice(2,c?r.length-7:void 0),h=e[Ct]||null,h=h!=null?h[r]:null,typeof h=="function"&&e.removeEventListener(t,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,l,c);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):ki(e,r,l)}}}function vt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":we("error",e),we("load",e);var l=!1,c=!1,h;for(h in r)if(r.hasOwnProperty(h)){var x=r[h];if(x!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ue(e,t,h,x,r,null)}}c&&Ue(e,t,"srcSet",r.srcSet,r,null),l&&Ue(e,t,"src",r.src,r,null);return;case"input":we("invalid",e);var b=h=x=c=null,A=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var q=r[l];if(q!=null)switch(l){case"name":c=q;break;case"type":x=q;break;case"checked":A=q;break;case"defaultChecked":z=q;break;case"value":h=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(o(137,t));break;default:Ue(e,t,l,q,r,null)}}Ud(e,h,b,A,z,x,c,!1);return;case"select":we("invalid",e),l=x=h=null;for(c in r)if(r.hasOwnProperty(c)&&(b=r[c],b!=null))switch(c){case"value":h=b;break;case"defaultValue":x=b;break;case"multiple":l=b;default:Ue(e,t,c,b,r,null)}t=h,r=x,e.multiple=!!l,t!=null?ln(e,!!l,t,!1):r!=null&&ln(e,!!l,r,!0);return;case"textarea":we("invalid",e),h=c=l=null;for(x in r)if(r.hasOwnProperty(x)&&(b=r[x],b!=null))switch(x){case"value":l=b;break;case"defaultValue":c=b;break;case"children":h=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(o(91));break;default:Ue(e,t,x,b,r,null)}Ld(e,l,c,h);return;case"option":for(A in r)if(r.hasOwnProperty(A)&&(l=r[A],l!=null))switch(A){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ue(e,t,A,l,r,null)}return;case"dialog":we("beforetoggle",e),we("toggle",e),we("cancel",e),we("close",e);break;case"iframe":case"object":we("load",e);break;case"video":case"audio":for(l=0;l<Pr.length;l++)we(Pr[l],e);break;case"image":we("error",e),we("load",e);break;case"details":we("toggle",e);break;case"embed":case"source":case"link":we("error",e),we("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ue(e,t,z,l,r,null)}return;default:if(_o(t)){for(q in r)r.hasOwnProperty(q)&&(l=r[q],l!==void 0&&uu(e,t,q,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&Ue(e,t,b,l,r,null))}function Vx(e,t,r,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,x=null,b=null,A=null,z=null,q=null;for(L in r){var G=r[L];if(r.hasOwnProperty(L)&&G!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":A=G;default:l.hasOwnProperty(L)||Ue(e,t,L,null,l,G)}}for(var U in l){var L=l[U];if(G=r[U],l.hasOwnProperty(U)&&(L!=null||G!=null))switch(U){case"type":h=L;break;case"name":c=L;break;case"checked":z=L;break;case"defaultChecked":q=L;break;case"value":x=L;break;case"defaultValue":b=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(o(137,t));break;default:L!==G&&Ue(e,t,U,L,l,G)}}wo(e,x,b,A,z,q,h,c);return;case"select":L=x=b=U=null;for(h in r)if(A=r[h],r.hasOwnProperty(h)&&A!=null)switch(h){case"value":break;case"multiple":L=A;default:l.hasOwnProperty(h)||Ue(e,t,h,null,l,A)}for(c in l)if(h=l[c],A=r[c],l.hasOwnProperty(c)&&(h!=null||A!=null))switch(c){case"value":U=h;break;case"defaultValue":b=h;break;case"multiple":x=h;default:h!==A&&Ue(e,t,c,h,l,A)}t=b,r=x,l=L,U!=null?ln(e,!!r,U,!1):!!l!=!!r&&(t!=null?ln(e,!!r,t,!0):ln(e,!!r,r?[]:"",!1));return;case"textarea":L=U=null;for(b in r)if(c=r[b],r.hasOwnProperty(b)&&c!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ue(e,t,b,null,l,c)}for(x in l)if(c=l[x],h=r[x],l.hasOwnProperty(x)&&(c!=null||h!=null))switch(x){case"value":U=c;break;case"defaultValue":L=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==h&&Ue(e,t,x,c,l,h)}Bd(e,U,L);return;case"option":for(var ee in r)if(U=r[ee],r.hasOwnProperty(ee)&&U!=null&&!l.hasOwnProperty(ee))switch(ee){case"selected":e.selected=!1;break;default:Ue(e,t,ee,null,l,U)}for(A in l)if(U=l[A],L=r[A],l.hasOwnProperty(A)&&U!==L&&(U!=null||L!=null))switch(A){case"selected":e.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:Ue(e,t,A,U,l,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ue in r)U=r[ue],r.hasOwnProperty(ue)&&U!=null&&!l.hasOwnProperty(ue)&&Ue(e,t,ue,null,l,U);for(z in l)if(U=l[z],L=r[z],l.hasOwnProperty(z)&&U!==L&&(U!=null||L!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(137,t));break;default:Ue(e,t,z,U,l,L)}return;default:if(_o(t)){for(var Be in r)U=r[Be],r.hasOwnProperty(Be)&&U!==void 0&&!l.hasOwnProperty(Be)&&uu(e,t,Be,void 0,l,U);for(q in l)U=l[q],L=r[q],!l.hasOwnProperty(q)||U===L||U===void 0&&L===void 0||uu(e,t,q,U,l,L);return}}for(var O in r)U=r[O],r.hasOwnProperty(O)&&U!=null&&!l.hasOwnProperty(O)&&Ue(e,t,O,null,l,U);for(G in l)U=l[G],L=r[G],!l.hasOwnProperty(G)||U===L||U==null&&L==null||Ue(e,t,G,U,l,L)}function Gm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var c=r[l],h=c.transferSize,x=c.initiatorType,b=c.duration;if(h&&b&&Gm(x)){for(x=0,b=c.responseEnd,l+=1;l<r.length;l++){var A=r[l],z=A.startTime;if(z>b)break;var q=A.transferSize,G=A.initiatorType;q&&Gm(G)&&(A=A.responseEnd,x+=q*(A<b?1:(b-z)/(A-z)))}if(--l,t+=8*(h+x)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var du=null,hu=null;function Al(e){return e.nodeType===9?e:e.ownerDocument}function Im(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Vm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mu=null;function Px(){var e=window.event;return e&&e.type==="popstate"?e===mu?!1:(mu=e,!0):(mu=null,!1)}var Km=typeof setTimeout=="function"?setTimeout:void 0,Yx=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,Qx=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(e){return Pm.resolve(null).then(e).catch(Xx)}:Km;function Xx(e){setTimeout(function(){throw e})}function ya(e){return e==="head"}function Ym(e,t){var r=t,l=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(c),qn(t);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")Qr(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Qr(r);for(var h=r.firstChild;h;){var x=h.nextSibling,b=h.nodeName;h[hr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&h.rel.toLowerCase()==="stylesheet"||r.removeChild(h),h=x}}else r==="body"&&Qr(e.ownerDocument.body);r=c}while(r);qn(t)}function Qm(e,t){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function gu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":gu(r),bo(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Jx(e,t,r,l){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[hr])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=os(e.nextSibling),e===null)break}return null}function Zx(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=os(e.nextSibling),e===null))return null;return e}function Xm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=os(e.nextSibling),e===null))return null;return e}function pu(e){return e.data==="$?"||e.data==="$~"}function xu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Fx(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var l=function(){t(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function os(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var yu=null;function Jm(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return os(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Zm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function Fm(e,t,r){switch(t=Al(r),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function Qr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);bo(e)}var cs=new Map,Wm=new Set;function Tl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $s=Y.d;Y.d={f:Wx,r:ey,D:ty,C:sy,L:ay,m:ny,X:iy,S:ry,M:ly};function Wx(){var e=$s.f(),t=yl();return e||t}function ey(e){var t=an(e);t!==null&&t.tag===5&&t.type==="form"?pf(t):$s.r(e)}var Un=typeof document>"u"?null:document;function e0(e,t,r){var l=Un;if(l&&typeof t=="string"&&t){var c=ts(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Wm.has(c)||(Wm.add(c),e={rel:e,crossOrigin:r,href:t},l.querySelector(c)===null&&(t=l.createElement("link"),vt(t,"link",e),ht(t),l.head.appendChild(t)))}}function ty(e){$s.D(e),e0("dns-prefetch",e,null)}function sy(e,t){$s.C(e,t),e0("preconnect",e,t)}function ay(e,t,r){$s.L(e,t,r);var l=Un;if(l&&e&&t){var c='link[rel="preload"][as="'+ts(t)+'"]';t==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ts(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ts(r.imageSizes)+'"]')):c+='[href="'+ts(e)+'"]';var h=c;switch(t){case"style":h=Bn(e);break;case"script":h=Ln(e)}cs.has(h)||(e=N({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),cs.set(h,e),l.querySelector(c)!==null||t==="style"&&l.querySelector(Xr(h))||t==="script"&&l.querySelector(Jr(h))||(t=l.createElement("link"),vt(t,"link",e),ht(t),l.head.appendChild(t)))}}function ny(e,t){$s.m(e,t);var r=Un;if(r&&e){var l=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+ts(l)+'"][href="'+ts(e)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ln(e)}if(!cs.has(h)&&(e=N({rel:"modulepreload",href:e},t),cs.set(h,e),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Jr(h)))return}l=r.createElement("link"),vt(l,"link",e),ht(l),r.head.appendChild(l)}}}function ry(e,t,r){$s.S(e,t,r);var l=Un;if(l&&e){var c=nn(l).hoistableStyles,h=Bn(e);t=t||"default";var x=c.get(h);if(!x){var b={loading:0,preload:null};if(x=l.querySelector(Xr(h)))b.loading=5;else{e=N({rel:"stylesheet",href:e,"data-precedence":t},r),(r=cs.get(h))&&vu(e,r);var A=x=l.createElement("link");ht(A),vt(A,"link",e),A._p=new Promise(function(z,q){A.onload=z,A.onerror=q}),A.addEventListener("load",function(){b.loading|=1}),A.addEventListener("error",function(){b.loading|=2}),b.loading|=4,kl(x,t,l)}x={type:"stylesheet",instance:x,count:1,state:b},c.set(h,x)}}}function iy(e,t){$s.X(e,t);var r=Un;if(r&&e){var l=nn(r).hoistableScripts,c=Ln(e),h=l.get(c);h||(h=r.querySelector(Jr(c)),h||(e=N({src:e,async:!0},t),(t=cs.get(c))&&bu(e,t),h=r.createElement("script"),ht(h),vt(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function ly(e,t){$s.M(e,t);var r=Un;if(r&&e){var l=nn(r).hoistableScripts,c=Ln(e),h=l.get(c);h||(h=r.querySelector(Jr(c)),h||(e=N({src:e,async:!0,type:"module"},t),(t=cs.get(c))&&bu(e,t),h=r.createElement("script"),ht(h),vt(h,"link",e),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function t0(e,t,r,l){var c=(c=ve.current)?Tl(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Bn(r.href),r=nn(c).hoistableStyles,l=r.get(t),l||(l={type:"style",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Bn(r.href);var h=nn(c).hoistableStyles,x=h.get(e);if(x||(c=c.ownerDocument||c,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,x),(h=c.querySelector(Xr(e)))&&!h._p&&(x.instance=h,x.state.loading=5),cs.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},cs.set(e,r),h||oy(c,e,r,x.state))),t&&l===null)throw Error(o(528,""));return x}if(t&&l!==null)throw Error(o(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ln(r),r=nn(c).hoistableScripts,l=r.get(t),l||(l={type:"script",instance:null,count:0,state:null},r.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Bn(e){return'href="'+ts(e)+'"'}function Xr(e){return'link[rel="stylesheet"]['+e+"]"}function s0(e){return N({},e,{"data-precedence":e.precedence,precedence:null})}function oy(e,t,r,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),vt(t,"link",r),ht(t),e.head.appendChild(t))}function Ln(e){return'[src="'+ts(e)+'"]'}function Jr(e){return"script[async]"+e}function a0(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+ts(r.href)+'"]');if(l)return t.instance=l,ht(l),l;var c=N({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ht(l),vt(l,"style",c),kl(l,r.precedence,e),t.instance=l;case"stylesheet":c=Bn(r.href);var h=e.querySelector(Xr(c));if(h)return t.state.loading|=4,t.instance=h,ht(h),h;l=s0(r),(c=cs.get(c))&&vu(l,c),h=(e.ownerDocument||e).createElement("link"),ht(h);var x=h;return x._p=new Promise(function(b,A){x.onload=b,x.onerror=A}),vt(h,"link",l),t.state.loading|=4,kl(h,r.precedence,e),t.instance=h;case"script":return h=Ln(r.src),(c=e.querySelector(Jr(h)))?(t.instance=c,ht(c),c):(l=r,(c=cs.get(h))&&(l=N({},r),bu(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),ht(c),vt(c,"link",l),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,kl(l,r.precedence,e));return t.instance}function kl(e,t,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,x=0;x<l.length;x++){var b=l[x];if(b.dataset.precedence===t)h=b;else if(h!==c)break}h?h.parentNode.insertBefore(e,h.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function vu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function bu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var El=null;function n0(e,t,r){if(El===null){var l=new Map,c=El=new Map;c.set(r,l)}else c=El,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var h=r[c];if(!(h[hr]||h[gt]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var x=h.getAttribute(t)||"";x=e+x;var b=l.get(x);b?b.push(h):l.set(x,[h])}}return l}function r0(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function cy(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function i0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function uy(e,t,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var c=Bn(l.href),h=t.querySelector(Xr(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Cl.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=h,ht(h);return}h=t.ownerDocument||t,l=s0(l),(c=cs.get(c))&&vu(l,c),h=h.createElement("link"),ht(h);var x=h;x._p=new Promise(function(b,A){x.onload=b,x.onerror=A}),vt(h,"link",l),r.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Cl.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var ju=0;function dy(e,t){return e.stylesheets&&e.count===0&&Ol(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&Ol(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+t);0<e.imgBytes&&ju===0&&(ju=62500*Kx());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ol(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>ju?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Cl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ol(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Rl=null;function Ol(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Rl=new Map,t.forEach(hy,e),Rl=null,Cl.call(e))}function hy(e,t){if(!(t.state.loading&4)){var r=Rl.get(e);if(r)var l=r.get(null);else{r=new Map,Rl.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var x=c[h];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(r.set(x.dataset.precedence,x),l=x)}l&&r.set(null,l)}c=t.instance,x=c.getAttribute("data-precedence"),h=r.get(x)||l,h===l&&r.set(null,c),r.set(x,c),this.count++,l=Cl.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Zr={$$typeof:M,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function fy(e,t,r,l,c,h,x,b,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=po(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=po(0),this.hiddenUpdates=po(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function l0(e,t,r,l,c,h,x,b,A,z,q,G){return e=new fy(e,t,r,x,A,z,q,G,b),t=1,h===!0&&(t|=24),h=It(3,null,null,t),e.current=h,h.stateNode=e,t=ec(),t.refCount++,e.pooledCache=t,t.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:t},nc(h),e}function o0(e){return e?(e=gn,e):gn}function c0(e,t,r,l,c,h){c=o0(c),l.context===null?l.context=c:l.pendingContext=c,l=la(t),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=oa(e,l,t),r!==null&&(Ut(r,e,t),Er(r,e,t))}function u0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function wu(e,t){u0(e,t),(e=e.alternate)&&u0(e,t)}function d0(e){if(e.tag===13||e.tag===31){var t=za(e,67108864);t!==null&&Ut(t,e,67108864),wu(e,67108864)}}function h0(e){if(e.tag===13||e.tag===31){var t=Qt();t=xo(t);var r=za(e,t);r!==null&&Ut(r,e,t),wu(e,t)}}var Dl=!0;function my(e,t,r,l){var c=B.T;B.T=null;var h=Y.p;try{Y.p=2,Nu(e,t,r,l)}finally{Y.p=h,B.T=c}}function gy(e,t,r,l){var c=B.T;B.T=null;var h=Y.p;try{Y.p=8,Nu(e,t,r,l)}finally{Y.p=h,B.T=c}}function Nu(e,t,r,l){if(Dl){var c=_u(l);if(c===null)cu(e,t,l,zl,r),m0(e,l);else if(xy(c,e,t,r,l))l.stopPropagation();else if(m0(e,l),t&4&&-1<py.indexOf(e)){for(;c!==null;){var h=an(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var x=Ea(h.pendingLanes);if(x!==0){var b=h;for(b.pendingLanes|=2,b.entangledLanes|=2;x;){var A=1<<31-$t(x);b.entanglements[1]|=A,x&=~A}ws(h),(Re&6)===0&&(pl=qt()+500,Kr(0))}}break;case 31:case 13:b=za(h,2),b!==null&&Ut(b,h,2),yl(),wu(h,2)}if(h=_u(l),h===null&&cu(e,t,l,zl,r),h===c)break;c=h}c!==null&&l.stopPropagation()}else cu(e,t,l,null,r)}}function _u(e){return e=Ao(e),Su(e)}var zl=null;function Su(e){if(zl=null,e=sn(e),e!==null){var t=d(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=f(t),e!==null)return e;e=null}else if(r===31){if(e=m(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return zl=e,null}function f0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tp()){case bd:return 2;case jd:return 8;case Ni:case sp:return 32;case wd:return 268435456;default:return 32}default:return 32}}var Au=!1,va=null,ba=null,ja=null,Fr=new Map,Wr=new Map,wa=[],py="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function m0(e,t){switch(e){case"focusin":case"focusout":va=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":Fr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(t.pointerId)}}function ei(e,t,r,l,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},t!==null&&(t=an(t),t!==null&&d0(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function xy(e,t,r,l,c){switch(t){case"focusin":return va=ei(va,e,t,r,l,c),!0;case"dragenter":return ba=ei(ba,e,t,r,l,c),!0;case"mouseover":return ja=ei(ja,e,t,r,l,c),!0;case"pointerover":var h=c.pointerId;return Fr.set(h,ei(Fr.get(h)||null,e,t,r,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Wr.set(h,ei(Wr.get(h)||null,e,t,r,l,c)),!0}return!1}function g0(e){var t=sn(e.target);if(t!==null){var r=d(t);if(r!==null){if(t=r.tag,t===13){if(t=f(r),t!==null){e.blockedOn=t,kd(e.priority,function(){h0(r)});return}}else if(t===31){if(t=m(r),t!==null){e.blockedOn=t,kd(e.priority,function(){h0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=_u(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);So=l,r.target.dispatchEvent(l),So=null}else return t=an(r),t!==null&&d0(t),e.blockedOn=r,!1;t.shift()}return!0}function p0(e,t,r){Ml(e)&&r.delete(t)}function yy(){Au=!1,va!==null&&Ml(va)&&(va=null),ba!==null&&Ml(ba)&&(ba=null),ja!==null&&Ml(ja)&&(ja=null),Fr.forEach(p0),Wr.forEach(p0)}function Ul(e,t){e.blockedOn===t&&(e.blockedOn=null,Au||(Au=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,yy)))}var Bl=null;function x0(e){Bl!==e&&(Bl=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Bl===e&&(Bl=null);for(var t=0;t<e.length;t+=3){var r=e[t],l=e[t+1],c=e[t+2];if(typeof l!="function"){if(Su(l||r)===null)continue;break}var h=an(r);h!==null&&(e.splice(t,3),t-=3,_c(h,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function qn(e){function t(A){return Ul(A,e)}va!==null&&Ul(va,e),ba!==null&&Ul(ba,e),ja!==null&&Ul(ja,e),Fr.forEach(t),Wr.forEach(t);for(var r=0;r<wa.length;r++){var l=wa[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<wa.length&&(r=wa[0],r.blockedOn===null);)g0(r),r.blockedOn===null&&wa.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],h=r[l+1],x=c[Ct]||null;if(typeof h=="function")x||x0(r);else if(x){var b=null;if(h&&h.hasAttribute("formAction")){if(c=h,x=h[Ct]||null)b=x.formAction;else if(Su(c)!==null)continue}else b=x.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),x0(r)}}}function y0(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(x){return c=x})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function Tu(e){this._internalRoot=e}Ll.prototype.render=Tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var r=t.current,l=Qt();c0(r,l,e,t,null,null)},Ll.prototype.unmount=Tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;c0(e.current,2,null,e,null,null),yl(),t[tn]=null}};function Ll(e){this._internalRoot=e}Ll.prototype.unstable_scheduleHydration=function(e){if(e){var t=Td();e={blockedOn:null,target:e,priority:t};for(var r=0;r<wa.length&&t!==0&&t<wa[r].priority;r++);wa.splice(r,0,e),r===0&&g0(e)}};var v0=s.version;if(v0!=="19.2.3")throw Error(o(527,v0,"19.2.3"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var vy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ql.isDisabled&&ql.supportsFiber)try{cr=ql.inject(vy),Ht=ql}catch{}}return si.createRoot=function(e,t){if(!u(e))throw Error(o(299));var r=!1,l="",c=Af,h=Tf,x=kf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(h=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError)),t=l0(e,1,!1,null,null,r,l,null,c,h,x,y0),e[tn]=t.current,ou(e),new Tu(t)},si.hydrateRoot=function(e,t,r){if(!u(e))throw Error(o(299));var l=!1,c="",h=Af,x=Tf,b=kf,A=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(x=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(A=r.formState)),t=l0(e,1,!0,t,r??null,l,c,A,h,x,b,y0),t.context=o0(null),r=t.current,l=Qt(),l=xo(l),c=la(l),c.callback=null,oa(r,c,l),r=l,t.current.lanes=r,dr(t,r),ws(t),e[tn]=t.current,ou(e),new Ll(t)},si.version="19.2.3",si}var E0;function Ey(){if(E0)return Cu.exports;E0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(s){console.error(s)}}return n(),Cu.exports=ky(),Cu.exports}var Cy=Ey();function no(n,s){var i={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&s.indexOf(o)<0&&(i[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(n);u<o.length;u++)s.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(n,o[u])&&(i[o[u]]=n[o[u]]);return i}function Ry(n,s,i,o){function u(d){return d instanceof i?d:new i(function(f){f(d)})}return new(i||(i=Promise))(function(d,f){function m(v){try{g(o.next(v))}catch(N){f(N)}}function p(v){try{g(o.throw(v))}catch(N){f(N)}}function g(v){v.done?d(v.value):u(v.value).then(m,p)}g((o=o.apply(n,s||[])).next())})}const Oy=n=>n?(...s)=>n(...s):(...s)=>fetch(...s);class dd extends Error{constructor(s,i="FunctionsError",o){super(s),this.name=i,this.context=o}}class Dy extends dd{constructor(s){super("Failed to send a request to the Edge Function","FunctionsFetchError",s)}}class C0 extends dd{constructor(s){super("Relay Error invoking the Edge Function","FunctionsRelayError",s)}}class R0 extends dd{constructor(s){super("Edge Function returned a non-2xx status code","FunctionsHttpError",s)}}var Vu;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(Vu||(Vu={}));class zy{constructor(s,{headers:i={},customFetch:o,region:u=Vu.Any}={}){this.url=s,this.headers=i,this.region=u,this.fetch=Oy(o)}setAuth(s){this.headers.Authorization=`Bearer ${s}`}invoke(s){return Ry(this,arguments,void 0,function*(i,o={}){var u;let d,f;try{const{headers:m,method:p,body:g,signal:v,timeout:N}=o;let y={},{region:j}=o;j||(j=this.region);const w=new URL(`${this.url}/${i}`);j&&j!=="any"&&(y["x-region"]=j,w.searchParams.set("forceFunctionRegion",j));let _;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",_=g):typeof g=="string"?(y["Content-Type"]="text/plain",_=g):typeof FormData<"u"&&g instanceof FormData?_=g:(y["Content-Type"]="application/json",_=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?_=JSON.stringify(g):_=g;let R=v;N&&(f=new AbortController,d=setTimeout(()=>f.abort(),N),v?(R=f.signal,v.addEventListener("abort",()=>f.abort())):R=f.signal);const E=yield this.fetch(w.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),m),body:_,signal:R}).catch(F=>{throw new Dy(F)}),S=E.headers.get("x-relay-error");if(S&&S==="true")throw new C0(E);if(!E.ok)throw new R0(E);let M=((u=E.headers.get("Content-Type"))!==null&&u!==void 0?u:"text/plain").split(";")[0].trim(),I;return M==="application/json"?I=yield E.json():M==="application/octet-stream"||M==="application/pdf"?I=yield E.blob():M==="text/event-stream"?I=E:M==="multipart/form-data"?I=yield E.formData():I=yield E.text(),{data:I,error:null,response:E}}catch(m){return{data:null,error:m,response:m instanceof R0||m instanceof C0?m.context:void 0}}finally{d&&clearTimeout(d)}})}}var My=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},Uy=class{constructor(n){var s,i,o;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(s=n.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=n.signal,this.isMaybeSingle=(i=n.isMaybeSingle)!==null&&i!==void 0?i:!1,this.urlLengthLimit=(o=n.urlLengthLimit)!==null&&o!==void 0?o:8e3,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,s){return this.headers=new Headers(this.headers),this.headers.set(n,s),this}then(n,s){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let u=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async d=>{let f=null,m=null,p=null,g=d.status,v=d.statusText;if(d.ok){var N,y;if(i.method!=="HEAD"){var j;const E=await d.text();E===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((j=i.headers.get("Accept"))===null||j===void 0)&&j.includes("application/vnd.pgrst.plan+text"))?m=E:m=JSON.parse(E))}const _=(N=i.headers.get("Prefer"))===null||N===void 0?void 0:N.match(/count=(exact|planned|estimated)/),R=(y=d.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");_&&R&&R.length>1&&(p=parseInt(R[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,g=406,v="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var w;const _=await d.text();try{f=JSON.parse(_),Array.isArray(f)&&d.status===404&&(m=[],f=null,g=200,v="OK")}catch{d.status===404&&_===""?(g=204,v="No Content"):f={message:_}}if(f&&i.isMaybeSingle&&(!(f==null||(w=f.details)===null||w===void 0)&&w.includes("0 rows"))&&(f=null,g=200,v="OK"),f&&i.shouldThrowOnError)throw new My(f)}return{error:f,data:m,count:p,status:g,statusText:v}});return this.shouldThrowOnError||(u=u.catch(d=>{var f;let m="",p="",g="";const v=d?.cause;if(v){var N,y,j,w;const E=(N=v?.message)!==null&&N!==void 0?N:"",S=(y=v?.code)!==null&&y!==void 0?y:"";m=`${(j=d?.name)!==null&&j!==void 0?j:"FetchError"}: ${d?.message}`,m+=`

Caused by: ${(w=v?.name)!==null&&w!==void 0?w:"Error"}: ${E}`,S&&(m+=` (${S})`),v?.stack&&(m+=`
${v.stack}`)}else{var _;m=(_=d?.stack)!==null&&_!==void 0?_:""}const R=this.url.toString().length;return d?.name==="AbortError"||d?.code==="ABORT_ERR"?(g="",p="Request was aborted (timeout or manual cancellation)",R>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${R} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(v?.name==="HeadersOverflowError"||v?.code==="UND_ERR_HEADERS_OVERFLOW")&&(g="",p="HTTP headers exceeded server limits (typically 16KB)",R>this.urlLengthLimit&&(p+=`. Your request URL is ${R} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(f=d?.name)!==null&&f!==void 0?f:"FetchError"}: ${d?.message}`,details:m,hint:p,code:g},data:null,count:null,status:0,statusText:""}})),u.then(n,s)}returns(){return this}overrideTypes(){return this}},By=class extends Uy{select(n){let s=!1;const i=(n??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:s=!0,nullsFirst:i,foreignTable:o,referencedTable:u=o}={}){const d=u?`${u}.order`:"order",f=this.url.searchParams.get(d);return this.url.searchParams.set(d,`${f?`${f},`:""}${n}.${s?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:s,referencedTable:i=s}={}){const o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,s,{foreignTable:i,referencedTable:o=i}={}){const u=typeof o>"u"?"offset":`${o}.offset`,d=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(u,`${n}`),this.url.searchParams.set(d,`${s-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:s=!1,settings:i=!1,buffers:o=!1,wal:u=!1,format:d="text"}={}){var f;const m=[n?"analyze":null,s?"verbose":null,i?"settings":null,o?"buffers":null,u?"wal":null].filter(Boolean).join("|"),p=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${d}; for="${p}"; options=${m};`),d==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const O0=new RegExp("[,()]");var Zn=class extends By{eq(n,s){return this.url.searchParams.append(n,`eq.${s}`),this}neq(n,s){return this.url.searchParams.append(n,`neq.${s}`),this}gt(n,s){return this.url.searchParams.append(n,`gt.${s}`),this}gte(n,s){return this.url.searchParams.append(n,`gte.${s}`),this}lt(n,s){return this.url.searchParams.append(n,`lt.${s}`),this}lte(n,s){return this.url.searchParams.append(n,`lte.${s}`),this}like(n,s){return this.url.searchParams.append(n,`like.${s}`),this}likeAllOf(n,s){return this.url.searchParams.append(n,`like(all).{${s.join(",")}}`),this}likeAnyOf(n,s){return this.url.searchParams.append(n,`like(any).{${s.join(",")}}`),this}ilike(n,s){return this.url.searchParams.append(n,`ilike.${s}`),this}ilikeAllOf(n,s){return this.url.searchParams.append(n,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(n,s){return this.url.searchParams.append(n,`ilike(any).{${s.join(",")}}`),this}regexMatch(n,s){return this.url.searchParams.append(n,`match.${s}`),this}regexIMatch(n,s){return this.url.searchParams.append(n,`imatch.${s}`),this}is(n,s){return this.url.searchParams.append(n,`is.${s}`),this}isDistinct(n,s){return this.url.searchParams.append(n,`isdistinct.${s}`),this}in(n,s){const i=Array.from(new Set(s)).map(o=>typeof o=="string"&&O0.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`in.(${i})`),this}notIn(n,s){const i=Array.from(new Set(s)).map(o=>typeof o=="string"&&O0.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`not.in.(${i})`),this}contains(n,s){return typeof s=="string"?this.url.searchParams.append(n,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(n,`cs.{${s.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(s)}`),this}containedBy(n,s){return typeof s=="string"?this.url.searchParams.append(n,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(n,`cd.{${s.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(s)}`),this}rangeGt(n,s){return this.url.searchParams.append(n,`sr.${s}`),this}rangeGte(n,s){return this.url.searchParams.append(n,`nxl.${s}`),this}rangeLt(n,s){return this.url.searchParams.append(n,`sl.${s}`),this}rangeLte(n,s){return this.url.searchParams.append(n,`nxr.${s}`),this}rangeAdjacent(n,s){return this.url.searchParams.append(n,`adj.${s}`),this}overlaps(n,s){return typeof s=="string"?this.url.searchParams.append(n,`ov.${s}`):this.url.searchParams.append(n,`ov.{${s.join(",")}}`),this}textSearch(n,s,{config:i,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const d=i===void 0?"":`(${i})`;return this.url.searchParams.append(n,`${u}fts${d}.${s}`),this}match(n){return Object.entries(n).forEach(([s,i])=>{this.url.searchParams.append(s,`eq.${i}`)}),this}not(n,s,i){return this.url.searchParams.append(n,`not.${s}.${i}`),this}or(n,{foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.or`:"or";return this.url.searchParams.append(o,`(${n})`),this}filter(n,s,i){return this.url.searchParams.append(n,`${s}.${i}`),this}},Ly=class{constructor(n,{headers:s={},schema:i,fetch:o,urlLengthLimit:u=8e3}){this.url=n,this.headers=new Headers(s),this.schema=i,this.fetch=o,this.urlLengthLimit=u}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,s){const{head:i=!1,count:o}=s??{},u=i?"HEAD":"GET";let d=!1;const f=(n??"*").split("").map(g=>/\s/.test(g)&&!d?"":(g==='"'&&(d=!d),g)).join(""),{url:m,headers:p}=this.cloneRequestState();return m.searchParams.set("select",f),o&&p.append("Prefer",`count=${o}`),new Zn({method:u,url:m,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(n,{count:s,defaultToNull:i=!0}={}){var o;const u="POST",{url:d,headers:f}=this.cloneRequestState();if(s&&f.append("Prefer",`count=${s}`),i||f.append("Prefer","missing=default"),Array.isArray(n)){const m=n.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(m.length>0){const p=[...new Set(m)].map(g=>`"${g}"`);d.searchParams.set("columns",p.join(","))}}return new Zn({method:u,url:d,headers:f,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(n,{onConflict:s,ignoreDuplicates:i=!1,count:o,defaultToNull:u=!0}={}){var d;const f="POST",{url:m,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),s!==void 0&&m.searchParams.set("on_conflict",s),o&&p.append("Prefer",`count=${o}`),u||p.append("Prefer","missing=default"),Array.isArray(n)){const g=n.reduce((v,N)=>v.concat(Object.keys(N)),[]);if(g.length>0){const v=[...new Set(g)].map(N=>`"${N}"`);m.searchParams.set("columns",v.join(","))}}return new Zn({method:f,url:m,headers:p,schema:this.schema,body:n,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}update(n,{count:s}={}){var i;const o="PATCH",{url:u,headers:d}=this.cloneRequestState();return s&&d.append("Prefer",`count=${s}`),new Zn({method:o,url:u,headers:d,schema:this.schema,body:n,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:n}={}){var s;const i="DELETE",{url:o,headers:u}=this.cloneRequestState();return n&&u.append("Prefer",`count=${n}`),new Zn({method:i,url:o,headers:u,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}};function di(n){"@babel/helpers - typeof";return di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},di(n)}function qy(n,s){if(di(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,s);if(di(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(n)}function Hy(n){var s=qy(n,"string");return di(s)=="symbol"?s:s+""}function $y(n,s,i){return(s=Hy(s))in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i,n}function D0(n,s){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);s&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),i.push.apply(i,o)}return i}function Hl(n){for(var s=1;s<arguments.length;s++){var i=arguments[s]!=null?arguments[s]:{};s%2?D0(Object(i),!0).forEach(function(o){$y(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):D0(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}var Gy=class dg{constructor(s,{headers:i={},schema:o,fetch:u,timeout:d,urlLengthLimit:f=8e3}={}){this.url=s,this.headers=new Headers(i),this.schemaName=o,this.urlLengthLimit=f;const m=u??globalThis.fetch;d!==void 0&&d>0?this.fetch=(p,g)=>{const v=new AbortController,N=setTimeout(()=>v.abort(),d),y=g?.signal;if(y){if(y.aborted)return clearTimeout(N),m(p,g);const j=()=>{clearTimeout(N),v.abort()};return y.addEventListener("abort",j,{once:!0}),m(p,Hl(Hl({},g),{},{signal:v.signal})).finally(()=>{clearTimeout(N),y.removeEventListener("abort",j)})}return m(p,Hl(Hl({},g),{},{signal:v.signal})).finally(()=>clearTimeout(N))}:this.fetch=m}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ly(new URL(`${this.url}/${s}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(s){return new dg(this.url,{headers:this.headers,schema:s,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(s,i={},{head:o=!1,get:u=!1,count:d}={}){var f;let m;const p=new URL(`${this.url}/rpc/${s}`);let g;const v=j=>j!==null&&typeof j=="object"&&(!Array.isArray(j)||j.some(v)),N=o&&Object.values(i).some(v);N?(m="POST",g=i):o||u?(m=o?"HEAD":"GET",Object.entries(i).filter(([j,w])=>w!==void 0).map(([j,w])=>[j,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([j,w])=>{p.searchParams.append(j,w)})):(m="POST",g=i);const y=new Headers(this.headers);return N?y.set("Prefer",d?`count=${d},return=minimal`:"return=minimal"):d&&y.set("Prefer",`count=${d}`),new Zn({method:m,url:p,headers:y,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch,urlLengthLimit:this.urlLengthLimit})}};class Iy{constructor(){}static detectEnvironment(){var s;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((s=navigator.userAgent)===null||s===void 0)&&s.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const o=i.versions;if(o&&o.node){const u=o.node,d=parseInt(u.replace(/^v/,"").split(".")[0]);return d>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${d} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${d} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const s=this.detectEnvironment();if(s.constructor)return s.constructor;let i=s.error||"WebSocket not supported in this environment.";throw s.workaround&&(i+=`

Suggested solution: ${s.workaround}`),new Error(i)}static createWebSocket(s,i){const o=this.getWebSocketConstructor();return new o(s,i)}static isWebSocketSupported(){try{const s=this.detectEnvironment();return s.type==="native"||s.type==="ws"}catch{return!1}}}const Vy="2.97.0",Ky=`realtime-js/${Vy}`,Py="1.0.0",hg="2.0.0",z0=hg,Ku=1e4,Yy=1e3,Qy=100;var Sa;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Sa||(Sa={}));var ct;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(ct||(ct={}));var ps;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(ps||(ps={}));var Pu;(function(n){n.websocket="websocket"})(Pu||(Pu={}));var Fa;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Fa||(Fa={}));class Xy{constructor(s){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=s??[]}encode(s,i){if(s.event===this.BROADCAST_EVENT&&!(s.payload instanceof ArrayBuffer)&&typeof s.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(s));let o=[s.join_ref,s.ref,s.topic,s.event,s.payload];return i(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(s){var i;return this._isArrayBuffer((i=s.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(s):this._encodeJsonUserBroadcastPush(s)}_encodeBinaryUserBroadcastPush(s){var i,o;const u=(o=(i=s.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(s,this.BINARY_ENCODING,u)}_encodeJsonUserBroadcastPush(s){var i,o;const u=(o=(i=s.payload)===null||i===void 0?void 0:i.payload)!==null&&o!==void 0?o:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer;return this._encodeUserBroadcastPush(s,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(s,i,o){var u,d;const f=s.topic,m=(u=s.ref)!==null&&u!==void 0?u:"",p=(d=s.join_ref)!==null&&d!==void 0?d:"",g=s.payload.event,v=this.allowedMetadataKeys?this._pick(s.payload,this.allowedMetadataKeys):{},N=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(N.length>255)throw new Error(`metadata length ${N.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+f.length+g.length+N.length,j=new ArrayBuffer(this.HEADER_LENGTH+y);let w=new DataView(j),_=0;w.setUint8(_++,this.KINDS.userBroadcastPush),w.setUint8(_++,p.length),w.setUint8(_++,m.length),w.setUint8(_++,f.length),w.setUint8(_++,g.length),w.setUint8(_++,N.length),w.setUint8(_++,i),Array.from(p,E=>w.setUint8(_++,E.charCodeAt(0))),Array.from(m,E=>w.setUint8(_++,E.charCodeAt(0))),Array.from(f,E=>w.setUint8(_++,E.charCodeAt(0))),Array.from(g,E=>w.setUint8(_++,E.charCodeAt(0))),Array.from(N,E=>w.setUint8(_++,E.charCodeAt(0)));var R=new Uint8Array(j.byteLength+o.byteLength);return R.set(new Uint8Array(j),0),R.set(new Uint8Array(o),j.byteLength),R.buffer}decode(s,i){if(this._isArrayBuffer(s)){let o=this._binaryDecode(s);return i(o)}if(typeof s=="string"){const o=JSON.parse(s),[u,d,f,m,p]=o;return i({join_ref:u,ref:d,topic:f,event:m,payload:p})}return i({})}_binaryDecode(s){const i=new DataView(s),o=i.getUint8(0),u=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(s,i,u)}}_decodeUserBroadcast(s,i,o){const u=i.getUint8(1),d=i.getUint8(2),f=i.getUint8(3),m=i.getUint8(4);let p=this.HEADER_LENGTH+4;const g=o.decode(s.slice(p,p+u));p=p+u;const v=o.decode(s.slice(p,p+d));p=p+d;const N=o.decode(s.slice(p,p+f));p=p+f;const y=s.slice(p,s.byteLength),j=m===this.JSON_ENCODING?JSON.parse(o.decode(y)):y,w={type:this.BROADCAST_EVENT,event:v,payload:j};return f>0&&(w.meta=JSON.parse(N)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(s){var i;return s instanceof ArrayBuffer||((i=s?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(s,i){return!s||typeof s!="object"?{}:Object.fromEntries(Object.entries(s).filter(([o])=>i.includes(o)))}}class fg{constructor(s,i){this.callback=s,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=s,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(He||(He={}));const M0=(n,s,i={})=>{var o;const u=(o=i.skipTypes)!==null&&o!==void 0?o:[];return s?Object.keys(s).reduce((d,f)=>(d[f]=Jy(f,n,s,u),d),{}):{}},Jy=(n,s,i,o)=>{const u=s.find(m=>m.name===n),d=u?.type,f=i[n];return d&&!o.includes(d)?mg(d,f):Yu(f)},mg=(n,s)=>{if(n.charAt(0)==="_"){const i=n.slice(1,n.length);return ev(s,i)}switch(n){case He.bool:return Zy(s);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return Fy(s);case He.json:case He.jsonb:return Wy(s);case He.timestamp:return tv(s);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return Yu(s);default:return Yu(s)}},Yu=n=>n,Zy=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Fy=n=>{if(typeof n=="string"){const s=parseFloat(n);if(!Number.isNaN(s))return s}return n},Wy=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},ev=(n,s)=>{if(typeof n!="string")return n;const i=n.length-1,o=n[i];if(n[0]==="{"&&o==="}"){let d;const f=n.slice(1,i);try{d=JSON.parse("["+f+"]")}catch{d=f?f.split(","):[]}return d.map(m=>mg(s,m))}return n},tv=n=>typeof n=="string"?n.replace(" ","T"):n,gg=n=>{const s=new URL(n);return s.protocol=s.protocol.replace(/^ws/i,"http"),s.pathname=s.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),s.pathname===""||s.pathname==="/"?s.pathname="/api/broadcast":s.pathname=s.pathname+"/api/broadcast",s.href};class zu{constructor(s,i,o={},u=Ku){this.channel=s,this.event=i,this.payload=o,this.timeout=u,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(s){this.timeout=s,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(s){this.payload=Object.assign(Object.assign({},this.payload),s)}receive(s,i){var o;return this._hasReceived(s)&&i((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:s,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const s=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},s),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(s,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:s,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:s,response:i}){this.recHooks.filter(o=>o.status===s).forEach(o=>o.callback(i))}_hasReceived(s){return this.receivedResp&&this.receivedResp.status===s}}var U0;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(U0||(U0={}));class oi{constructor(s,i){this.channel=s,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},u=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oi.syncState(this.state,u,d,f),this.pendingDiffs.forEach(p=>{this.state=oi.syncDiff(this.state,p,d,f)}),this.pendingDiffs=[],m()}),this.channel._on(o.diff,{},u=>{const{onJoin:d,onLeave:f,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(u):(this.state=oi.syncDiff(this.state,u,d,f),m())}),this.onJoin((u,d,f)=>{this.channel._trigger("presence",{event:"join",key:u,currentPresences:d,newPresences:f})}),this.onLeave((u,d,f)=>{this.channel._trigger("presence",{event:"leave",key:u,currentPresences:d,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(s,i,o,u){const d=this.cloneDeep(s),f=this.transformState(i),m={},p={};return this.map(d,(g,v)=>{f[g]||(p[g]=v)}),this.map(f,(g,v)=>{const N=d[g];if(N){const y=v.map(R=>R.presence_ref),j=N.map(R=>R.presence_ref),w=v.filter(R=>j.indexOf(R.presence_ref)<0),_=N.filter(R=>y.indexOf(R.presence_ref)<0);w.length>0&&(m[g]=w),_.length>0&&(p[g]=_)}else m[g]=v}),this.syncDiff(d,{joins:m,leaves:p},o,u)}static syncDiff(s,i,o,u){const{joins:d,leaves:f}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return o||(o=()=>{}),u||(u=()=>{}),this.map(d,(m,p)=>{var g;const v=(g=s[m])!==null&&g!==void 0?g:[];if(s[m]=this.cloneDeep(p),v.length>0){const N=s[m].map(j=>j.presence_ref),y=v.filter(j=>N.indexOf(j.presence_ref)<0);s[m].unshift(...y)}o(m,v,p)}),this.map(f,(m,p)=>{let g=s[m];if(!g)return;const v=p.map(N=>N.presence_ref);g=g.filter(N=>v.indexOf(N.presence_ref)<0),s[m]=g,u(m,g,p),g.length===0&&delete s[m]}),s}static map(s,i){return Object.getOwnPropertyNames(s).map(o=>i(o,s[o]))}static transformState(s){return s=this.cloneDeep(s),Object.getOwnPropertyNames(s).reduce((i,o)=>{const u=s[o];return"metas"in u?i[o]=u.metas.map(d=>(d.presence_ref=d.phx_ref,delete d.phx_ref,delete d.phx_ref_prev,d)):i[o]=u,i},{})}static cloneDeep(s){return JSON.parse(JSON.stringify(s))}onJoin(s){this.caller.onJoin=s}onLeave(s){this.caller.onLeave=s}onSync(s){this.caller.onSync=s}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var B0;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(B0||(B0={}));var ci;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(ci||(ci={}));var Is;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Is||(Is={}));class er{constructor(s,i={config:{}},o){var u,d;if(this.topic=s,this.params=i,this.socket=o,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=s.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new zu(this,ps.join,this.params,this.timeout),this.rejoinTimer=new fg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ps.reply,{},(f,m)=>{this._trigger(this._replyEventName(m),f)}),this.presence=new oi(this),this.broadcastEndpointURL=gg(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((d=(u=this.params.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(s,i=this.timeout){var o,u,d;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:f,presence:m,private:p}}=this.params,g=(u=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(j=>j.filter))!==null&&u!==void 0?u:[],v=!!this.bindings[ci.PRESENCE]&&this.bindings[ci.PRESENCE].length>0||((d=this.params.config.presence)===null||d===void 0?void 0:d.enabled)===!0,N={},y={broadcast:f,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(N.access_token=this.socket.accessTokenValue),this._onError(j=>s?.(Is.CHANNEL_ERROR,j)),this._onClose(()=>s?.(Is.CLOSED)),this.updateJoinPayload(Object.assign({config:y},N)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:j})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),j===void 0){s?.(Is.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,R=(w=_?.length)!==null&&w!==void 0?w:0,E=[];for(let S=0;S<R;S++){const M=_[S],{filter:{event:I,schema:F,table:W,filter:Q}}=M,P=j&&j[S];if(P&&P.event===I&&er.isFilterValueEqual(P.schema,F)&&er.isFilterValueEqual(P.table,W)&&er.isFilterValueEqual(P.filter,Q))E.push(Object.assign(Object.assign({},M),{id:P.id}));else{this.unsubscribe(),this.state=ct.errored,s?.(Is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,s&&s(Is.SUBSCRIBED);return}}).receive("error",j=>{this.state=ct.errored,s?.(Is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(j).join(", ")||"error")))}).receive("timeout",()=>{s?.(Is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(s,i={}){return await this.send({type:"presence",event:"track",payload:s},i.timeout||this.timeout)}async untrack(s={}){return await this.send({type:"presence",event:"untrack"},s)}on(s,i,o){return this.state===ct.joined&&s===ci.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(s,i,o)}async httpSend(s,i,o={}){var u;if(i==null)return Promise.reject("Payload is required for httpSend()");const d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(u=o.timeout)!==null&&u!==void 0?u:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const g=await m.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(s,i={}){var o,u;if(!this._canPush()&&s.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:d,payload:f}=s,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:d,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);return await((u=g.body)===null||u===void 0?void 0:u.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(d=>{var f,m,p;const g=this._push(s.type,s,i.timeout||this.timeout);s.type==="broadcast"&&!(!((p=(m=(f=this.params)===null||f===void 0?void 0:f.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&d("ok"),g.receive("ok",()=>d("ok")),g.receive("error",()=>d("error")),g.receive("timeout",()=>d("timed out"))})}updateJoinPayload(s){this.joinPush.updatePayload(s)}unsubscribe(s=this.timeout){this.state=ct.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ps.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(u=>{o=new zu(this,ps.leave,{},s),o.receive("ok",()=>{i(),u("ok")}).receive("timeout",()=>{i(),u("timed out")}).receive("error",()=>{u("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o?.destroy()})}teardown(){this.pushBuffer.forEach(s=>s.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(s,i,o){const u=new AbortController,d=setTimeout(()=>u.abort(),o),f=await this.socket.fetch(s,Object.assign(Object.assign({},i),{signal:u.signal}));return clearTimeout(d),f}_push(s,i,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${s}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let u=new zu(this,s,i,o);return this._canPush()?u.send():this._addToPushBuffer(u),u}_addToPushBuffer(s){if(s.startTimeout(),this.pushBuffer.push(s),this.pushBuffer.length>Qy){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(s,i,o){return i}_isMember(s){return this.topic===s}_joinRef(){return this.joinPush.ref}_trigger(s,i,o){var u,d;const f=s.toLocaleLowerCase(),{close:m,error:p,leave:g,join:v}=ps;if(o&&[m,p,g,v].indexOf(f)>=0&&o!==this._joinRef())return;let y=this._onMessage(f,i,o);if(i&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(u=this.bindings.postgres_changes)===null||u===void 0||u.filter(j=>{var w,_,R;return((w=j.filter)===null||w===void 0?void 0:w.event)==="*"||((R=(_=j.filter)===null||_===void 0?void 0:_.event)===null||R===void 0?void 0:R.toLocaleLowerCase())===f}).map(j=>j.callback(y,o)):(d=this.bindings[f])===null||d===void 0||d.filter(j=>{var w,_,R,E,S,M;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in j){const I=j.id,F=(w=j.filter)===null||w===void 0?void 0:w.event;return I&&((_=i.ids)===null||_===void 0?void 0:_.includes(I))&&(F==="*"||F?.toLocaleLowerCase()===((R=i.data)===null||R===void 0?void 0:R.type.toLocaleLowerCase()))}else{const I=(S=(E=j?.filter)===null||E===void 0?void 0:E.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return I==="*"||I===((M=i?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return j.type.toLocaleLowerCase()===f}).map(j=>{if(typeof y=="object"&&"ids"in y){const w=y.data,{schema:_,table:R,commit_timestamp:E,type:S,errors:M}=w;y=Object.assign(Object.assign({},{schema:_,table:R,commit_timestamp:E,eventType:S,new:{},old:{},errors:M}),this._getPayloadRecords(w))}j.callback(y,o)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(s){return`chan_reply_${s}`}_on(s,i,o){const u=s.toLocaleLowerCase(),d={type:u,filter:i,callback:o};return this.bindings[u]?this.bindings[u].push(d):this.bindings[u]=[d],this}_off(s,i){const o=s.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(u=>{var d;return!(((d=u.type)===null||d===void 0?void 0:d.toLocaleLowerCase())===o&&er.isEqual(u.filter,i))})),this}static isEqual(s,i){if(Object.keys(s).length!==Object.keys(i).length)return!1;for(const o in s)if(s[o]!==i[o])return!1;return!0}static isFilterValueEqual(s,i){return(s??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(s){this._on(ps.close,{},s)}_onError(s){this._on(ps.error,{},i=>s(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(s=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(s))}_getPayloadRecords(s){const i={new:{},old:{}};return(s.type==="INSERT"||s.type==="UPDATE")&&(i.new=M0(s.columns,s.record)),(s.type==="UPDATE"||s.type==="DELETE")&&(i.old=M0(s.columns,s.old_record)),i}}const Mu=()=>{},$l={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sv=[1e3,2e3,5e3,1e4],av=1e4,nv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class rv{constructor(s,i){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ku,this.transport=null,this.heartbeatIntervalMs=$l.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Mu,this.ref=0,this.reconnectTimer=null,this.vsn=z0,this.logger=Mu,this.conn=null,this.sendBuffer=[],this.serializer=new Xy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=u=>u?(...d)=>u(...d):(...d)=>fetch(...d),!(!((o=i?.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${s}/${Pu.websocket}`,this.httpEndpoint=gg(s),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Iy.createWebSocket(this.endpointURL())}catch(s){this._setConnectionState("disconnected");const i=s.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(s,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(s?this.conn.close(s,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(s){const i=await s.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const s=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),s}log(s,i,o){this.logger(s,i,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Sa.connecting:return Fa.Connecting;case Sa.open:return Fa.Open;case Sa.closing:return Fa.Closing;default:return Fa.Closed}}isConnected(){return this.connectionState()===Fa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(s,i={config:{}}){const o=`realtime:${s}`,u=this.getChannels().find(d=>d.topic===o);if(u)return u;{const d=new er(`realtime:${s}`,i,this);return this.channels.push(d),d}}push(s){const{topic:i,event:o,payload:u,ref:d}=s,f=()=>{this.encode(s,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${i} ${o} (${d})`,u),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(s=null){this._authPromise=this._performAuth(s);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var s;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(s=this.conn)===null||s===void 0||s.close(Yy,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},$l.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(s){this.heartbeatCallback=s}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(s=>s()),this.sendBuffer=[])}_makeRef(){let s=this.ref+1;return s===this.ref?this.ref=0:this.ref=s,this.ref.toString()}_leaveOpenTopic(s){let i=this.channels.find(o=>o.topic===s&&(o._isJoined()||o._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${s}"`),i.unsubscribe())}_remove(s){this.channels=this.channels.filter(i=>i.topic!==s.topic)}_onConnMessage(s){this.decode(s.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",g)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:u,payload:d,ref:f}=i,m=f?`(${f})`:"",p=d.status||"";this.log("receive",`${p} ${o} ${u} ${m}`.trim(),d),this.channels.filter(g=>g._isMember(o)).forEach(g=>g._trigger(u,d,f)),this._triggerStateCallbacks("message",i)})}_clearTimer(s){var i;s==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):s==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=s=>this._onConnError(s),this.conn.onmessage=s=>this._onConnMessage(s),this.conn.onclose=s=>this._onConnClose(s),this.conn.readyState===Sa.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Sa.open||this.conn.readyState===Sa.connecting)try{this.conn.close()}catch(s){this.log("error","Error closing connection",s)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(s=>s.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const s=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(s),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(s){var i;this._setConnectionState("disconnected"),this.log("transport","close",s),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",s)}_onConnError(s){this._setConnectionState("disconnected"),this.log("transport",`${s}`),this._triggerChanError(),this._triggerStateCallbacks("error",s);try{this.heartbeatCallback("error")}catch(i){this.log("error","error in heartbeat callback",i)}}_triggerChanError(){this.channels.forEach(s=>s._trigger(ps.error))}_appendParams(s,i){if(Object.keys(i).length===0)return s;const o=s.match(/\?/)?"&":"?",u=new URLSearchParams(i);return`${s}${o}${u}`}_workerObjectUrl(s){let i;if(s)i=s;else{const o=new Blob([nv],{type:"application/javascript"});i=URL.createObjectURL(o)}return i}_setConnectionState(s,i=!1){this._connectionState=s,s==="connecting"?this._wasManualDisconnect=!1:s==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(s=null){let i,o=!1;if(s)i=s,o=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(u){this.log("error","Error fetching access token from callback",u),i=this.accessTokenValue}else i=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(u=>{const d={access_token:i,version:Ky};i&&u.updateJoinPayload(d),u.joinedOnce&&u._isJoined()&&u._push(ps.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(s="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${s}`,i)})}_triggerStateCallbacks(s,i){try{this.stateChangeCallbacks[s].forEach(o=>{try{o(i)}catch(u){this.log("error",`error in ${s} callback`,u)}})}catch(o){this.log("error",`error triggering ${s} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new fg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$l.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(s){var i,o,u,d,f,m,p,g,v,N,y,j;switch(this.transport=(i=s?.transport)!==null&&i!==void 0?i:null,this.timeout=(o=s?.timeout)!==null&&o!==void 0?o:Ku,this.heartbeatIntervalMs=(u=s?.heartbeatIntervalMs)!==null&&u!==void 0?u:$l.HEARTBEAT_INTERVAL,this.worker=(d=s?.worker)!==null&&d!==void 0?d:!1,this.accessToken=(f=s?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(m=s?.heartbeatCallback)!==null&&m!==void 0?m:Mu,this.vsn=(p=s?.vsn)!==null&&p!==void 0?p:z0,s?.params&&(this.params=s.params),s?.logger&&(this.logger=s.logger),(s?.logLevel||s?.log_level)&&(this.logLevel=s.logLevel||s.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=s?.reconnectAfterMs)!==null&&g!==void 0?g:(w=>sv[w-1]||av),this.vsn){case Py:this.encode=(v=s?.encode)!==null&&v!==void 0?v:((w,_)=>_(JSON.stringify(w))),this.decode=(N=s?.decode)!==null&&N!==void 0?N:((w,_)=>_(JSON.parse(w)));break;case hg:this.encode=(y=s?.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(j=s?.decode)!==null&&j!==void 0?j:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=s?.workerUrl}}}var hi=class extends Error{constructor(n,s){super(n),this.name="IcebergError",this.status=s.status,this.icebergType=s.icebergType,this.icebergCode=s.icebergCode,this.details=s.details,this.isCommitStateUnknown=s.icebergType==="CommitStateUnknownException"||[500,502,504].includes(s.status)&&s.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function iv(n,s,i){const o=new URL(s,n);if(i)for(const[u,d]of Object.entries(i))d!==void 0&&o.searchParams.set(u,d);return o.toString()}async function lv(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function ov(n){const s=n.fetchImpl??globalThis.fetch;return{async request({method:i,path:o,query:u,body:d,headers:f}){const m=iv(n.baseUrl,o,u),p=await lv(n.auth),g=await s(m,{method:i,headers:{...d?{"Content-Type":"application/json"}:{},...p,...f},body:d?JSON.stringify(d):void 0}),v=await g.text(),N=(g.headers.get("content-type")||"").includes("application/json"),y=N&&v?JSON.parse(v):v;if(!g.ok){const j=N?y:void 0,w=j?.error;throw new hi(w?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:w?.type,icebergCode:w?.code,details:j})}return{status:g.status,headers:g.headers,data:y}}}}function Gl(n){return n.join("")}var cv=class{constructor(n,s=""){this.client=n,this.prefix=s}async listNamespaces(n){const s=n?{parent:Gl(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:s})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(n,s){const i={namespace:n.namespace,properties:s?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gl(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gl(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gl(n.namespace)}`}),!0}catch(s){if(s instanceof hi&&s.status===404)return!1;throw s}}async createNamespaceIfNotExists(n,s){try{return await this.createNamespace(n,s)}catch(i){if(i instanceof hi&&i.status===409)return;throw i}}};function Hn(n){return n.join("")}var uv=class{constructor(n,s="",i){this.client=n,this.prefix=s,this.accessDelegation=i}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hn(n.namespace)}/tables`})).data.identifiers}async createTable(n,s){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hn(n.namespace)}/tables`,body:s,headers:i})).data.metadata}async updateTable(n,s){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Hn(n.namespace)}/tables/${n.name}`,body:s});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(n,s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hn(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String(s?.purge??!1)}})}async loadTable(n){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hn(n.namespace)}/tables/${n.name}`,headers:s})).data.metadata}async tableExists(n){const s={};this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hn(n.namespace)}/tables/${n.name}`,headers:s}),!0}catch(i){if(i instanceof hi&&i.status===404)return!1;throw i}}async createTableIfNotExists(n,s){try{return await this.createTable(n,s)}catch(i){if(i instanceof hi&&i.status===409)return await this.loadTable({namespace:n.namespace,name:s.name});throw i}}},dv=class{constructor(n){let s="v1";n.catalogName&&(s+=`/${n.catalogName}`);const i=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=ov({baseUrl:i,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=n.accessDelegation?.join(","),this.namespaceOps=new cv(this.client,s),this.tableOps=new uv(this.client,s,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,s){return this.namespaceOps.createNamespace(n,s)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,s){return this.tableOps.createTable(n,s)}async updateTable(n,s){return this.tableOps.updateTable(n,s)}async dropTable(n,s){await this.tableOps.dropTable(n,s)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,s){return this.namespaceOps.createNamespaceIfNotExists(n,s)}async createTableIfNotExists(n,s){return this.tableOps.createTableIfNotExists(n,s)}},ro=class extends Error{constructor(n,s="storage",i,o){super(n),this.__isStorageError=!0,this.namespace=s,this.name=s==="vectors"?"StorageVectorsError":"StorageError",this.status=i,this.statusCode=o}};function io(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Il=class extends ro{constructor(n,s,i,o="storage"){super(n,o,s,i),this.name=o==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},pg=class extends ro{constructor(n,s,i="storage"){super(n,i),this.name=i==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=s}};const hv=n=>n?(...s)=>n(...s):(...s)=>fetch(...s),fv=n=>{if(typeof n!="object"||n===null)return!1;const s=Object.getPrototypeOf(n);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Qu=n=>{if(Array.isArray(n))return n.map(i=>Qu(i));if(typeof n=="function"||n!==Object(n))return n;const s={};return Object.entries(n).forEach(([i,o])=>{const u=i.replace(/([-_][a-z])/gi,d=>d.toUpperCase().replace(/[-_]/g,""));s[u]=Qu(o)}),s},mv=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function fi(n){"@babel/helpers - typeof";return fi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},fi(n)}function gv(n,s){if(fi(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,s);if(fi(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(n)}function pv(n){var s=gv(n,"string");return fi(s)=="symbol"?s:s+""}function xv(n,s,i){return(s=pv(s))in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i,n}function L0(n,s){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);s&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),i.push.apply(i,o)}return i}function de(n){for(var s=1;s<arguments.length;s++){var i=arguments[s]!=null?arguments[s]:{};s%2?L0(Object(i),!0).forEach(function(o){xv(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):L0(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}const q0=n=>{var s;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(s=n.error)===null||s===void 0?void 0:s.message)||JSON.stringify(n)},yv=async(n,s,i,o)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!i?.noResolveJson){const u=n,d=u.status||500;if(typeof u.json=="function")u.json().then(f=>{const m=f?.statusCode||f?.code||d+"";s(new Il(q0(f),d,m,o))}).catch(()=>{if(o==="vectors"){const f=d+"";s(new Il(u.statusText||`HTTP ${d} error`,d,f,o))}else{const f=d+"";s(new Il(u.statusText||`HTTP ${d} error`,d,f,o))}});else{const f=d+"";s(new Il(u.statusText||`HTTP ${d} error`,d,f,o))}}else s(new pg(q0(n),n,o))},vv=(n,s,i,o)=>{const u={method:n,headers:s?.headers||{}};return n==="GET"||n==="HEAD"||!o?de(de({},u),i):(fv(o)?(u.headers=de({"Content-Type":"application/json"},s?.headers),u.body=JSON.stringify(o)):u.body=o,s?.duplex&&(u.duplex=s.duplex),de(de({},u),i))};async function ai(n,s,i,o,u,d,f){return new Promise((m,p)=>{n(i,vv(s,o,u,d)).then(g=>{if(!g.ok)throw g;if(o?.noResolveJson)return g;if(f==="vectors"){const v=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!v||!v.includes("application/json"))return{}}return g.json()}).then(g=>m(g)).catch(g=>yv(g,p,o,f))})}function xg(n="storage"){return{get:async(s,i,o,u)=>ai(s,"GET",i,o,u,void 0,n),post:async(s,i,o,u,d)=>ai(s,"POST",i,u,d,o,n),put:async(s,i,o,u,d)=>ai(s,"PUT",i,u,d,o,n),head:async(s,i,o,u)=>ai(s,"HEAD",i,de(de({},o),{},{noResolveJson:!0}),u,void 0,n),remove:async(s,i,o,u,d)=>ai(s,"DELETE",i,u,d,o,n)}}const bv=xg("storage"),{get:mi,post:gs,put:Xu,head:jv,remove:hd}=bv,Jt=xg("vectors");var rr=class{constructor(n,s={},i,o="storage"){this.shouldThrowOnError=!1,this.url=n,this.headers=s,this.fetch=hv(i),this.namespace=o}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,s){return this.headers=de(de({},this.headers),{},{[n]:s}),this}async handleOperation(n){var s=this;try{return{data:await n(),error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(io(i))return{data:null,error:i};throw i}}},wv=class{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s}then(n,s){return this.execute().then(n,s)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(io(s))return{data:null,error:s};throw s}}};let yg;yg=Symbol.toStringTag;var Nv=class{constructor(n,s){this.downloadFn=n,this.shouldThrowOnError=s,this[yg]="BlobDownloadBuilder",this.promise=null}asStream(){return new wv(this.downloadFn,this.shouldThrowOnError)}then(n,s){return this.getPromise().then(n,s)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(io(s))return{data:null,error:s};throw s}}};const _v={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},H0={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Sv=class extends rr{constructor(n,s={},i,o){super(n,s,o,"storage"),this.bucketId=i}async uploadOrUpdate(n,s,i,o){var u=this;return u.handleOperation(async()=>{let d;const f=de(de({},H0),o);let m=de(de({},u.headers),n==="POST"&&{"x-upsert":String(f.upsert)});const p=f.metadata;typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),p&&d.append("metadata",u.encodeMetadata(p)),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.has("cacheControl")||d.append("cacheControl",f.cacheControl),p&&!d.has("metadata")&&d.append("metadata",u.encodeMetadata(p))):(d=i,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType,p&&(m["x-metadata"]=u.toBase64(u.encodeMetadata(p))),(typeof ReadableStream<"u"&&d instanceof ReadableStream||d&&typeof d=="object"&&"pipe"in d&&typeof d.pipe=="function")&&!f.duplex&&(f.duplex="half")),o?.headers&&(m=de(de({},m),o.headers));const g=u._removeEmptyFolders(s),v=u._getFinalPath(g),N=await(n=="PUT"?Xu:gs)(u.fetch,`${u.url}/object/${v}`,d,de({headers:m},f?.duplex?{duplex:f.duplex}:{}));return{path:g,id:N.Id,fullPath:N.Key}})}async upload(n,s,i){return this.uploadOrUpdate("POST",n,s,i)}async uploadToSignedUrl(n,s,i,o){var u=this;const d=u._removeEmptyFolders(n),f=u._getFinalPath(d),m=new URL(u.url+`/object/upload/sign/${f}`);return m.searchParams.set("token",s),u.handleOperation(async()=>{let p;const g=de({upsert:H0.upsert},o),v=de(de({},u.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",g.cacheControl)):(p=i,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType),{path:d,fullPath:(await Xu(u.fetch,m.toString(),p,{headers:v})).Key}})}async createSignedUploadUrl(n,s){var i=this;return i.handleOperation(async()=>{let o=i._getFinalPath(n);const u=de({},i.headers);s?.upsert&&(u["x-upsert"]="true");const d=await gs(i.fetch,`${i.url}/object/upload/sign/${o}`,{},{headers:u}),f=new URL(i.url+d.url),m=f.searchParams.get("token");if(!m)throw new ro("No token returned by API");return{signedUrl:f.toString(),path:n,token:m}})}async update(n,s,i){return this.uploadOrUpdate("PUT",n,s,i)}async move(n,s,i){var o=this;return o.handleOperation(async()=>await gs(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:n,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:o.headers}))}async copy(n,s,i){var o=this;return o.handleOperation(async()=>({path:(await gs(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:n,destinationKey:s,destinationBucket:i?.destinationBucket},{headers:o.headers})).Key}))}async createSignedUrl(n,s,i){var o=this;return o.handleOperation(async()=>{let u=o._getFinalPath(n),d=await gs(o.fetch,`${o.url}/object/sign/${u}`,de({expiresIn:s},i?.transform?{transform:i.transform}:{}),{headers:o.headers});const f=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{signedUrl:encodeURI(`${o.url}${d.signedURL}${f}`)}})}async createSignedUrls(n,s,i){var o=this;return o.handleOperation(async()=>{const u=await gs(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:s,paths:n},{headers:o.headers}),d=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u.map(f=>de(de({},f),{},{signedUrl:f.signedURL?encodeURI(`${o.url}${f.signedURL}${d}`):null}))})}download(n,s,i){const o=typeof s?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(s?.transform||{}),d=u?`?${u}`:"",f=this._getFinalPath(n),m=()=>mi(this.fetch,`${this.url}/${o}/${f}${d}`,{headers:this.headers,noResolveJson:!0},i);return new Nv(m,this.shouldThrowOnError)}async info(n){var s=this;const i=s._getFinalPath(n);return s.handleOperation(async()=>Qu(await mi(s.fetch,`${s.url}/object/info/${i}`,{headers:s.headers})))}async exists(n){var s=this;const i=s._getFinalPath(n);try{return await jv(s.fetch,`${s.url}/object/${i}`,{headers:s.headers}),{data:!0,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(io(o)&&o instanceof pg){const u=o.originalError;if([400,404].includes(u?.status))return{data:!1,error:o}}throw o}}getPublicUrl(n,s){const i=this._getFinalPath(n),o=[],u=s?.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&o.push(u);const d=typeof s?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(s?.transform||{});f!==""&&o.push(f);let m=o.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${i}${m}`)}}}async remove(n){var s=this;return s.handleOperation(async()=>await hd(s.fetch,`${s.url}/object/${s.bucketId}`,{prefixes:n},{headers:s.headers}))}async list(n,s,i){var o=this;return o.handleOperation(async()=>{const u=de(de(de({},_v),s),{},{prefix:n||""});return await gs(o.fetch,`${o.url}/object/list/${o.bucketId}`,u,{headers:o.headers},i)})}async listV2(n,s){var i=this;return i.handleOperation(async()=>{const o=de({},n);return await gs(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,o,{headers:i.headers},s)})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const s=[];return n.width&&s.push(`width=${n.width}`),n.height&&s.push(`height=${n.height}`),n.resize&&s.push(`resize=${n.resize}`),n.format&&s.push(`format=${n.format}`),n.quality&&s.push(`quality=${n.quality}`),s.join("&")}};const Av="2.97.0",vi={"X-Client-Info":`storage-js/${Av}`};var Tv=class extends rr{constructor(n,s={},i,o){const u=new URL(n);o?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase."));const d=u.href.replace(/\/$/,""),f=de(de({},vi),s);super(d,f,i,"storage")}async listBuckets(n){var s=this;return s.handleOperation(async()=>{const i=s.listBucketOptionsToQueryString(n);return await mi(s.fetch,`${s.url}/bucket${i}`,{headers:s.headers})})}async getBucket(n){var s=this;return s.handleOperation(async()=>await mi(s.fetch,`${s.url}/bucket/${n}`,{headers:s.headers}))}async createBucket(n,s={public:!1}){var i=this;return i.handleOperation(async()=>await gs(i.fetch,`${i.url}/bucket`,{id:n,name:n,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:i.headers}))}async updateBucket(n,s){var i=this;return i.handleOperation(async()=>await Xu(i.fetch,`${i.url}/bucket/${n}`,{id:n,name:n,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:i.headers}))}async emptyBucket(n){var s=this;return s.handleOperation(async()=>await gs(s.fetch,`${s.url}/bucket/${n}/empty`,{},{headers:s.headers}))}async deleteBucket(n){var s=this;return s.handleOperation(async()=>await hd(s.fetch,`${s.url}/bucket/${n}`,{},{headers:s.headers}))}listBucketOptionsToQueryString(n){const s={};return n&&("limit"in n&&(s.limit=String(n.limit)),"offset"in n&&(s.offset=String(n.offset)),n.search&&(s.search=n.search),n.sortColumn&&(s.sortColumn=n.sortColumn),n.sortOrder&&(s.sortOrder=n.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}},kv=class extends rr{constructor(n,s={},i){const o=n.replace(/\/$/,""),u=de(de({},vi),s);super(o,u,i,"storage")}async createBucket(n){var s=this;return s.handleOperation(async()=>await gs(s.fetch,`${s.url}/bucket`,{name:n},{headers:s.headers}))}async listBuckets(n){var s=this;return s.handleOperation(async()=>{const i=new URLSearchParams;n?.limit!==void 0&&i.set("limit",n.limit.toString()),n?.offset!==void 0&&i.set("offset",n.offset.toString()),n?.sortColumn&&i.set("sortColumn",n.sortColumn),n?.sortOrder&&i.set("sortOrder",n.sortOrder),n?.search&&i.set("search",n.search);const o=i.toString(),u=o?`${s.url}/bucket?${o}`:`${s.url}/bucket`;return await mi(s.fetch,u,{headers:s.headers})})}async deleteBucket(n){var s=this;return s.handleOperation(async()=>await hd(s.fetch,`${s.url}/bucket/${n}`,{},{headers:s.headers}))}from(n){var s=this;if(!mv(n))throw new ro("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new dv({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>s.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(i,{get(u,d){const f=u[d];return typeof f!="function"?f:async(...m)=>{try{return{data:await f.apply(u,m),error:null}}catch(p){if(o)throw p;return{data:null,error:p}}}}})}},Ev=class extends rr{constructor(n,s={},i){const o=n.replace(/\/$/,""),u=de(de({},vi),{},{"Content-Type":"application/json"},s);super(o,u,i,"vectors")}async createIndex(n){var s=this;return s.handleOperation(async()=>await Jt.post(s.fetch,`${s.url}/CreateIndex`,n,{headers:s.headers})||{})}async getIndex(n,s){var i=this;return i.handleOperation(async()=>await Jt.post(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:n,indexName:s},{headers:i.headers}))}async listIndexes(n){var s=this;return s.handleOperation(async()=>await Jt.post(s.fetch,`${s.url}/ListIndexes`,n,{headers:s.headers}))}async deleteIndex(n,s){var i=this;return i.handleOperation(async()=>await Jt.post(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:n,indexName:s},{headers:i.headers})||{})}},Cv=class extends rr{constructor(n,s={},i){const o=n.replace(/\/$/,""),u=de(de({},vi),{},{"Content-Type":"application/json"},s);super(o,u,i,"vectors")}async putVectors(n){var s=this;if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return s.handleOperation(async()=>await Jt.post(s.fetch,`${s.url}/PutVectors`,n,{headers:s.headers})||{})}async getVectors(n){var s=this;return s.handleOperation(async()=>await Jt.post(s.fetch,`${s.url}/GetVectors`,n,{headers:s.headers}))}async listVectors(n){var s=this;if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return s.handleOperation(async()=>await Jt.post(s.fetch,`${s.url}/ListVectors`,n,{headers:s.headers}))}async queryVectors(n){var s=this;return s.handleOperation(async()=>await Jt.post(s.fetch,`${s.url}/QueryVectors`,n,{headers:s.headers}))}async deleteVectors(n){var s=this;if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return s.handleOperation(async()=>await Jt.post(s.fetch,`${s.url}/DeleteVectors`,n,{headers:s.headers})||{})}},Rv=class extends rr{constructor(n,s={},i){const o=n.replace(/\/$/,""),u=de(de({},vi),{},{"Content-Type":"application/json"},s);super(o,u,i,"vectors")}async createBucket(n){var s=this;return s.handleOperation(async()=>await Jt.post(s.fetch,`${s.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:s.headers})||{})}async getBucket(n){var s=this;return s.handleOperation(async()=>await Jt.post(s.fetch,`${s.url}/GetVectorBucket`,{vectorBucketName:n},{headers:s.headers}))}async listBuckets(n={}){var s=this;return s.handleOperation(async()=>await Jt.post(s.fetch,`${s.url}/ListVectorBuckets`,n,{headers:s.headers}))}async deleteBucket(n){var s=this;return s.handleOperation(async()=>await Jt.post(s.fetch,`${s.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:s.headers})||{})}},Ov=class extends Rv{constructor(n,s={}){super(n,s.headers||{},s.fetch)}from(n){return new Dv(this.url,this.headers,n,this.fetch)}async createBucket(n){var s=()=>super.createBucket,i=this;return s().call(i,n)}async getBucket(n){var s=()=>super.getBucket,i=this;return s().call(i,n)}async listBuckets(n={}){var s=()=>super.listBuckets,i=this;return s().call(i,n)}async deleteBucket(n){var s=()=>super.deleteBucket,i=this;return s().call(i,n)}},Dv=class extends Ev{constructor(n,s,i,o){super(n,s,o),this.vectorBucketName=i}async createIndex(n){var s=()=>super.createIndex,i=this;return s().call(i,de(de({},n),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(n={}){var s=()=>super.listIndexes,i=this;return s().call(i,de(de({},n),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(n){var s=()=>super.getIndex,i=this;return s().call(i,i.vectorBucketName,n)}async deleteIndex(n){var s=()=>super.deleteIndex,i=this;return s().call(i,i.vectorBucketName,n)}index(n){return new zv(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},zv=class extends Cv{constructor(n,s,i,o,u){super(n,s,u),this.vectorBucketName=i,this.indexName=o}async putVectors(n){var s=()=>super.putVectors,i=this;return s().call(i,de(de({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(n){var s=()=>super.getVectors,i=this;return s().call(i,de(de({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(n={}){var s=()=>super.listVectors,i=this;return s().call(i,de(de({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(n){var s=()=>super.queryVectors,i=this;return s().call(i,de(de({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(n){var s=()=>super.deleteVectors,i=this;return s().call(i,de(de({},n),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},Mv=class extends Tv{constructor(n,s={},i,o){super(n,s,i,o)}from(n){return new Sv(this.url,this.headers,n,this.fetch)}get vectors(){return new Ov(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new kv(this.url+"/iceberg",this.headers,this.fetch)}};const vg="2.97.0",Fn=30*1e3,Ju=3,Uu=Ju*Fn,Uv="http://localhost:9999",Bv="supabase.auth.token",Lv={"X-Client-Info":`gotrue-js/${vg}`},Zu="X-Supabase-Api-Version",bg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hv=600*1e3;class gi extends Error{constructor(s,i,o){super(s),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=o}}function re(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class $v extends gi{constructor(s,i,o){super(s,i,o),this.name="AuthApiError",this.status=i,this.code=o}}function Gv(n){return re(n)&&n.name==="AuthApiError"}class Wa extends gi{constructor(s,i){super(s),this.name="AuthUnknownError",this.originalError=i}}class Qs extends gi{constructor(s,i,o,u){super(s,o,u),this.name=i,this.status=o}}class Xt extends Qs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bu(n){return re(n)&&n.name==="AuthSessionMissingError"}class $n extends Qs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Vl extends Qs{constructor(s){super(s,"AuthInvalidCredentialsError",400,void 0)}}class Kl extends Qs{constructor(s,i=null){super(s,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Iv(n){return re(n)&&n.name==="AuthImplicitGrantRedirectError"}class $0 extends Qs{constructor(s,i=null){super(s,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vv extends Qs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Fu extends Qs{constructor(s,i){super(s,"AuthRetryableFetchError",i,void 0)}}function Lu(n){return re(n)&&n.name==="AuthRetryableFetchError"}class G0 extends Qs{constructor(s,i,o){super(s,"AuthWeakPasswordError",i,"weak_password"),this.reasons=o}}class Wu extends Qs{constructor(s){super(s,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),I0=` 	
\r=`.split(""),Kv=(()=>{const n=new Array(128);for(let s=0;s<n.length;s+=1)n[s]=-1;for(let s=0;s<I0.length;s+=1)n[I0[s].charCodeAt(0)]=-2;for(let s=0;s<Zl.length;s+=1)n[Zl[s].charCodeAt(0)]=s;return n})();function V0(n,s,i){if(n!==null)for(s.queue=s.queue<<8|n,s.queuedBits+=8;s.queuedBits>=6;){const o=s.queue>>s.queuedBits-6&63;i(Zl[o]),s.queuedBits-=6}else if(s.queuedBits>0)for(s.queue=s.queue<<6-s.queuedBits,s.queuedBits=6;s.queuedBits>=6;){const o=s.queue>>s.queuedBits-6&63;i(Zl[o]),s.queuedBits-=6}}function jg(n,s,i){const o=Kv[n];if(o>-1)for(s.queue=s.queue<<6|o,s.queuedBits+=6;s.queuedBits>=8;)i(s.queue>>s.queuedBits-8&255),s.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function K0(n){const s=[],i=f=>{s.push(String.fromCodePoint(f))},o={utf8seq:0,codepoint:0},u={queue:0,queuedBits:0},d=f=>{Qv(f,o,i)};for(let f=0;f<n.length;f+=1)jg(n.charCodeAt(f),u,d);return s.join("")}function Pv(n,s){if(n<=127){s(n);return}else if(n<=2047){s(192|n>>6),s(128|n&63);return}else if(n<=65535){s(224|n>>12),s(128|n>>6&63),s(128|n&63);return}else if(n<=1114111){s(240|n>>18),s(128|n>>12&63),s(128|n>>6&63),s(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Yv(n,s){for(let i=0;i<n.length;i+=1){let o=n.charCodeAt(i);if(o>55295&&o<=56319){const u=(o-55296)*1024&65535;o=(n.charCodeAt(i+1)-56320&65535|u)+65536,i+=1}Pv(o,s)}}function Qv(n,s,i){if(s.utf8seq===0){if(n<=127){i(n);return}for(let o=1;o<6;o+=1)if((n>>7-o&1)===0){s.utf8seq=o;break}if(s.utf8seq===2)s.codepoint=n&31;else if(s.utf8seq===3)s.codepoint=n&15;else if(s.utf8seq===4)s.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");s.utf8seq-=1}else if(s.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");s.codepoint=s.codepoint<<6|n&63,s.utf8seq-=1,s.utf8seq===0&&i(s.codepoint)}}function tr(n){const s=[],i={queue:0,queuedBits:0},o=u=>{s.push(u)};for(let u=0;u<n.length;u+=1)jg(n.charCodeAt(u),i,o);return new Uint8Array(s)}function Xv(n){const s=[];return Yv(n,i=>s.push(i)),new Uint8Array(s)}function en(n){const s=[],i={queue:0,queuedBits:0},o=u=>{s.push(u)};return n.forEach(u=>V0(u,i,o)),V0(null,i,o),s.join("")}function Jv(n){return Math.round(Date.now()/1e3)+n}function Zv(){return Symbol("auth-callback")}const jt=()=>typeof window<"u"&&typeof document<"u",Ya={tested:!1,writable:!1},wg=()=>{if(!jt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ya.tested)return Ya.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ya.tested=!0,Ya.writable=!0}catch{Ya.tested=!0,Ya.writable=!1}return Ya.writable};function Fv(n){const s={},i=new URL(n);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((u,d)=>{s[d]=u})}catch{}return i.searchParams.forEach((o,u)=>{s[u]=o}),s}const Ng=n=>n?(...s)=>n(...s):(...s)=>fetch(...s),Wv=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Wn=async(n,s,i)=>{await n.setItem(s,JSON.stringify(i))},Qa=async(n,s)=>{const i=await n.getItem(s);if(!i)return null;try{return JSON.parse(i)}catch{return i}},bt=async(n,s)=>{await n.removeItem(s)};class lo{constructor(){this.promise=new lo.promiseConstructor((s,i)=>{this.resolve=s,this.reject=i})}}lo.promiseConstructor=Promise;function Pl(n){const s=n.split(".");if(s.length!==3)throw new Wu("Invalid JWT structure");for(let o=0;o<s.length;o++)if(!qv.test(s[o]))throw new Wu("JWT not in base64url format");return{header:JSON.parse(K0(s[0])),payload:JSON.parse(K0(s[1])),signature:tr(s[2]),raw:{header:s[0],payload:s[1]}}}async function eb(n){return await new Promise(s=>{setTimeout(()=>s(null),n)})}function tb(n,s){return new Promise((o,u)=>{(async()=>{for(let d=0;d<1/0;d++)try{const f=await n(d);if(!s(d,null,f)){o(f);return}}catch(f){if(!s(d,f)){u(f);return}}})()})}function sb(n){return("0"+n.toString(16)).substr(-2)}function ab(){const s=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=i.length;let u="";for(let d=0;d<56;d++)u+=i.charAt(Math.floor(Math.random()*o));return u}return crypto.getRandomValues(s),Array.from(s,sb).join("")}async function nb(n){const i=new TextEncoder().encode(n),o=await crypto.subtle.digest("SHA-256",i),u=new Uint8Array(o);return Array.from(u).map(d=>String.fromCharCode(d)).join("")}async function rb(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const i=await nb(n);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gn(n,s,i=!1){const o=ab();let u=o;i&&(u+="/PASSWORD_RECOVERY"),await Wn(n,`${s}-code-verifier`,u);const d=await rb(o);return[d,o===d?"plain":"s256"]}const ib=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lb(n){const s=n.headers.get(Zu);if(!s||!s.match(ib))return null;try{return new Date(`${s}T00:00:00.0Z`)}catch{return null}}function ob(n){if(!n)throw new Error("Missing exp claim");const s=Math.floor(Date.now()/1e3);if(n<=s)throw new Error("JWT has expired")}function cb(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ub=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function In(n){if(!ub.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qu(){const n={};return new Proxy(n,{get:(s,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const o=i.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(s,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(s,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function db(n,s){return new Proxy(n,{get:(i,o,u)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const d=o.toString();if(d==="Symbol(Symbol.toPrimitive)"||d==="Symbol(Symbol.toStringTag)"||d==="Symbol(util.inspect.custom)"||d==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,o,u)}return!s.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s.value=!0),Reflect.get(i,o,u)}})}function P0(n){return JSON.parse(JSON.stringify(n))}const Za=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),hb=[502,503,504];async function Y0(n){var s;if(!Wv(n))throw new Fu(Za(n),0);if(hb.includes(n.status))throw new Fu(Za(n),n.status);let i;try{i=await n.json()}catch(d){throw new Wa(Za(d),d)}let o;const u=lb(n);if(u&&u.getTime()>=bg["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?o=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(o=i.error_code),o){if(o==="weak_password")throw new G0(Za(i),n.status,((s=i.weak_password)===null||s===void 0?void 0:s.reasons)||[]);if(o==="session_not_found")throw new Xt}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((d,f)=>d&&typeof f=="string",!0))throw new G0(Za(i),n.status,i.weak_password.reasons);throw new $v(Za(i),n.status||500,o)}const fb=(n,s,i,o)=>{const u={method:n,headers:s?.headers||{}};return n==="GET"?u:(u.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},s?.headers),u.body=JSON.stringify(o),Object.assign(Object.assign({},u),i))};async function he(n,s,i,o){var u;const d=Object.assign({},o?.headers);d[Zu]||(d[Zu]=bg["2024-01-01"].name),o?.jwt&&(d.Authorization=`Bearer ${o.jwt}`);const f=(u=o?.query)!==null&&u!==void 0?u:{};o?.redirectTo&&(f.redirect_to=o.redirectTo);const m=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",p=await mb(n,s,i+m,{headers:d,noResolveJson:o?.noResolveJson},{},o?.body);return o?.xform?o?.xform(p):{data:Object.assign({},p),error:null}}async function mb(n,s,i,o,u,d){const f=fb(s,o,u,d);let m;try{m=await n(i,Object.assign({},f))}catch(p){throw console.error(p),new Fu(Za(p),0)}if(m.ok||await Y0(m),o?.noResolveJson)return m;try{return await m.json()}catch(p){await Y0(p)}}function ms(n){var s;let i=null;xb(n)&&(i=Object.assign({},n),n.expires_at||(i.expires_at=Jv(n.expires_in)));const o=(s=n.user)!==null&&s!==void 0?s:n;return{data:{session:i,user:o},error:null}}function Q0(n){const s=ms(n);return!s.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0)&&(s.data.weak_password=n.weak_password),s}function Aa(n){var s;return{data:{user:(s=n.user)!==null&&s!==void 0?s:n},error:null}}function gb(n){return{data:n,error:null}}function pb(n){const{action_link:s,email_otp:i,hashed_token:o,redirect_to:u,verification_type:d}=n,f=no(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:s,email_otp:i,hashed_token:o,redirect_to:u,verification_type:d},p=Object.assign({},f);return{data:{properties:m,user:p},error:null}}function X0(n){return n}function xb(n){return n.access_token&&n.refresh_token&&n.expires_in}const Hu=["global","local","others"];class yb{constructor({url:s="",headers:i={},fetch:o}){this.url=s,this.headers=i,this.fetch=Ng(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(s,i=Hu[0]){if(Hu.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hu.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:s,noResolveJson:!0}),{data:null,error:null}}catch(o){if(re(o))return{data:null,error:o};throw o}}async inviteUserByEmail(s,i={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:s,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Aa})}catch(o){if(re(o))return{data:{user:null},error:o};throw o}}async generateLink(s){try{const{options:i}=s,o=no(s,["options"]),u=Object.assign(Object.assign({},o),i);return"newEmail"in o&&(u.new_email=o?.newEmail,delete u.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:u,headers:this.headers,xform:pb,redirectTo:i?.redirectTo})}catch(i){if(re(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(s){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:s,headers:this.headers,xform:Aa})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async listUsers(s){var i,o,u,d,f,m,p;try{const g={nextPage:null,lastPage:0,total:0},v=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=s?.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(d=(u=s?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:X0});if(v.error)throw v.error;const N=await v.json(),y=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,j=(p=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(w.split(";")[1].split("=")[1]);g[`${R}Page`]=_}),g.total=parseInt(y)),{data:Object.assign(Object.assign({},N),g),error:null}}catch(g){if(re(g))return{data:{users:[]},error:g};throw g}}async getUserById(s){In(s);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${s}`,{headers:this.headers,xform:Aa})}catch(i){if(re(i))return{data:{user:null},error:i};throw i}}async updateUserById(s,i){In(s);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${s}`,{body:i,headers:this.headers,xform:Aa})}catch(o){if(re(o))return{data:{user:null},error:o};throw o}}async deleteUser(s,i=!1){In(s);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${s}`,{headers:this.headers,body:{should_soft_delete:i},xform:Aa})}catch(o){if(re(o))return{data:{user:null},error:o};throw o}}async _listFactors(s){In(s.userId);try{const{data:i,error:o}=await he(this.fetch,"GET",`${this.url}/admin/users/${s.userId}/factors`,{headers:this.headers,xform:u=>({data:{factors:u},error:null})});return{data:i,error:o}}catch(i){if(re(i))return{data:null,error:i};throw i}}async _deleteFactor(s){In(s.userId),In(s.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${s.userId}/factors/${s.id}`,{headers:this.headers}),error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}async _listOAuthClients(s){var i,o,u,d,f,m,p;try{const g={nextPage:null,lastPage:0,total:0},v=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(i=s?.page)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:"",per_page:(d=(u=s?.perPage)===null||u===void 0?void 0:u.toString())!==null&&d!==void 0?d:""},xform:X0});if(v.error)throw v.error;const N=await v.json(),y=(f=v.headers.get("x-total-count"))!==null&&f!==void 0?f:0,j=(p=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return j.length>0&&(j.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),R=JSON.parse(w.split(";")[1].split("=")[1]);g[`${R}Page`]=_}),g.total=parseInt(y)),{data:Object.assign(Object.assign({},N),g),error:null}}catch(g){if(re(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(s){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(re(i))return{data:null,error:i};throw i}}async _getOAuthClient(s){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(re(i))return{data:null,error:i};throw i}}async _updateOAuthClient(s,i){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${s}`,{body:i,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(re(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(s){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${s}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(re(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(s){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${s}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(re(i))return{data:null,error:i};throw i}}}function J0(n={}){return{getItem:s=>n[s]||null,setItem:(s,i)=>{n[s]=i},removeItem:s=>{delete n[s]}}}const Vn={debug:!!(globalThis&&wg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _g extends Error{constructor(s){super(s),this.isAcquireTimeout=!0}}class Z0 extends _g{}async function vb(n,s,i){Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,s);const o=new globalThis.AbortController;s>0&&setTimeout(()=>{o.abort(),Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},s),await Promise.resolve();try{return await globalThis.navigator.locks.request(n,s===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async u=>{if(u){Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,u.name);try{return await i()}finally{Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,u.name)}}else{if(s===0)throw Vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new Z0(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Vn.debug)try{const d=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(d,null,"  "))}catch(d){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",d)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}})}catch(u){throw u?.name==="AbortError"?new Z0(`Acquiring an exclusive Navigator LockManager lock "${n}" timed out waiting ${s}ms`):u}}function bb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Sg(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function jb(n){return parseInt(n,16)}function wb(n){const s=new TextEncoder().encode(n);return"0x"+Array.from(s,o=>o.toString(16).padStart(2,"0")).join("")}function Nb(n){var s;const{chainId:i,domain:o,expirationTime:u,issuedAt:d=new Date,nonce:f,notBefore:m,requestId:p,resources:g,scheme:v,uri:N,version:y}=n;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!N)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((s=n.statement)===null||s===void 0)&&s.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const j=Sg(n.address),w=v?`${v}://${o}`:o,_=n.statement?`${n.statement}
`:"",R=`${w} wants you to sign in with your Ethereum account:
${j}

${_}`;let E=`URI: ${N}
Version: ${y}
Chain ID: ${i}${f?`
Nonce: ${f}`:""}
Issued At: ${d.toISOString()}`;if(u&&(E+=`
Expiration Time: ${u.toISOString()}`),m&&(E+=`
Not Before: ${m.toISOString()}`),p&&(E+=`
Request ID: ${p}`),g){let S=`
Resources:`;for(const M of g){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);S+=`
- ${M}`}E+=S}return`${R}
${E}`}class it extends Error{constructor({message:s,code:i,cause:o,name:u}){var d;super(s,{cause:o}),this.__isWebAuthnError=!0,this.name=(d=u??(o instanceof Error?o.name:void 0))!==null&&d!==void 0?d:"Unknown Error",this.code=i}}class Fl extends it{constructor(s,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:s}),this.name="WebAuthnUnknownError",this.originalError=i}}function _b({error:n,options:s}){var i,o,u;const{publicKey:d}=s;if(!d)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(s.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((i=d.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(s.mediation==="conditional"&&((o=d.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((u=d.authenticatorSelection)===null||u===void 0?void 0:u.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new it({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return d.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const f=window.location.hostname;if(Ag(f)){if(d.rp.id!==f)return new it({message:`The RP ID "${d.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(d.user.id.byteLength<1||d.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Sb({error:n,options:s}){const{publicKey:i}=s;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(s.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new it({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const o=window.location.hostname;if(Ag(o)){if(i.rpId!==o)return new it({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Ab{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const s=new AbortController;return this.controller=s,s.signal}cancelCeremony(){if(this.controller){const s=new Error("Manually cancelling existing WebAuthn API call");s.name="AbortError",this.controller.abort(s),this.controller=void 0}}}const Tb=new Ab;function kb(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:s,user:i,excludeCredentials:o}=n,u=no(n,["challenge","user","excludeCredentials"]),d=tr(s).buffer,f=Object.assign(Object.assign({},i),{id:tr(i.id).buffer}),m=Object.assign(Object.assign({},u),{challenge:d,user:f});if(o&&o.length>0){m.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const g=o[p];m.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:tr(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function Eb(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:s,allowCredentials:i}=n,o=no(n,["challenge","allowCredentials"]),u=tr(s).buffer,d=Object.assign(Object.assign({},o),{challenge:u});if(i&&i.length>0){d.allowCredentials=new Array(i.length);for(let f=0;f<i.length;f++){const m=i[f];d.allowCredentials[f]=Object.assign(Object.assign({},m),{id:tr(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return d}function Cb(n){var s;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n;return{id:n.id,rawId:n.id,response:{attestationObject:en(new Uint8Array(n.response.attestationObject)),clientDataJSON:en(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(s=i.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function Rb(n){var s;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const i=n,o=n.getClientExtensionResults(),u=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:en(new Uint8Array(u.authenticatorData)),clientDataJSON:en(new Uint8Array(u.clientDataJSON)),signature:en(new Uint8Array(u.signature)),userHandle:u.userHandle?en(new Uint8Array(u.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(s=i.authenticatorAttachment)!==null&&s!==void 0?s:void 0}}function Ag(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function F0(){var n,s;return!!(jt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((s=navigator?.credentials)===null||s===void 0?void 0:s.get)=="function")}async function Ob(n){try{const s=await navigator.credentials.create(n);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new Fl("Browser returned unexpected credential type",s)}:{data:null,error:new Fl("Empty credential response",s)}}catch(s){return{data:null,error:_b({error:s,options:n})}}}async function Db(n){try{const s=await navigator.credentials.get(n);return s?s instanceof PublicKeyCredential?{data:s,error:null}:{data:null,error:new Fl("Browser returned unexpected credential type",s)}:{data:null,error:new Fl("Empty credential response",s)}}catch(s){return{data:null,error:Sb({error:s,options:n})}}}const zb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Mb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Wl(...n){const s=u=>u!==null&&typeof u=="object"&&!Array.isArray(u),i=u=>u instanceof ArrayBuffer||ArrayBuffer.isView(u),o={};for(const u of n)if(u)for(const d in u){const f=u[d];if(f!==void 0)if(Array.isArray(f))o[d]=f;else if(i(f))o[d]=f;else if(s(f)){const m=o[d];s(m)?o[d]=Wl(m,f):o[d]=Wl(f)}else o[d]=f}return o}function Ub(n,s){return Wl(zb,n,s||{})}function Bb(n,s){return Wl(Mb,n,s||{})}class Lb{constructor(s){this.client=s,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(s){return this.client.mfa.enroll(Object.assign(Object.assign({},s),{factorType:"webauthn"}))}async _challenge({factorId:s,webauthn:i,friendlyName:o,signal:u},d){var f;try{const{data:m,error:p}=await this.client.mfa.challenge({factorId:s,webauthn:i});if(!m)return{data:null,error:p};const g=u??Tb.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:v}=m.webauthn.credential_options.publicKey;if(!v.name){const N=o;if(N)v.name=`${v.id}:${N}`;else{const j=(await this.client.getUser()).data.user,w=((f=j?.user_metadata)===null||f===void 0?void 0:f.name)||j?.email||j?.id||"User";v.name=`${v.id}:${w}`}}v.displayName||(v.displayName=v.name)}switch(m.webauthn.type){case"create":{const v=Ub(m.webauthn.credential_options.publicKey,d?.create),{data:N,error:y}=await Ob({publicKey:v,signal:g});return N?{data:{factorId:s,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:N}},error:null}:{data:null,error:y}}case"request":{const v=Bb(m.webauthn.credential_options.publicKey,d?.request),{data:N,error:y}=await Db(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:v,signal:g}));return N?{data:{factorId:s,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:N}},error:null}:{data:null,error:y}}}}catch(m){return re(m)?{data:null,error:m}:{data:null,error:new Wa("Unexpected error in challenge",m)}}}async _verify({challengeId:s,factorId:i,webauthn:o}){return this.client.mfa.verify({factorId:i,challengeId:s,webauthn:o})}async _authenticate({factorId:s,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!i)return{data:null,error:new gi("rpId is required for WebAuthn authentication")};try{if(!F0())return{data:null,error:new Wa("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this.challenge({factorId:s,webauthn:{rpId:i,rpOrigins:o},signal:u},{request:d});if(!f)return{data:null,error:m};const{webauthn:p}=f;return this._verify({factorId:s,challengeId:f.challengeId,webauthn:{type:p.type,rpId:i,rpOrigins:o,credential_response:p.credential_response}})}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new Wa("Unexpected error in authenticate",f)}}}async _register({friendlyName:s,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:u}={}},d){if(!i)return{data:null,error:new gi("rpId is required for WebAuthn registration")};try{if(!F0())return{data:null,error:new Wa("Browser does not support WebAuthn",null)};const{data:f,error:m}=await this._enroll({friendlyName:s});if(!f)return await this.client.mfa.listFactors().then(v=>{var N;return(N=v.data)===null||N===void 0?void 0:N.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===s&&y.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v?.id}):void 0),{data:null,error:m};const{data:p,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:i,rpOrigins:o},signal:u},{create:d});return p?this._verify({factorId:f.id,challengeId:p.challengeId,webauthn:{rpId:i,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(f){return re(f)?{data:null,error:f}:{data:null,error:new Wa("Unexpected error in register",f)}}}}bb();const qb={url:Uv,storageKey:Bv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Lv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function W0(n,s,i){return await i()}const Kn={};class pi{get jwks(){var s,i;return(i=(s=Kn[this.storageKey])===null||s===void 0?void 0:s.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(s){Kn[this.storageKey]=Object.assign(Object.assign({},Kn[this.storageKey]),{jwks:s})}get jwks_cached_at(){var s,i;return(i=(s=Kn[this.storageKey])===null||s===void 0?void 0:s.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(s){Kn[this.storageKey]=Object.assign(Object.assign({},Kn[this.storageKey]),{cachedAt:s})}constructor(s){var i,o,u;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const d=Object.assign(Object.assign({},qb),s);if(this.storageKey=d.storageKey,this.instanceID=(i=pi.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,pi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!d.debug,typeof d.debug=="function"&&(this.logger=d.debug),this.instanceID>0&&jt()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=d.persistSession,this.autoRefreshToken=d.autoRefreshToken,this.admin=new yb({url:d.url,headers:d.headers,fetch:d.fetch}),this.url=d.url,this.headers=d.headers,this.fetch=Ng(d.fetch),this.lock=d.lock||W0,this.detectSessionInUrl=d.detectSessionInUrl,this.flowType=d.flowType,this.hasCustomAuthorizationHeader=d.hasCustomAuthorizationHeader,this.throwOnError=d.throwOnError,this.lockAcquireTimeout=d.lockAcquireTimeout,d.lock?this.lock=d.lock:this.persistSession&&jt()&&(!((o=globalThis?.navigator)===null||o===void 0)&&o.locks)?this.lock=vb:this.lock=W0,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Lb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(d.storage?this.storage=d.storage:wg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=J0(this.memoryStorage)),d.userStorage&&(this.userStorage=d.userStorage)):(this.memoryStorage={},this.storage=J0(this.memoryStorage)),jt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(u=this.broadcastChannel)===null||u===void 0||u.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f);try{await this._notifyAllSubscribers(f.data.event,f.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}d.skipAutoInitialize||this.initialize().catch(f=>{this._debug("#initialize()","error",f)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(s){if(this.throwOnError&&s&&s.error)throw s.error;return s}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${vg}) ${new Date().toISOString()}`}_debug(...s){return this.logDebugMessages&&this.logger(this._logPrefix(),...s),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var s;try{let i={},o="none";if(jt()&&(i=Fv(window.location.href),this._isImplicitGrantCallback(i)?o="implicit":await this._isPKCECallback(i)&&(o="pkce")),jt()&&this.detectSessionInUrl&&o!=="none"){const{data:u,error:d}=await this._getSessionFromURL(i,o);if(d){if(this._debug("#_initialize()","error detecting session from URL",d),Iv(d)){const p=(s=d.details)===null||s===void 0?void 0:s.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:d}}return{error:d}}const{session:f,redirectType:m}=u;return this._debug("#_initialize()","detected session in URL",f,"redirect type",m),await this._saveSession(f),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return re(i)?this._returnResult({error:i}):this._returnResult({error:new Wa("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(s){var i,o,u;try{const d=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(i=s?.options)===null||i===void 0?void 0:i.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(u=s?.options)===null||u===void 0?void 0:u.captchaToken}},xform:ms}),{data:f,error:m}=d;if(m||!f)return this._returnResult({data:{user:null,session:null},error:m});const p=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(d){if(re(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signUp(s){var i,o,u;try{let d;if("email"in s){const{email:v,password:N,options:y}=s;let j=null,w=null;this.flowType==="pkce"&&([j,w]=await Gn(this.storage,this.storageKey)),d=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y?.emailRedirectTo,body:{email:v,password:N,data:(i=y?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:y?.captchaToken},code_challenge:j,code_challenge_method:w},xform:ms})}else if("phone"in s){const{phone:v,password:N,options:y}=s;d=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:N,data:(o=y?.data)!==null&&o!==void 0?o:{},channel:(u=y?.channel)!==null&&u!==void 0?u:"sms",gotrue_meta_security:{captcha_token:y?.captchaToken}},xform:ms})}else throw new Vl("You must provide either an email or phone number and a password");const{data:f,error:m}=d;if(m||!f)return await bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(d){if(await bt(this.storage,`${this.storageKey}-code-verifier`),re(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithPassword(s){try{let i;if("email"in s){const{email:d,password:f,options:m}=s;i=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Q0})}else if("phone"in s){const{phone:d,password:f,options:m}=s;i=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:d,password:f,gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:Q0})}else throw new Vl("You must provide either an email or phone number and a password");const{data:o,error:u}=i;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o||!o.session||!o.user){const d=new $n;return this._returnResult({data:{user:null,session:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:u})}catch(i){if(re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(s){var i,o,u,d;return await this._handleProviderSignIn(s.provider,{redirectTo:(i=s.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=s.options)===null||o===void 0?void 0:o.scopes,queryParams:(u=s.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:(d=s.options)===null||d===void 0?void 0:d.skipBrowserRedirect})}async exchangeCodeForSession(s){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(s))}async signInWithWeb3(s){const{chain:i}=s;switch(i){case"ethereum":return await this.signInWithEthereum(s);case"solana":return await this.signInWithSolana(s);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(s){var i,o,u,d,f,m,p,g,v,N,y;let j,w;if("message"in s)j=s.message,w=s.signature;else{const{chain:_,wallet:R,statement:E,options:S}=s;let M;if(jt())if(typeof R=="object")M=R;else{const J=window;if("ethereum"in J&&typeof J.ethereum=="object"&&"request"in J.ethereum&&typeof J.ethereum.request=="function")M=J.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=R}const I=new URL((i=S?.url)!==null&&i!==void 0?i:window.location.href),F=await M.request({method:"eth_requestAccounts"}).then(J=>J).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const W=Sg(F[0]);let Q=(o=S?.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!Q){const J=await M.request({method:"eth_chainId"});Q=jb(J)}const P={domain:I.host,address:W,statement:E,uri:I.href,version:"1",chainId:Q,nonce:(u=S?.signInWithEthereum)===null||u===void 0?void 0:u.nonce,issuedAt:(f=(d=S?.signInWithEthereum)===null||d===void 0?void 0:d.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(m=S?.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=S?.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=S?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=S?.signInWithEthereum)===null||v===void 0?void 0:v.resources};j=Nb(P),w=await M.request({method:"personal_sign",params:[wb(j),W]})}try{const{data:_,error:R}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:j,signature:w},!((N=s.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(y=s.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ms});if(R)throw R;if(!_||!_.session||!_.user){const E=new $n;return this._returnResult({data:{user:null,session:null},error:E})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:R})}catch(_){if(re(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(s){var i,o,u,d,f,m,p,g,v,N,y,j;let w,_;if("message"in s)w=s.message,_=s.signature;else{const{chain:R,wallet:E,statement:S,options:M}=s;let I;if(jt())if(typeof E=="object")I=E;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))I=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=E}const F=new URL((i=M?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in I&&I.signIn){const W=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),S?{statement:S}:null));let Q;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")Q=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)Q=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)w=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),_=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${F.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(u=(o=M?.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&u!==void 0?u:new Date().toISOString()}`,...!((d=M?.signInWithSolana)===null||d===void 0)&&d.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((f=M?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((m=M?.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((p=M?.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((g=M?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((N=(v=M?.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||N===void 0)&&N.length?["Resources",...M.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const W=await I.signMessage(new TextEncoder().encode(w),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=W}}try{const{data:R,error:E}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:en(_)},!((y=s.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(j=s.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:ms});if(E)throw E;if(!R||!R.session||!R.user){const S=new $n;return this._returnResult({data:{user:null,session:null},error:S})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:E})}catch(R){if(re(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async _exchangeCodeForSession(s){const i=await Qa(this.storage,`${this.storageKey}-code-verifier`),[o,u]=(i??"").split("/");try{if(!o&&this.flowType==="pkce")throw new Vv;const{data:d,error:f}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:s,code_verifier:o},xform:ms});if(await bt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!d||!d.session||!d.user){const m=new $n;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:Object.assign(Object.assign({},d),{redirectType:u??null}),error:f})}catch(d){if(await bt(this.storage,`${this.storageKey}-code-verifier`),re(d))return this._returnResult({data:{user:null,session:null,redirectType:null},error:d});throw d}}async signInWithIdToken(s){try{const{options:i,provider:o,token:u,access_token:d,nonce:f}=s,m=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:u,access_token:d,nonce:f,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:ms}),{data:p,error:g}=m;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const v=new $n;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(i){if(re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(s){var i,o,u,d,f;try{if("email"in s){const{email:m,options:p}=s;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Gn(this.storage,this.storageKey));const{error:N}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(i=p?.data)!==null&&i!==void 0?i:{},create_user:(o=p?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:p?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:N})}if("phone"in s){const{phone:m,options:p}=s,{data:g,error:v}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(u=p?.data)!==null&&u!==void 0?u:{},create_user:(d=p?.shouldCreateUser)!==null&&d!==void 0?d:!0,gotrue_meta_security:{captcha_token:p?.captchaToken},channel:(f=p?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:v})}throw new Vl("You must provide either an email or phone number.")}catch(m){if(await bt(this.storage,`${this.storageKey}-code-verifier`),re(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(s){var i,o;try{let u,d;"options"in s&&(u=(i=s.options)===null||i===void 0?void 0:i.redirectTo,d=(o=s.options)===null||o===void 0?void 0:o.captchaToken);const{data:f,error:m}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},s),{gotrue_meta_security:{captcha_token:d}}),redirectTo:u,xform:ms});if(m)throw m;if(!f)throw new Error("An error occurred on token verification.");const p=f.session,g=f.user;return p?.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(s.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(u){if(re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithSSO(s){var i,o,u,d,f;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Gn(this.storage,this.storageKey));const g=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in s?{provider_id:s.providerId}:null),"domain"in s?{domain:s.domain}:null),{redirect_to:(o=(i=s.options)===null||i===void 0?void 0:i.redirectTo)!==null&&o!==void 0?o:void 0}),!((u=s?.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:s.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:gb});return!((d=g.data)===null||d===void 0)&&d.url&&jt()&&!(!((f=s.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(m){if(await bt(this.storage,`${this.storageKey}-code-verifier`),re(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async s=>{const{data:{session:i},error:o}=s;if(o)throw o;if(!i)throw new Xt;const{error:u}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:u})})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async resend(s){try{const i=`${this.url}/resend`;if("email"in s){const{email:o,type:u,options:d}=s,{error:f}=await he(this.fetch,"POST",i,{headers:this.headers,body:{email:o,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in s){const{phone:o,type:u,options:d}=s,{data:f,error:m}=await he(this.fetch,"POST",i,{headers:this.headers,body:{phone:o,type:u,gotrue_meta_security:{captcha_token:d?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:m})}throw new Vl("You must provide either an email or phone number and a type")}catch(i){if(re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(s,i){this._debug("#_acquireLock","begin",s);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),u=(async()=>(await o,await i()))();return this.pendingInLock.push((async()=>{try{await u}catch{}})()),u}return await this.lock(`lock:${this.storageKey}`,s,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=i();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const u=[...this.pendingInLock];await Promise.all(u),this.pendingInLock.splice(0,u.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(s){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await s(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let s=null;const i=await Qa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?s=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!s)return{data:{session:null},error:null};const o=s.expires_at?s.expires_at*1e3-Date.now()<Uu:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",s.expires_at),!o){if(this.userStorage){const f=await Qa(this.userStorage,this.storageKey+"-user");f?.user?s.user=f.user:s.user=qu()}if(this.storage.isServer&&s.user&&!s.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};s.user=db(s.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:s},error:null}}const{data:u,error:d}=await this._callRefreshToken(s.refresh_token);return d?this._returnResult({data:{session:null},error:d}):this._returnResult({data:{session:u},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(s){if(s)return await this._getUser(s);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(s){try{return s?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:s,xform:Aa}):await this._useSession(async i=>{var o,u,d;const{data:f,error:m}=i;if(m)throw m;return!(!((o=f.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xt}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0,xform:Aa})})}catch(i){if(re(i))return Bu(i)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(s,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(s,i))}async _updateUser(s,i={}){try{return await this._useSession(async o=>{const{data:u,error:d}=o;if(d)throw d;if(!u.session)throw new Xt;const f=u.session;let m=null,p=null;this.flowType==="pkce"&&s.email!=null&&([m,p]=await Gn(this.storage,this.storageKey));const{data:g,error:v}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},s),{code_challenge:m,code_challenge_method:p}),jwt:f.access_token,xform:Aa});if(v)throw v;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(o){if(await bt(this.storage,`${this.storageKey}-code-verifier`),re(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(s){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(s))}async _setSession(s){try{if(!s.access_token||!s.refresh_token)throw new Xt;const i=Date.now()/1e3;let o=i,u=!0,d=null;const{payload:f}=Pl(s.access_token);if(f.exp&&(o=f.exp,u=o<=i),u){const{data:m,error:p}=await this._callRefreshToken(s.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};d=m}else{const{data:m,error:p}=await this._getUser(s.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});d={access_token:s.access_token,refresh_token:s.refresh_token,user:m.user,token_type:"bearer",expires_in:o-i,expires_at:o},await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)}return this._returnResult({data:{user:d.user,session:d},error:null})}catch(i){if(re(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(s){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(s))}async _refreshSession(s){try{return await this._useSession(async i=>{var o;if(!s){const{data:f,error:m}=i;if(m)throw m;s=(o=f.session)!==null&&o!==void 0?o:void 0}if(!s?.refresh_token)throw new Xt;const{data:u,error:d}=await this._callRefreshToken(s.refresh_token);return d?this._returnResult({data:{user:null,session:null},error:d}):u?this._returnResult({data:{user:u.user,session:u},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(re(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(s,i){try{if(!jt())throw new Kl("No browser detected.");if(s.error||s.error_description||s.error_code)throw new Kl(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new $0("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!s.code)throw new $0("No code detected.");const{data:S,error:M}=await this._exchangeCodeForSession(s.code);if(M)throw M;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:u,access_token:d,refresh_token:f,expires_in:m,expires_at:p,token_type:g}=s;if(!d||!m||!f||!g)throw new Kl("No session defined in URL");const v=Math.round(Date.now()/1e3),N=parseInt(m);let y=v+N;p&&(y=parseInt(p));const j=y-v;j*1e3<=Fn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${j}s, should have been closer to ${N}s`);const w=y-N;v-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,y,v):v-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,y,v);const{data:_,error:R}=await this._getUser(d);if(R)throw R;const E={provider_token:o,provider_refresh_token:u,access_token:d,expires_in:N,expires_at:y,refresh_token:f,token_type:g,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:s.type},error:null})}catch(o){if(re(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(s){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),s):!!(s.access_token||s.error_description)}async _isPKCECallback(s){const i=await Qa(this.storage,`${this.storageKey}-code-verifier`);return!!(s.code&&i)}async signOut(s={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(s))}async _signOut({scope:s}={scope:"global"}){return await this._useSession(async i=>{var o;const{data:u,error:d}=i;if(d&&!Bu(d))return this._returnResult({error:d});const f=(o=u.session)===null||o===void 0?void 0:o.access_token;if(f){const{error:m}=await this.admin.signOut(f,s);if(m&&!(Gv(m)&&(m.status===404||m.status===401||m.status===403)||Bu(m)))return this._returnResult({error:m})}return s!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(s){const i=Zv(),o={id:i,callback:s,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:o}}}async _emitInitialSession(s){return await this._useSession(async i=>{var o,u;try{const{data:{session:d},error:f}=i;if(f)throw f;await((o=this.stateChangeEmitters.get(s))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",d)),this._debug("INITIAL_SESSION","callback id",s,"session",d)}catch(d){await((u=this.stateChangeEmitters.get(s))===null||u===void 0?void 0:u.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",s,"error",d),console.error(d)}})}async resetPasswordForEmail(s,i={}){let o=null,u=null;this.flowType==="pkce"&&([o,u]=await Gn(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:s,code_challenge:o,code_challenge_method:u,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(d){if(await bt(this.storage,`${this.storageKey}-code-verifier`),re(d))return this._returnResult({data:null,error:d});throw d}}async getUserIdentities(){var s;try{const{data:i,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(s=i.user.identities)!==null&&s!==void 0?s:[]},error:null})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(s){return"token"in s?this.linkIdentityIdToken(s):this.linkIdentityOAuth(s)}async linkIdentityOAuth(s){var i;try{const{data:o,error:u}=await this._useSession(async d=>{var f,m,p,g,v;const{data:N,error:y}=d;if(y)throw y;const j=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,s.provider,{redirectTo:(f=s.options)===null||f===void 0?void 0:f.redirectTo,scopes:(m=s.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=s.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",j,{headers:this.headers,jwt:(v=(g=N.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(u)throw u;return jt()&&!(!((i=s.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(o?.url),this._returnResult({data:{provider:s.provider,url:o?.url},error:null})}catch(o){if(re(o))return this._returnResult({data:{provider:s.provider,url:null},error:o});throw o}}async linkIdentityIdToken(s){return await this._useSession(async i=>{var o;try{const{error:u,data:{session:d}}=i;if(u)throw u;const{options:f,provider:m,token:p,access_token:g,nonce:v}=s,N=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=d?.access_token)!==null&&o!==void 0?o:void 0,body:{provider:m,id_token:p,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:ms}),{data:y,error:j}=N;return j?this._returnResult({data:{user:null,session:null},error:j}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new $n}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:j}))}catch(u){if(await bt(this.storage,`${this.storageKey}-code-verifier`),re(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}})}async unlinkIdentity(s){try{return await this._useSession(async i=>{var o,u;const{data:d,error:f}=i;if(f)throw f;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${s.identity_id}`,{headers:this.headers,jwt:(u=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0})})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(s){const i=`#_refreshAccessToken(${s.substring(0,5)}...)`;this._debug(i,"begin");try{const o=Date.now();return await tb(async u=>(u>0&&await eb(200*Math.pow(2,u-1)),this._debug(i,"refreshing attempt",u),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:s},headers:this.headers,xform:ms})),(u,d)=>{const f=200*Math.pow(2,u);return d&&Lu(d)&&Date.now()+f-o<Fn})}catch(o){if(this._debug(i,"error",o),re(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(i,"end")}}_isValidSession(s){return typeof s=="object"&&s!==null&&"access_token"in s&&"refresh_token"in s&&"expires_at"in s}async _handleProviderSignIn(s,i){const o=await this._getUrlForProvider(`${this.url}/authorize`,s,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",s,"options",i,"url",o),jt()&&!i.skipBrowserRedirect&&window.location.assign(o),{data:{provider:s,url:o},error:null}}async _recoverAndRefresh(){var s,i;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const u=await Qa(this.storage,this.storageKey);if(u&&this.userStorage){let f=await Qa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:u.user},await Wn(this.userStorage,this.storageKey+"-user",f)),u.user=(s=f?.user)!==null&&s!==void 0?s:qu()}else if(u&&!u.user&&!u.user){const f=await Qa(this.storage,this.storageKey+"-user");f&&f?.user?(u.user=f.user,await bt(this.storage,this.storageKey+"-user"),await Wn(this.storage,this.storageKey,u)):u.user=qu()}if(this._debug(o,"session from storage",u),!this._isValidSession(u)){this._debug(o,"session is not valid"),u!==null&&await this._removeSession();return}const d=((i=u.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<Uu;if(this._debug(o,`session has${d?"":" not"} expired with margin of ${Uu}s`),d){if(this.autoRefreshToken&&u.refresh_token){const{error:f}=await this._callRefreshToken(u.refresh_token);f&&(console.error(f),Lu(f)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(u.user&&u.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:m}=await this._getUser(u.access_token);!m&&f?.user?(u.user=f.user,await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(o,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",u)}catch(u){this._debug(o,"error",u),console.error(u);return}finally{this._debug(o,"end")}}async _callRefreshToken(s){var i,o;if(!s)throw new Xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const u=`#_callRefreshToken(${s.substring(0,5)}...)`;this._debug(u,"begin");try{this.refreshingDeferred=new lo;const{data:d,error:f}=await this._refreshAccessToken(s);if(f)throw f;if(!d.session)throw new Xt;await this._saveSession(d.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",d.session);const m={data:d.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(d){if(this._debug(u,"error",d),re(d)){const f={data:null,error:d};return Lu(d)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(f),f}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(d),d}finally{this.refreshingDeferred=null,this._debug(u,"end")}}async _notifyAllSubscribers(s,i,o=!0){const u=`#_notifyAllSubscribers(${s})`;this._debug(u,"begin",i,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:s,session:i});const d=[],f=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(s,i)}catch(p){d.push(p)}});if(await Promise.all(f),d.length>0){for(let m=0;m<d.length;m+=1)console.error(d[m]);throw d[0]}}finally{this._debug(u,"end")}}async _saveSession(s){this._debug("#_saveSession()",s),this.suppressGetSessionWarning=!0,await bt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},s),o=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&i.user&&await Wn(this.userStorage,this.storageKey+"-user",{user:i.user});const u=Object.assign({},i);delete u.user;const d=P0(u);await Wn(this.storage,this.storageKey,d)}else{const u=P0(i);await Wn(this.storage,this.storageKey,u)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const s=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{s&&jt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",s)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const s=setInterval(()=>this._autoRefreshTokenTick(),Fn);this.autoRefreshTicker=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const s=this.autoRefreshTicker;this.autoRefreshTicker=null,s&&clearInterval(s);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const s=Date.now();try{return await this._useSession(async i=>{const{data:{session:o}}=i;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const u=Math.floor((o.expires_at*1e3-s)/Fn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${u} ticks, a tick lasts ${Fn}ms, refresh threshold is ${Ju} ticks`),u<=Ju&&await this._callRefreshToken(o.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(s){if(s.isAcquireTimeout||s instanceof _g)this._debug("auto refresh token tick lock not available");else throw s}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(s){this._debug("#visibilityChangedCallback","error",s)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(s){console.error("_handleVisibilityChange",s)}}async _onVisibilityChanged(s){const i=`#_onVisibilityChanged(${s})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),s||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(s,i,o){const u=[`provider=${encodeURIComponent(i)}`];if(o?.redirectTo&&u.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o?.scopes&&u.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[d,f]=await Gn(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(d)}`,code_challenge_method:`${encodeURIComponent(f)}`});u.push(m.toString())}if(o?.queryParams){const d=new URLSearchParams(o.queryParams);u.push(d.toString())}return o?.skipBrowserRedirect&&u.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${s}?${u.join("&")}`}async _unenroll(s){try{return await this._useSession(async i=>{var o;const{data:u,error:d}=i;return d?this._returnResult({data:null,error:d}):await he(this.fetch,"DELETE",`${this.url}/factors/${s.factorId}`,{headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token})})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(s){try{return await this._useSession(async i=>{var o,u;const{data:d,error:f}=i;if(f)return this._returnResult({data:null,error:f});const m=Object.assign({friendly_name:s.friendlyName,factor_type:s.factorType},s.factorType==="phone"?{phone:s.phone}:s.factorType==="totp"?{issuer:s.issuer}:{}),{data:p,error:g}=await he(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(o=d?.session)===null||o===void 0?void 0:o.access_token});return g?this._returnResult({data:null,error:g}):(s.factorType==="totp"&&p.type==="totp"&&(!((u=p?.totp)===null||u===void 0)&&u.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _verify(s){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var o;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({challenge_id:s.challengeId},"webauthn"in s?{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_response:s.webauthn.type==="create"?Cb(s.webauthn.credential_response):Rb(s.webauthn.credential_response)})}:{code:s.code}),{data:m,error:p}=await he(this.fetch,"POST",`${this.url}/factors/${s.factorId}/verify`,{body:f,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(s){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var o;const{data:u,error:d}=i;if(d)return this._returnResult({data:null,error:d});const f=await he(this.fetch,"POST",`${this.url}/factors/${s.factorId}/challenge`,{body:s,headers:this.headers,jwt:(o=u?.session)===null||o===void 0?void 0:o.access_token});if(f.error)return f;const{data:m}=f;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:kb(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:Eb(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(s){const{data:i,error:o}=await this._challenge({factorId:s.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:s.factorId,challengeId:i.id,code:s.code})}async _listFactors(){var s;const{data:{user:i},error:o}=await this.getUser();if(o)return{data:null,error:o};const u={all:[],phone:[],totp:[],webauthn:[]};for(const d of(s=i?.factors)!==null&&s!==void 0?s:[])u.all.push(d),d.status==="verified"&&u[d.factor_type].push(d);return{data:u,error:null}}async _getAuthenticatorAssuranceLevel(s){var i,o,u,d;if(s)try{const{payload:j}=Pl(s);let w=null;j.aal&&(w=j.aal);let _=w;const{data:{user:R},error:E}=await this.getUser(s);if(E)return this._returnResult({data:null,error:E});((o=(i=R?.factors)===null||i===void 0?void 0:i.filter(I=>I.status==="verified"))!==null&&o!==void 0?o:[]).length>0&&(_="aal2");const M=j.amr||[];return{data:{currentLevel:w,nextLevel:_,currentAuthenticationMethods:M},error:null}}catch(j){if(re(j))return this._returnResult({data:null,error:j});throw j}const{data:{session:f},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!f)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=Pl(f.access_token);let g=null;p.aal&&(g=p.aal);let v=g;((d=(u=f.user.factors)===null||u===void 0?void 0:u.filter(j=>j.status==="verified"))!==null&&d!==void 0?d:[]).length>0&&(v="aal2");const y=p.amr||[];return{data:{currentLevel:g,nextLevel:v,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(s){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;return u?this._returnResult({data:null,error:u}):o?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${s}`,{headers:this.headers,jwt:o.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(s,i){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Xt});const f=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&jt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(o){if(re(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(s,i){try{return await this._useSession(async o=>{const{data:{session:u},error:d}=o;if(d)return this._returnResult({data:null,error:d});if(!u)return this._returnResult({data:null,error:new Xt});const f=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${s}/consent`,{headers:this.headers,jwt:u.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return f.data&&f.data.redirect_url&&jt()&&!i?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(o){if(re(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async s=>{const{data:{session:i},error:o}=s;return o?this._returnResult({data:null,error:o}):i?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new Xt})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _revokeOAuthGrant(s){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;return u?this._returnResult({data:null,error:u}):o?(await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:s.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xt})})}catch(i){if(re(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(s,i={keys:[]}){let o=i.keys.find(m=>m.kid===s);if(o)return o;const u=Date.now();if(o=this.jwks.keys.find(m=>m.kid===s),o&&this.jwks_cached_at+Hv>u)return o;const{data:d,error:f}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!d.keys||d.keys.length===0||(this.jwks=d,this.jwks_cached_at=u,o=d.keys.find(m=>m.kid===s),!o)?null:o}async getClaims(s,i={}){try{let o=s;if(!o){const{data:j,error:w}=await this.getSession();if(w||!j.session)return this._returnResult({data:null,error:w});o=j.session.access_token}const{header:u,payload:d,signature:f,raw:{header:m,payload:p}}=Pl(o);i?.allowExpired||ob(d.exp);const g=!u.alg||u.alg.startsWith("HS")||!u.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(u.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!g){const{error:j}=await this.getUser(o);if(j)throw j;return{data:{claims:d,header:u,signature:f},error:null}}const v=cb(u.alg),N=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,N,f,Xv(`${m}.${p}`)))throw new Wu("Invalid JWT signature");return{data:{claims:d,header:u,signature:f},error:null}}catch(o){if(re(o))return this._returnResult({data:null,error:o});throw o}}}pi.nextInstanceID={};const Hb=pi,$b="2.97.0";let li="";typeof Deno<"u"?li="deno":typeof document<"u"?li="web":typeof navigator<"u"&&navigator.product==="ReactNative"?li="react-native":li="node";const Gb={"X-Client-Info":`supabase-js-${li}/${$b}`},Ib={headers:Gb},Vb={schema:"public"},Kb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Pb={};function xi(n){"@babel/helpers - typeof";return xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},xi(n)}function Yb(n,s){if(xi(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,s);if(xi(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(n)}function Qb(n){var s=Yb(n,"string");return xi(s)=="symbol"?s:s+""}function Xb(n,s,i){return(s=Qb(s))in n?Object.defineProperty(n,s,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[s]=i,n}function eg(n,s){var i=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);s&&(o=o.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),i.push.apply(i,o)}return i}function Ze(n){for(var s=1;s<arguments.length;s++){var i=arguments[s]!=null?arguments[s]:{};s%2?eg(Object(i),!0).forEach(function(o){Xb(n,o,i[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):eg(Object(i)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(i,o))})}return n}const Jb=n=>n?(...s)=>n(...s):(...s)=>fetch(...s),Zb=()=>Headers,Fb=(n,s,i)=>{const o=Jb(i),u=Zb();return async(d,f)=>{var m;const p=(m=await s())!==null&&m!==void 0?m:n;let g=new u(f?.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),o(d,Ze(Ze({},f),{},{headers:g}))}};function Wb(n){return n.endsWith("/")?n:n+"/"}function ej(n,s){var i,o;const{db:u,auth:d,realtime:f,global:m}=n,{db:p,auth:g,realtime:v,global:N}=s,y={db:Ze(Ze({},p),u),auth:Ze(Ze({},g),d),realtime:Ze(Ze({},v),f),storage:{},global:Ze(Ze(Ze({},N),m),{},{headers:Ze(Ze({},(i=N?.headers)!==null&&i!==void 0?i:{}),(o=m?.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return n.accessToken?y.accessToken=n.accessToken:delete y.accessToken,y}function tj(n){const s=n?.trim();if(!s)throw new Error("supabaseUrl is required.");if(!s.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Wb(s))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var sj=class extends Hb{constructor(n){super(n)}},aj=class{constructor(n,s,i){var o,u;this.supabaseUrl=n,this.supabaseKey=s;const d=tj(n);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:Vb,realtime:Pb,auth:Ze(Ze({},Kb),{},{storageKey:f}),global:Ib},p=ej(i??{},m);if(this.storageKey=(o=p.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(u=p.global.headers)!==null&&u!==void 0?u:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,N)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(N)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=Fb(s,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Ze({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new Gy(new URL("rest/v1",d).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new Mv(this.storageUrl.href,this.headers,this.fetch,i?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new zy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,s,i)}channel(n,s={config:{}}){return this.realtime.channel(n,s)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,s,i;if(n.accessToken)return await n.accessToken();const{data:o}=await n.auth.getSession();return(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:s,detectSessionInUrl:i,storage:o,userStorage:u,storageKey:d,flowType:f,lock:m,debug:p,throwOnError:g},v,N){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new sj({url:this.authUrl.href,headers:Ze(Ze({},y),v),storageKey:d,autoRefreshToken:n,persistSession:s,detectSessionInUrl:i,storage:o,userStorage:u,flowType:f,lock:m,debug:p,throwOnError:g,fetch:N,hasCustomAuthorizationHeader:Object.keys(this.headers).some(j=>j.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new rv(this.realtimeUrl.href,Ze(Ze({},n),{},{params:Ze(Ze({},{apikey:this.supabaseKey}),n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s?.access_token)})}_handleTokenChanged(n,s,i){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const nj=(n,s,i)=>new aj(n,s,i);function rj(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const s=n.version;if(s==null)return!1;const i=s.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}rj()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ij="https://xyefgkjcfetnptjzlcjo.supabase.co",lj="sb_publishable_CnzyxFb8vRS9sCutRXnDaA_EIHybnGP",oe=nj(ij,lj);function Yl(n){return{id:n.id,email:n.email,name:n.name,phone:n.phone||"",role:n.role,created_at:n.created_at,location:n.location,google_id:n.google_id,profile_photo:n.profile_photo}}function Xa(n){return{id:n.id,userId:n.user_id,specializations:n.specializations||[],experience:n.experience||0,baseRate:n.base_rate||0,rateType:n.rate_type||"hourly",bio:n.bio||"",location:n.location||"",serviceAreas:n.service_areas||[],availability:n.availability,verificationStatus:n.verification_status,rating:n.rating||0,totalReviews:n.total_reviews||0,documents:[],profilePhoto:n.profile_photo}}function Pn(n){return{id:n.id,nurseId:n.nurse_id,fileName:n.file_name,fileType:n.file_type,fileData:n.file_data||"",uploadedAt:n.uploaded_at,documentType:n.document_type,aiAnalysis:n.ai_analysis}}function Yn(n){return{id:n.id,userId:n.user_id,nurseId:n.nurse_id,userName:n.user_name,nurseName:n.nurse_name,serviceType:n.service_type,startDate:n.start_date,endDate:n.end_date,status:n.status,paymentMethod:n.payment_method,paymentStatus:n.payment_status,totalAmount:n.total_amount||0,notes:n.notes||"",createdAt:n.created_at,feedback:n.feedback,nursePhone:n.nurse_phone,userPhone:n.user_phone}}function Qn(n){return{id:n.id,reportedBy:n.reported_by,reporterName:n.reporter_name,photo:n.photo||"",latitude:n.latitude,longitude:n.longitude,locationDescription:n.location_description||"",description:n.description||"",createdAt:n.created_at,nearbyShelters:n.nearby_shelters||[],status:n.status,assignedShelterId:n.assigned_shelter_id||void 0,acceptedAt:n.accepted_at||void 0}}function Ql(n){return{id:n.id,name:n.name,address:n.address,latitude:n.latitude,longitude:n.longitude,phone:n.phone||"",email:n.email||"",capacity:n.capacity||0,shelterUserId:n.shelter_user_id||void 0}}const Zt={getAll:async()=>{const{data:n,error:s}=await oe.from("profiles").select("*");return s?(console.error("UserDB.getAll:",s),[]):(n||[]).map(Yl)},getById:async n=>{const{data:s,error:i}=await oe.from("profiles").select("*").eq("id",n).single();if(!(i||!s))return Yl(s)},getByEmail:async n=>{const{data:s,error:i}=await oe.from("profiles").select("*").ilike("email",n).single();if(!(i||!s))return Yl(s)},update:async(n,s)=>{const i={};s.name!==void 0&&(i.name=s.name),s.phone!==void 0&&(i.phone=s.phone),s.role!==void 0&&(i.role=s.role),s.location!==void 0&&(i.location=s.location),s.google_id!==void 0&&(i.google_id=s.google_id),s.profile_photo!==void 0&&(i.profile_photo=s.profile_photo);const{data:o,error:u}=await oe.from("profiles").update(i).eq("id",n).select().single();if(u||!o){console.error("UserDB.update:",u);return}return Yl(o)},delete:async n=>{const{error:s}=await oe.from("profiles").delete().eq("id",n);return!s}},Et={getAllOverview:async()=>{const{data:n,error:s}=await oe.from("nurse_profiles").select("id, user_id, specializations, experience, base_rate, rate_type, bio, location, service_areas, availability, verification_status, rating, total_reviews");return s?[]:(n||[]).map(i=>Xa({...i,profile_photo:""}))},getAll:async()=>{const{data:n,error:s}=await oe.from("nurse_profiles").select("*");return s?(console.error("NurseProfileDB.getAll:",s),[]):(n||[]).map(Xa)},getByUserId:async n=>{const{data:s,error:i}=await oe.from("nurse_profiles").select("*").eq("user_id",n).single();if(!(i||!s))return Xa(s)},getApproved:async()=>{const{data:n,error:s}=await oe.from("nurse_profiles").select("*").eq("verification_status","approved");return s?[]:(n||[]).map(Xa)},create:async n=>{const s={user_id:n.userId,specializations:n.specializations,experience:n.experience,base_rate:n.baseRate,rate_type:n.rateType,bio:n.bio,location:n.location,service_areas:n.serviceAreas,availability:n.availability,verification_status:n.verificationStatus,rating:n.rating,total_reviews:n.totalReviews,profile_photo:n.profilePhoto},{data:i,error:o}=await oe.from("nurse_profiles").insert(s).select().single();return o||!i?(console.error("NurseProfileDB.create:",o),n):Xa(i)},update:async(n,s)=>{const i={};s.specializations!==void 0&&(i.specializations=s.specializations),s.experience!==void 0&&(i.experience=s.experience),s.baseRate!==void 0&&(i.base_rate=s.baseRate),s.rateType!==void 0&&(i.rate_type=s.rateType),s.bio!==void 0&&(i.bio=s.bio),s.location!==void 0&&(i.location=s.location),s.serviceAreas!==void 0&&(i.service_areas=s.serviceAreas),s.availability!==void 0&&(i.availability=s.availability),s.verificationStatus!==void 0&&(i.verification_status=s.verificationStatus),s.rating!==void 0&&(i.rating=s.rating),s.totalReviews!==void 0&&(i.total_reviews=s.totalReviews),s.profilePhoto!==void 0&&(i.profile_photo=s.profilePhoto);const{data:o,error:u}=await oe.from("nurse_profiles").update(i).eq("user_id",n).select().single();if(u||!o){console.error("NurseProfileDB.update:",u);return}return Xa(o)},delete:async n=>{const{error:s}=await oe.from("nurse_profiles").delete().eq("user_id",n);return!s},search:async(n,s)=>{let i=oe.from("nurse_profiles").select("*").eq("verification_status","approved");n&&(i=i.ilike("location",`%${n}%`));const{data:o,error:u}=await i;if(u)return[];let d=(o||[]).map(Xa);if(n){const f=n.toLowerCase();d=d.filter(m=>m.location.toLowerCase().includes(f)||m.serviceAreas.some(p=>p.toLowerCase().includes(f)))}if(s){const f=s.toLowerCase();d=d.filter(m=>m.specializations.some(p=>p.toLowerCase().includes(f)))}return d}},Bt={getAllOverview:async()=>{const{data:n,error:s}=await oe.from("nurse_documents").select("id, nurse_id, file_name, file_type, document_type, ai_analysis, uploaded_at");return s?[]:(n||[]).map(Pn)},getAll:async()=>{const{data:n,error:s}=await oe.from("nurse_documents").select("*");return s?[]:(n||[]).map(Pn)},getByNurseId:async n=>{const{data:s,error:i}=await oe.from("nurse_documents").select("*").eq("nurse_id",n);return i?[]:(s||[]).map(Pn)},getById:async n=>{const{data:s,error:i}=await oe.from("nurse_documents").select("*").eq("id",n).single();if(!(i||!s))return Pn(s)},create:async n=>{const s={nurse_id:n.nurseId,file_name:n.fileName,file_type:n.fileType,file_data:n.fileData,document_type:n.documentType,ai_analysis:n.aiAnalysis},{data:i,error:o}=await oe.from("nurse_documents").insert(s).select().single();return o||!i?(console.error("DocumentDB.create:",o),{...n,id:"temp",uploadedAt:new Date().toISOString()}):Pn(i)},update:async(n,s)=>{const i={};s.aiAnalysis!==void 0&&(i.ai_analysis=s.aiAnalysis),s.fileName!==void 0&&(i.file_name=s.fileName),s.fileType!==void 0&&(i.file_type=s.fileType),s.fileData!==void 0&&(i.file_data=s.fileData),s.documentType!==void 0&&(i.document_type=s.documentType);const{data:o,error:u}=await oe.from("nurse_documents").update(i).eq("id",n).select().single();if(!(u||!o))return Pn(o)},delete:async n=>{const{error:s}=await oe.from("nurse_documents").delete().eq("id",n);return!s}},We={getAll:async()=>{const{data:n,error:s}=await oe.from("bookings").select("*");return s?[]:(n||[]).map(Yn)},getById:async n=>{const{data:s,error:i}=await oe.from("bookings").select("*").eq("id",n).single();if(!(i||!s))return Yn(s)},getByUserId:async n=>{const{data:s,error:i}=await oe.from("bookings").select("*").eq("user_id",n);return i?[]:(s||[]).map(Yn)},getByNurseId:async n=>{const{data:s,error:i}=await oe.from("bookings").select("*").eq("nurse_id",n);return i?[]:(s||[]).map(Yn)},create:async n=>{const s={user_id:n.userId,nurse_id:n.nurseId,user_name:n.userName,nurse_name:n.nurseName,service_type:n.serviceType,start_date:n.startDate,end_date:n.endDate,status:n.status,payment_method:n.paymentMethod,total_amount:n.totalAmount,notes:n.notes,nurse_phone:n.nursePhone,user_phone:n.userPhone},{data:i,error:o}=await oe.from("bookings").insert(s).select().single();return o||!i?(console.error("BookingDB.create:",o),{...n,id:"temp",createdAt:new Date().toISOString()}):Yn(i)},update:async(n,s)=>{const i={};s.status!==void 0&&(i.status=s.status),s.paymentStatus!==void 0&&(i.payment_status=s.paymentStatus),s.feedback!==void 0&&(i.feedback=s.feedback),s.nursePhone!==void 0&&(i.nurse_phone=s.nursePhone),s.notes!==void 0&&(i.notes=s.notes);const{data:o,error:u}=await oe.from("bookings").update(i).eq("id",n).select().single();if(!(u||!o))return Yn(o)}},us={getAllOverview:async()=>{const{data:n,error:s}=await oe.from("shelter_reports").select("id, reported_by, reporter_name, latitude, longitude, location_description, description, created_at, status, assigned_shelter_id, accepted_at");return s?[]:(n||[]).map(i=>Qn({...i,photo:""}))},getAll:async()=>{const{data:n,error:s}=await oe.from("shelter_reports").select("*");return s?[]:(n||[]).map(Qn)},getById:async n=>{const{data:s,error:i}=await oe.from("shelter_reports").select("*").eq("id",n).single();if(!(i||!s))return Qn(s)},getByShelterId:async n=>{const{data:s,error:i}=await oe.from("shelter_reports").select("*").eq("assigned_shelter_id",n).order("created_at",{ascending:!1});return i?[]:(s||[]).map(Qn)},create:async n=>{let s=n.assignedShelterId;if(!s&&n.nearbyShelters&&n.nearbyShelters.length>0){const d=n.nearbyShelters[0];(d.distanceKm??1/0)<=50&&(s=d.id)}const i={reported_by:n.reportedBy,reporter_name:n.reporterName,photo:n.photo,latitude:n.latitude,longitude:n.longitude,location_description:n.locationDescription,description:n.description,status:n.status,assigned_shelter_id:s||null},{data:o,error:u}=await oe.from("shelter_reports").insert(i).select().single();return u||!o?(console.error("ShelterReportDB.create:",u),{...n,id:"temp",createdAt:new Date().toISOString()}):(s&&Xs.getAll().then(d=>{const f=d.find(m=>m.id===s);f?.shelterUserId&&wt.create({userId:f.shelterUserId,title:"New Help Report",message:`New humanitarian report assigned to your shelter at ${n.locationDescription||"a nearby location"}.`,type:"warning"}).catch(console.error)}).catch(console.error),Qn(o))},update:async(n,s)=>{const i={};s.status!==void 0&&(i.status=s.status),s.acceptedAt!==void 0&&(i.accepted_at=s.acceptedAt),s.assignedShelterId!==void 0&&(i.assigned_shelter_id=s.assignedShelterId);const{data:o,error:u}=await oe.from("shelter_reports").update(i).eq("id",n).select().single();if(!(u||!o))return Qn(o)}},Xs={getAll:async()=>{const{data:n,error:s}=await oe.from("shelters").select("*");return s?[]:(n||[]).map(Ql)},getByUserId:async n=>{const{data:s,error:i}=await oe.from("shelters").select("*").eq("shelter_user_id",n).single();if(!(i||!s))return Ql(s)},getById:async n=>{const{data:s,error:i}=await oe.from("shelters").select("*").eq("id",n).single();if(!(i||!s))return Ql(s)},create:async n=>{const s={name:n.name,address:n.address,latitude:n.latitude,longitude:n.longitude,phone:n.phone,email:n.email,capacity:n.capacity,shelter_user_id:n.shelterUserId||null},{data:i,error:o}=await oe.from("shelters").insert(s).select().single();if(o||!i){console.error("ShelterDB.create:",o);return}return Ql(i)}};function oj(n){return{id:n.id,adminId:n.admin_id,adminName:n.admin_name,action:n.action,target:n.target,details:n.details,createdAt:n.created_at}}const bi={getAll:async()=>{const{data:n,error:s}=await oe.from("admin_logs").select("*").order("created_at",{ascending:!1}).limit(200);return s?[]:(n||[]).map(oj)},create:async n=>{await oe.from("admin_logs").insert({admin_id:n.adminId,admin_name:n.adminName,action:n.action,target:n.target,details:n.details})}};function cj(n){return{id:n.id,userId:n.user_id,message:n.message,type:n.type,read:n.read,createdAt:n.created_at,title:n.title,link:n.link}}const wt={getByUserId:async n=>{const{data:s,error:i}=await oe.from("notifications").select("*").eq("user_id",n).order("created_at",{ascending:!1});return i?(console.error("Error fetching notifications:",i),[]):(s||[]).map(cj)},markAsRead:async n=>{await oe.from("notifications").update({read:!0}).eq("id",n)},markAllAsRead:async n=>{await oe.from("notifications").update({read:!0}).eq("user_id",n)},delete:async n=>{await oe.from("notifications").delete().eq("id",n)},create:async n=>{await oe.from("notifications").insert({user_id:n.userId,title:n.title,message:n.message,type:n.type,link:n.link})}},Tg=k.createContext(null);function uj({children:n}){const[s,i]=k.useState(null),[o,u]=k.useState(!0);k.useEffect(()=>{oe.auth.getSession().then(async({data:{session:w}})=>{if(w?.user){const _=await Zt.getById(w.user.id);_&&i(_)}u(!1)}).catch(()=>{u(!1)});const y=setTimeout(()=>u(!1),5e3),{data:{subscription:j}}=oe.auth.onAuthStateChange(async(w,_)=>{if(w!=="INITIAL_SESSION"){if(w==="SIGNED_OUT"){i(null);return}if(_?.user){await new Promise(E=>setTimeout(E,500));const R=await Zt.getById(_.user.id);R&&i(R)}}});return()=>{j.unsubscribe(),clearTimeout(y)}},[]);const d=k.useCallback(async(y,j)=>{const{error:w}=await oe.auth.signInWithPassword({email:y,password:j});return w?{success:!1,error:w.message}:{success:!0}},[]),f=k.useCallback(async(y,j)=>{if(!y||y.length<10)return{success:!1,error:"Please enter a valid phone number."};if(!j){const{error:_}=await oe.auth.signInWithOtp({phone:y});return _?{success:!1,error:_.message}:{success:!0,error:"OTP sent! Please enter the code."}}const{error:w}=await oe.auth.verifyOtp({phone:y,token:j,type:"sms"});return w?{success:!1,error:w.message}:{success:!0}},[]),m=k.useCallback(async()=>{const{error:y}=await oe.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin}});return y?{success:!1,error:y.message}:{success:!0}},[]),p=k.useCallback(async y=>{const{error:j}=await oe.auth.signUp({email:y.email,password:y.password,options:{data:{name:y.role==="shelter"&&y.shelterName||y.name,phone:y.phone,role:y.role,location:y.role==="shelter"?y.shelterAddress||y.location||"":y.location||"",lat:y.role==="shelter"&&y.shelterLat||0,lng:y.role==="shelter"&&y.shelterLng||0,capacity:y.role==="shelter"?y.shelterCapacity||50:0}}});if(j)return j.message.includes("already registered")?{success:!1,error:"An account with this email already exists."}:{success:!1,error:j.message};if(y.role==="shelter")try{const{data:w}=await oe.auth.getSession(),_=w?.session?.user?.id;_&&await Xs.create({name:y.shelterName||y.name,address:y.shelterAddress||y.location||"",latitude:y.shelterLat||0,longitude:y.shelterLng||0,phone:y.phone,email:y.email,capacity:y.shelterCapacity||50,shelterUserId:_})}catch(w){console.error("Failed to create shelter record during registration:",w)}return{success:!0}},[]),g=k.useCallback(async y=>{const{error:j}=await oe.auth.resetPasswordForEmail(y,{redirectTo:`${window.location.origin}`});return j?{success:!1,error:j.message}:{success:!0}},[]),v=k.useCallback(async()=>{try{await oe.auth.signOut()}catch(y){console.error("Logout error:",y)}finally{i(null)}},[]),N=k.useCallback(async y=>{if(!s)return;const j=await Zt.update(s.id,y);j&&i(j)},[s]);return a.jsx(Tg.Provider,{value:{user:s,loading:o,isAuthenticated:!!s,login:d,loginWithPhone:f,loginWithGoogle:m,register:p,resetPassword:g,logout:v,updateUser:N},children:n})}function Ge(){const n=k.useContext(Tg);if(!n)throw new Error("useAuth must be used within AuthProvider");return n}function kg(n){var s,i,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var u=n.length;for(s=0;s<u;s++)n[s]&&(i=kg(n[s]))&&(o&&(o+=" "),o+=i)}else for(i in n)n[i]&&(o&&(o+=" "),o+=i);return o}function dj(){for(var n,s,i=0,o="",u=arguments.length;i<u;i++)(n=arguments[i])&&(s=kg(n))&&(o&&(o+=" "),o+=s);return o}const hj=(n,s)=>{const i=new Array(n.length+s.length);for(let o=0;o<n.length;o++)i[o]=n[o];for(let o=0;o<s.length;o++)i[n.length+o]=s[o];return i},fj=(n,s)=>({classGroupId:n,validator:s}),Eg=(n=new Map,s=null,i)=>({nextPart:n,validators:s,classGroupId:i}),eo="-",tg=[],mj="arbitrary..",gj=n=>{const s=xj(n),{conflictingClassGroups:i,conflictingClassGroupModifiers:o}=n;return{getClassGroupId:f=>{if(f.startsWith("[")&&f.endsWith("]"))return pj(f);const m=f.split(eo),p=m[0]===""&&m.length>1?1:0;return Cg(m,p,s)},getConflictingClassGroupIds:(f,m)=>{if(m){const p=o[f],g=i[f];return p?g?hj(g,p):p:g||tg}return i[f]||tg}}},Cg=(n,s,i)=>{if(n.length-s===0)return i.classGroupId;const u=n[s],d=i.nextPart.get(u);if(d){const g=Cg(n,s+1,d);if(g)return g}const f=i.validators;if(f===null)return;const m=s===0?n.join(eo):n.slice(s).join(eo),p=f.length;for(let g=0;g<p;g++){const v=f[g];if(v.validator(m))return v.classGroupId}},pj=n=>n.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const s=n.slice(1,-1),i=s.indexOf(":"),o=s.slice(0,i);return o?mj+o:void 0})(),xj=n=>{const{theme:s,classGroups:i}=n;return yj(i,s)},yj=(n,s)=>{const i=Eg();for(const o in n){const u=n[o];fd(u,i,o,s)}return i},fd=(n,s,i,o)=>{const u=n.length;for(let d=0;d<u;d++){const f=n[d];vj(f,s,i,o)}},vj=(n,s,i,o)=>{if(typeof n=="string"){bj(n,s,i);return}if(typeof n=="function"){jj(n,s,i,o);return}wj(n,s,i,o)},bj=(n,s,i)=>{const o=n===""?s:Rg(s,n);o.classGroupId=i},jj=(n,s,i,o)=>{if(Nj(n)){fd(n(o),s,i,o);return}s.validators===null&&(s.validators=[]),s.validators.push(fj(i,n))},wj=(n,s,i,o)=>{const u=Object.entries(n),d=u.length;for(let f=0;f<d;f++){const[m,p]=u[f];fd(p,Rg(s,m),i,o)}},Rg=(n,s)=>{let i=n;const o=s.split(eo),u=o.length;for(let d=0;d<u;d++){const f=o[d];let m=i.nextPart.get(f);m||(m=Eg(),i.nextPart.set(f,m)),i=m}return i},Nj=n=>"isThemeGetter"in n&&n.isThemeGetter===!0,_j=n=>{if(n<1)return{get:()=>{},set:()=>{}};let s=0,i=Object.create(null),o=Object.create(null);const u=(d,f)=>{i[d]=f,s++,s>n&&(s=0,o=i,i=Object.create(null))};return{get(d){let f=i[d];if(f!==void 0)return f;if((f=o[d])!==void 0)return u(d,f),f},set(d,f){d in i?i[d]=f:u(d,f)}}},ed="!",sg=":",Sj=[],ag=(n,s,i,o,u)=>({modifiers:n,hasImportantModifier:s,baseClassName:i,maybePostfixModifierPosition:o,isExternal:u}),Aj=n=>{const{prefix:s,experimentalParseClassName:i}=n;let o=u=>{const d=[];let f=0,m=0,p=0,g;const v=u.length;for(let _=0;_<v;_++){const R=u[_];if(f===0&&m===0){if(R===sg){d.push(u.slice(p,_)),p=_+1;continue}if(R==="/"){g=_;continue}}R==="["?f++:R==="]"?f--:R==="("?m++:R===")"&&m--}const N=d.length===0?u:u.slice(p);let y=N,j=!1;N.endsWith(ed)?(y=N.slice(0,-1),j=!0):N.startsWith(ed)&&(y=N.slice(1),j=!0);const w=g&&g>p?g-p:void 0;return ag(d,j,y,w)};if(s){const u=s+sg,d=o;o=f=>f.startsWith(u)?d(f.slice(u.length)):ag(Sj,!1,f,void 0,!0)}if(i){const u=o;o=d=>i({className:d,parseClassName:u})}return o},Tj=n=>{const s=new Map;return n.orderSensitiveModifiers.forEach((i,o)=>{s.set(i,1e6+o)}),i=>{const o=[];let u=[];for(let d=0;d<i.length;d++){const f=i[d],m=f[0]==="[",p=s.has(f);m||p?(u.length>0&&(u.sort(),o.push(...u),u=[]),o.push(f)):u.push(f)}return u.length>0&&(u.sort(),o.push(...u)),o}},kj=n=>({cache:_j(n.cacheSize),parseClassName:Aj(n),sortModifiers:Tj(n),...gj(n)}),Ej=/\s+/,Cj=(n,s)=>{const{parseClassName:i,getClassGroupId:o,getConflictingClassGroupIds:u,sortModifiers:d}=s,f=[],m=n.trim().split(Ej);let p="";for(let g=m.length-1;g>=0;g-=1){const v=m[g],{isExternal:N,modifiers:y,hasImportantModifier:j,baseClassName:w,maybePostfixModifierPosition:_}=i(v);if(N){p=v+(p.length>0?" "+p:p);continue}let R=!!_,E=o(R?w.substring(0,_):w);if(!E){if(!R){p=v+(p.length>0?" "+p:p);continue}if(E=o(w),!E){p=v+(p.length>0?" "+p:p);continue}R=!1}const S=y.length===0?"":y.length===1?y[0]:d(y).join(":"),M=j?S+ed:S,I=M+E;if(f.indexOf(I)>-1)continue;f.push(I);const F=u(E,R);for(let W=0;W<F.length;++W){const Q=F[W];f.push(M+Q)}p=v+(p.length>0?" "+p:p)}return p},Rj=(...n)=>{let s=0,i,o,u="";for(;s<n.length;)(i=n[s++])&&(o=Og(i))&&(u&&(u+=" "),u+=o);return u},Og=n=>{if(typeof n=="string")return n;let s,i="";for(let o=0;o<n.length;o++)n[o]&&(s=Og(n[o]))&&(i&&(i+=" "),i+=s);return i},Oj=(n,...s)=>{let i,o,u,d;const f=p=>{const g=s.reduce((v,N)=>N(v),n());return i=kj(g),o=i.cache.get,u=i.cache.set,d=m,m(p)},m=p=>{const g=o(p);if(g)return g;const v=Cj(p,i);return u(p,v),v};return d=f,(...p)=>d(Rj(...p))},Dj=[],ot=n=>{const s=i=>i[n]||Dj;return s.isThemeGetter=!0,s},Dg=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,zg=/^\((?:(\w[\w-]*):)?(.+)\)$/i,zj=/^\d+\/\d+$/,Mj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Uj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Lj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xn=n=>zj.test(n),be=n=>!!n&&!Number.isNaN(Number(n)),_a=n=>!!n&&Number.isInteger(Number(n)),$u=n=>n.endsWith("%")&&be(n.slice(0,-1)),Gs=n=>Mj.test(n),Hj=()=>!0,$j=n=>Uj.test(n)&&!Bj.test(n),Mg=()=>!1,Gj=n=>Lj.test(n),Ij=n=>qj.test(n),Vj=n=>!te(n)&&!se(n),Kj=n=>ir(n,Lg,Mg),te=n=>Dg.test(n),Ja=n=>ir(n,qg,$j),Gu=n=>ir(n,Jj,be),ng=n=>ir(n,Ug,Mg),Pj=n=>ir(n,Bg,Ij),Xl=n=>ir(n,Hg,Gj),se=n=>zg.test(n),ni=n=>lr(n,qg),Yj=n=>lr(n,Zj),rg=n=>lr(n,Ug),Qj=n=>lr(n,Lg),Xj=n=>lr(n,Bg),Jl=n=>lr(n,Hg,!0),ir=(n,s,i)=>{const o=Dg.exec(n);return o?o[1]?s(o[1]):i(o[2]):!1},lr=(n,s,i=!1)=>{const o=zg.exec(n);return o?o[1]?s(o[1]):i:!1},Ug=n=>n==="position"||n==="percentage",Bg=n=>n==="image"||n==="url",Lg=n=>n==="length"||n==="size"||n==="bg-size",qg=n=>n==="length",Jj=n=>n==="number",Zj=n=>n==="family-name",Hg=n=>n==="shadow",Fj=()=>{const n=ot("color"),s=ot("font"),i=ot("text"),o=ot("font-weight"),u=ot("tracking"),d=ot("leading"),f=ot("breakpoint"),m=ot("container"),p=ot("spacing"),g=ot("radius"),v=ot("shadow"),N=ot("inset-shadow"),y=ot("text-shadow"),j=ot("drop-shadow"),w=ot("blur"),_=ot("perspective"),R=ot("aspect"),E=ot("ease"),S=ot("animate"),M=()=>["auto","avoid","all","avoid-page","page","left","right","column"],I=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],F=()=>[...I(),se,te],W=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto","contain","none"],P=()=>[se,te,p],J=()=>[Xn,"full","auto",...P()],Ie=()=>[_a,"none","subgrid",se,te],Qe=()=>["auto",{span:["full",_a,se,te]},_a,se,te],Pe=()=>[_a,"auto",se,te],Wt=()=>["auto","min","max","fr",se,te],Tt=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Se=()=>["start","end","center","stretch","center-safe","end-safe"],B=()=>["auto",...P()],Y=()=>[Xn,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],V=()=>[n,se,te],Ce=()=>[...I(),rg,ng,{position:[se,te]}],Oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],C=()=>["auto","cover","contain",Qj,Kj,{size:[se,te]}],$=()=>[$u,ni,Ja],K=()=>["","none","full",g,se,te],Z=()=>["",be,ni,Ja],me=()=>["solid","dashed","dotted","double"],ve=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],fe=()=>[be,$u,rg,ng],dt=()=>["","none",w,se,te],qe=()=>["none",be,se,te],ys=()=>["none",be,se,te],Zs=()=>[be,se,te],Fs=()=>[Xn,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Gs],breakpoint:[Gs],color:[Hj],container:[Gs],"drop-shadow":[Gs],ease:["in","out","in-out"],font:[Vj],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Gs],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Gs],shadow:[Gs],spacing:["px",be],text:[Gs],"text-shadow":[Gs],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xn,te,se,R]}],container:["container"],columns:[{columns:[be,te,se,m]}],"break-after":[{"break-after":M()}],"break-before":[{"break-before":M()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:F()}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:J()}],"inset-x":[{"inset-x":J()}],"inset-y":[{"inset-y":J()}],start:[{start:J()}],end:[{end:J()}],top:[{top:J()}],right:[{right:J()}],bottom:[{bottom:J()}],left:[{left:J()}],visibility:["visible","invisible","collapse"],z:[{z:[_a,"auto",se,te]}],basis:[{basis:[Xn,"full","auto",m,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[be,Xn,"auto","initial","none",te]}],grow:[{grow:["",be,se,te]}],shrink:[{shrink:["",be,se,te]}],order:[{order:[_a,"first","last","none",se,te]}],"grid-cols":[{"grid-cols":Ie()}],"col-start-end":[{col:Qe()}],"col-start":[{"col-start":Pe()}],"col-end":[{"col-end":Pe()}],"grid-rows":[{"grid-rows":Ie()}],"row-start-end":[{row:Qe()}],"row-start":[{"row-start":Pe()}],"row-end":[{"row-end":Pe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Wt()}],"auto-rows":[{"auto-rows":Wt()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...Tt(),"normal"]}],"justify-items":[{"justify-items":[...Se(),"normal"]}],"justify-self":[{"justify-self":["auto",...Se()]}],"align-content":[{content:["normal",...Tt()]}],"align-items":[{items:[...Se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Se(),{baseline:["","last"]}]}],"place-content":[{"place-content":Tt()}],"place-items":[{"place-items":[...Se(),"baseline"]}],"place-self":[{"place-self":["auto",...Se()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:B()}],mx:[{mx:B()}],my:[{my:B()}],ms:[{ms:B()}],me:[{me:B()}],mt:[{mt:B()}],mr:[{mr:B()}],mb:[{mb:B()}],ml:[{ml:B()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[m,"screen",...Y()]}],"min-w":[{"min-w":[m,"screen","none",...Y()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[f]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",i,ni,Ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,se,Gu]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",$u,te]}],"font-family":[{font:[Yj,te,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[u,se,te]}],"line-clamp":[{"line-clamp":[be,"none",se,Gu]}],leading:[{leading:[d,...P()]}],"list-image":[{"list-image":["none",se,te]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",se,te]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:[be,"from-font","auto",se,Ja]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[be,"auto",se,te]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",se,te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",se,te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Ce()}],"bg-repeat":[{bg:Oe()}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},_a,se,te],radial:["",se,te],conic:[_a,se,te]},Xj,Pj]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...me(),"hidden","none"]}],"divide-style":[{divide:[...me(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[be,se,te]}],"outline-w":[{outline:["",be,ni,Ja]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",v,Jl,Xl]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",N,Jl,Xl]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[be,Ja]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",y,Jl,Xl]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[be,se,te]}],"mix-blend":[{"mix-blend":[...ve(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ve()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[be]}],"mask-image-linear-from-pos":[{"mask-linear-from":fe()}],"mask-image-linear-to-pos":[{"mask-linear-to":fe()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":fe()}],"mask-image-t-to-pos":[{"mask-t-to":fe()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":fe()}],"mask-image-r-to-pos":[{"mask-r-to":fe()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":fe()}],"mask-image-b-to-pos":[{"mask-b-to":fe()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":fe()}],"mask-image-l-to-pos":[{"mask-l-to":fe()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":fe()}],"mask-image-x-to-pos":[{"mask-x-to":fe()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":fe()}],"mask-image-y-to-pos":[{"mask-y-to":fe()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[se,te]}],"mask-image-radial-from-pos":[{"mask-radial-from":fe()}],"mask-image-radial-to-pos":[{"mask-radial-to":fe()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":I()}],"mask-image-conic-pos":[{"mask-conic":[be]}],"mask-image-conic-from-pos":[{"mask-conic-from":fe()}],"mask-image-conic-to-pos":[{"mask-conic-to":fe()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Ce()}],"mask-repeat":[{mask:Oe()}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",se,te]}],filter:[{filter:["","none",se,te]}],blur:[{blur:dt()}],brightness:[{brightness:[be,se,te]}],contrast:[{contrast:[be,se,te]}],"drop-shadow":[{"drop-shadow":["","none",j,Jl,Xl]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",be,se,te]}],"hue-rotate":[{"hue-rotate":[be,se,te]}],invert:[{invert:["",be,se,te]}],saturate:[{saturate:[be,se,te]}],sepia:[{sepia:["",be,se,te]}],"backdrop-filter":[{"backdrop-filter":["","none",se,te]}],"backdrop-blur":[{"backdrop-blur":dt()}],"backdrop-brightness":[{"backdrop-brightness":[be,se,te]}],"backdrop-contrast":[{"backdrop-contrast":[be,se,te]}],"backdrop-grayscale":[{"backdrop-grayscale":["",be,se,te]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[be,se,te]}],"backdrop-invert":[{"backdrop-invert":["",be,se,te]}],"backdrop-opacity":[{"backdrop-opacity":[be,se,te]}],"backdrop-saturate":[{"backdrop-saturate":[be,se,te]}],"backdrop-sepia":[{"backdrop-sepia":["",be,se,te]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",se,te]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[be,"initial",se,te]}],ease:[{ease:["linear","initial",E,se,te]}],delay:[{delay:[be,se,te]}],animate:[{animate:["none",S,se,te]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,se,te]}],"perspective-origin":[{"perspective-origin":F()}],rotate:[{rotate:qe()}],"rotate-x":[{"rotate-x":qe()}],"rotate-y":[{"rotate-y":qe()}],"rotate-z":[{"rotate-z":qe()}],scale:[{scale:ys()}],"scale-x":[{"scale-x":ys()}],"scale-y":[{"scale-y":ys()}],"scale-z":[{"scale-z":ys()}],"scale-3d":["scale-3d"],skew:[{skew:Zs()}],"skew-x":[{"skew-x":Zs()}],"skew-y":[{"skew-y":Zs()}],transform:[{transform:[se,te,"","none","gpu","cpu"]}],"transform-origin":[{origin:F()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Fs()}],"translate-x":[{"translate-x":Fs()}],"translate-y":[{"translate-y":Fs()}],"translate-z":[{"translate-z":Fs()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",se,te]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",se,te]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[be,ni,Ja,Gu]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Wj=Oj(Fj);function ce(...n){return Wj(dj(n))}const ae=k.forwardRef(({variant:n="primary",size:s="md",loading:i=!1,className:o,children:u,...d},f)=>{const m="inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed cursor-pointer",p={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500 shadow-sm shadow-blue-200",secondary:"bg-gray-100 text-gray-700 hover:bg-gray-200 focus:ring-gray-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",success:"bg-emerald-600 text-white hover:bg-emerald-700 focus:ring-emerald-500",ghost:"text-gray-600 hover:bg-gray-100 focus:ring-gray-400",outline:"border-2 border-blue-600 text-blue-600 hover:bg-blue-50 focus:ring-blue-500"},g={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-5 py-2.5 text-sm gap-2",lg:"px-7 py-3 text-base gap-2.5"};return a.jsxs("button",{ref:f,className:ce(m,p[n],g[s],o),disabled:i||d.disabled,...d,children:[i?a.jsx("div",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin mr-2"}):null,u]})});ae.displayName="Button";const Te=k.forwardRef(({label:n,error:s,className:i,...o},u)=>a.jsxs("div",{className:"space-y-1.5",children:[n&&a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n}),a.jsx("input",{ref:u,className:ce("w-full px-4 py-2.5 rounded-xl border bg-white text-gray-900 transition-colors","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","placeholder:text-gray-400",s?"border-red-400 focus:ring-red-500":"border-gray-200",i),...o}),s&&a.jsx("p",{className:"text-sm text-red-600",children:s})]}));Te.displayName="Input";const ji=k.forwardRef(({label:n,error:s,className:i,...o},u)=>a.jsxs("div",{className:"space-y-1.5",children:[n&&a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n}),a.jsx("textarea",{ref:u,className:ce("w-full px-4 py-2.5 rounded-xl border bg-white text-gray-900 transition-colors resize-none","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent","placeholder:text-gray-400",s?"border-red-400 focus:ring-red-500":"border-gray-200",i),rows:4,...o}),s&&a.jsx("p",{className:"text-sm text-red-600",children:s})]}));ji.displayName="Textarea";const to=k.forwardRef(({label:n,error:s,options:i,className:o,...u},d)=>a.jsxs("div",{className:"space-y-1.5",children:[n&&a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n}),a.jsx("select",{ref:d,className:ce("w-full px-4 py-2.5 rounded-xl border bg-white text-gray-900 transition-colors","focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",s?"border-red-400 focus:ring-red-500":"border-gray-200",o),...u,children:i.map(f=>a.jsx("option",{value:f.value,children:f.label},f.value))}),s&&a.jsx("p",{className:"text-sm text-red-600",children:s})]}));to.displayName="Select";function X({children:n,className:s,...i}){return a.jsx("div",{className:ce("bg-white rounded-2xl border border-gray-100 shadow-sm",s),...i,children:n})}function ge({children:n,variant:s="neutral",className:i}){const o={info:"bg-blue-50 text-blue-700 ring-blue-600/20",success:"bg-emerald-50 text-emerald-700 ring-emerald-600/20",warning:"bg-amber-50 text-amber-700 ring-amber-600/20",danger:"bg-red-50 text-red-700 ring-red-600/20",neutral:"bg-gray-50 text-gray-700 ring-gray-600/20"};return a.jsx("span",{className:ce("inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ring-1 ring-inset",o[s],i),children:n})}function sr({isOpen:n,onClose:s,title:i,children:o,size:u="md"}){if(!n)return null;const d={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm",onClick:s}),a.jsxs("div",{className:ce("relative bg-white rounded-2xl shadow-xl w-full max-h-[90vh] overflow-y-auto",d[u]),children:[a.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-100 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:i}),a.jsx("button",{onClick:s,className:"p-1 rounded-lg hover:bg-gray-100 cursor-pointer",children:a.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("div",{className:"p-6",children:o})]})]})}function St({icon:n,label:s,value:i,color:o}){return a.jsx(X,{className:"p-5",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:ce("p-3 rounded-xl",o),children:n}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:s}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:i})]})]})})}function mt({icon:n,title:s,description:i}){return a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[a.jsx("div",{className:"p-4 bg-gray-50 rounded-2xl mb-4",children:n}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:s}),a.jsx("p",{className:"text-sm text-gray-500 max-w-sm",children:i})]})}function Ta({size:n="md"}){const s={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return a.jsx("div",{className:"flex justify-center py-8",children:a.jsx("div",{className:ce("animate-spin rounded-full border-2 border-gray-200 border-t-blue-600",s[n])})})}function md({value:n,max:s=100,color:i="blue"}){const o=Math.min(100,n/s*100),u={blue:"bg-blue-500",green:"bg-emerald-500",red:"bg-red-500",amber:"bg-amber-500"};return a.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:ce("h-full rounded-full transition-all duration-500",u[i]),style:{width:`${o}%`}})})}function td({rating:n,onRate:s,onChange:i,readonly:o=!1,size:u="md"}){const d={sm:"text-sm",md:"text-lg",lg:"text-2xl"},f=m=>{s&&s(m),i&&i(m)};return a.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(m=>a.jsx("button",{type:"button",onClick:()=>!o&&f(m),disabled:o,className:ce("transition-colors",d[u],o?"":"cursor-pointer hover:scale-110",m<=n?"text-amber-400":"text-gray-200"),children:""},m))})}const $g=(...n)=>n.filter((s,i,o)=>!!s&&s.trim()!==""&&o.indexOf(s)===i).join(" ").trim();const ew=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const tw=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,i,o)=>o?o.toUpperCase():i.toLowerCase());const ig=n=>{const s=tw(n);return s.charAt(0).toUpperCase()+s.slice(1)};var sw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aw=n=>{for(const s in n)if(s.startsWith("aria-")||s==="role"||s==="title")return!0;return!1};const nw=k.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:u="",children:d,iconNode:f,...m},p)=>k.createElement("svg",{ref:p,...sw,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:$g("lucide",u),...!d&&!aw(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,v])=>k.createElement(g,v)),...Array.isArray(d)?d:[d]]));const ie=(n,s)=>{const i=k.forwardRef(({className:o,...u},d)=>k.createElement(nw,{ref:d,iconNode:s,className:$g(`lucide-${ew(ig(n))}`,`lucide-${n}`,o),...u}));return i.displayName=ig(n),i};const rw=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ns=ie("activity",rw);const iw=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],lw=ie("arrow-left",iw);const ow=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vs=ie("arrow-right",ow);const cw=[["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M19.38 6.813A9 9 0 0 1 20.8 10.2a2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"11xh7x"}],["path",{d:"M9 12h.01",key:"157uk2"}]],Gg=ie("baby",cw);const uw=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ig=ie("badge-check",uw);const dw=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],xs=ie("bell",dw);const hw=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],ri=ie("building-2",hw);const fw=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Ps=ie("building",fw);const mw=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ut=ie("calendar",mw);const gw=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ks=ie("camera",gw);const pw=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Vg=ie("chart-column",pw);const xw=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],yw=ie("chart-pie",xw);const vw=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Kg=ie("check",vw);const bw=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$e=ie("circle-check-big",bw);const jw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Ys=ie("circle-x",jw);const ww=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],At=ie("clock",ww);const Nw=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],sd=ie("credit-card",Nw);const _w=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Sw=ie("download",_w);const Aw=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],ad=ie("eye-off",Aw);const Tw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ar=ie("eye",Tw);const kw=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],ui=ie("file-check",kw);const Ew=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cw=ie("file-exclamation-point",Ew);const Rw=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],oo=ie("file-text",Rw);const Ow=[["path",{d:"M11 14h2a2 2 0 0 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 16",key:"1v1a37"}],["path",{d:"m14.45 13.39 5.05-4.694C20.196 8 21 6.85 21 5.75a2.75 2.75 0 0 0-4.797-1.837.276.276 0 0 1-.406 0A2.75 2.75 0 0 0 11 5.75c0 1.2.802 2.248 1.5 2.946L16 11.95",key:"fhfbnt"}],["path",{d:"m2 15 6 6",key:"10dquu"}],["path",{d:"m7 20 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a1 1 0 0 0-2.75-2.91",key:"1x6kdw"}]],ii=ie("hand-heart",Ow);const Dw=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}],["path",{d:"M3.22 13H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"auskq0"}]],Pg=ie("heart-pulse",Dw);const zw=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],co=ie("heart",zw);const Mw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],gd=ie("house",Mw);const Uw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Bw=ie("image",Uw);const Lw=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],so=ie("indian-rupee",Lw);const qw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Yg=ie("info",qw);const Hw=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],$w=ie("key",Hw);const Gw=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Iw=ie("layout-dashboard",Gw);const Vw=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Qg=ie("loader-circle",Vw);const Kw=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Pw=ie("log-in",Kw);const Yw=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nd=ie("log-out",Yw);const Qw=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],lg=ie("mail",Qw);const Xw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Fe=ie("map-pin",Xw);const Jw=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],rd=ie("menu",Jw);const Zw=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],pd=ie("message-square",Zw);const Fw=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Xg=ie("pencil",Fw);const Ww=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],id=ie("phone",Ww);const e1=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],ld=ie("scroll-text",e1);const t1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],nr=ie("search",t1);const s1=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],xd=ie("send",s1);const a1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],n1=ie("shield-alert",a1);const r1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],i1=ie("shield-check",r1);const l1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Nt=ie("shield",l1);const o1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ft=ie("star",o1);const c1=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],or=ie("stethoscope",c1);const u1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jg=ie("trash-2",u1);const d1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],ao=ie("trending-up",d1);const h1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lt=ie("triangle-alert",h1);const f1=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],m1=ie("upload",f1);const g1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Zg=ie("user-plus",g1);const p1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wi=ie("user",p1);const x1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Js=ie("users",x1);const y1=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],v1=ie("wallet",y1);const b1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],od=ie("x",b1),yi="/assets/logo-BCPOyGv1.png";function j1({initialMode:n="login",onBackToLanding:s}){const[i,o]=k.useState(n);return k.useEffect(()=>{o(n)},[n]),a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex flex-col",children:[a.jsx("header",{className:"px-6 py-4",children:a.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[a.jsxs("button",{onClick:s,className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity text-left",children:[a.jsx("div",{className:"p-1 bg-white rounded-xl shadow-sm border border-gray-100 flex items-center justify-center",children:a.jsx("img",{src:yi,alt:"CareConnect",className:"w-9 h-9 object-contain"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"CareConnect"}),a.jsx("p",{className:"text-xs text-gray-500 -mt-0.5",children:"Care Assistant Finder"})]})]}),s&&a.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-5 py-2.5 bg-white border-2 border-gray-200 text-gray-700 rounded-xl font-semibold text-sm hover:bg-blue-600 hover:text-white hover:border-blue-600 transition-all shadow-sm cursor-pointer",children:[a.jsx(lw,{className:"w-4 h-4"}),"Back to Home"]})]})}),a.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:a.jsxs("div",{className:"w-full max-w-5xl grid lg:grid-cols-2 gap-8 items-center",children:[a.jsxs("div",{className:"hidden lg:block space-y-8",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-4xl font-bold text-gray-900 leading-tight",children:["Find Trusted ",a.jsx("span",{className:"text-blue-600",children:"Care"})," Near You"]}),a.jsx("p",{className:"mt-3 text-lg text-gray-600",children:"CareConnect uses AI-powered verification to ensure every home nurse is thoroughly vetted and certified."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(Iu,{icon:a.jsx(or,{className:"w-5 h-5 text-blue-600"}),title:"Verified Professionals",desc:"AI analyzes certificates and IDs for authenticity"}),a.jsx(Iu,{icon:a.jsx(Nt,{className:"w-5 h-5 text-emerald-600"}),title:"Secure & Private",desc:"Role-based access with secure data handling"}),a.jsx(Iu,{icon:a.jsx(Js,{className:"w-5 h-5 text-purple-600"}),title:"Community Care",desc:"Report and help homeless individuals find shelters"})]})]}),a.jsx("div",{children:i==="login"?a.jsx(w1,{onSwitch:()=>o("register")}):a.jsx(N1,{onSwitch:()=>o("login")})})]})})]})}function Iu({icon:n,title:s,desc:i}){return a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-gray-50 rounded-xl",children:n}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:s}),a.jsx("p",{className:"text-sm text-gray-500",children:i})]})]})}function w1({onSwitch:n}){const{login:s,loginWithPhone:i,loginWithGoogle:o,resetPassword:u}=Ge(),[d,f]=k.useState(!1),[m,p]=k.useState("email"),[g,v]=k.useState(""),[N,y]=k.useState(""),[j,w]=k.useState(""),[_,R]=k.useState(!1),[E,S]=k.useState(""),[M,I]=k.useState(""),[F,W]=k.useState(!1),[Q,P]=k.useState(""),[J,Ie]=k.useState(!1),[Qe,Pe]=k.useState(""),Wt=async Se=>{Se.preventDefault(),I(""),P(""),f(!0);try{if(m==="email"){const B=await s(g,j);B.success||I(B.error||"Login failed")}else if(m==="phone")if(F){const B=await i(N,E);B.success||I(B.error||"Phone login failed")}else{const B=await i(N,"");B.success?(W(!0),P(B.error||"OTP sent to your phone!")):I(B.error||"Failed to send OTP")}}finally{f(!1)}},Tt=async()=>{I(""),P(""),f(!0);try{const Se=await o();Se.success||I(Se.error||"Google login failed")}finally{f(!1)}};return a.jsxs(X,{className:"p-8 relative",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:"inline-flex p-3 bg-blue-50 rounded-2xl mb-3",children:a.jsx(Pw,{className:"w-7 h-7 text-blue-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Welcome Back"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Sign in to your account"})]}),M&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-xl text-sm",children:M}),Q&&a.jsx("div",{className:"mb-4 p-3 bg-blue-50 text-blue-700 rounded-xl text-sm",children:Q}),a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsxs("button",{type:"button",onClick:()=>{p("email"),W(!1),S("")},className:ce("flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all cursor-pointer flex items-center justify-center gap-2",m==="email"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[a.jsx(lg,{className:"w-4 h-4"})," Email"]}),a.jsxs("button",{type:"button",onClick:()=>{p("phone"),W(!1),S("")},className:ce("flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all cursor-pointer flex items-center justify-center gap-2",m==="phone"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[a.jsx(id,{className:"w-4 h-4"})," Phone"]}),a.jsxs("button",{type:"button",onClick:()=>{p("google"),W(!1),S("")},className:ce("flex-1 py-2 px-3 rounded-lg text-sm font-medium transition-all cursor-pointer flex items-center justify-center gap-2",m==="google"?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:[a.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})," Google"]})]}),a.jsxs("form",{onSubmit:Wt,className:"space-y-4",children:[m==="email"&&a.jsxs(a.Fragment,{children:[a.jsx(Te,{label:"Email",type:"email",placeholder:"you@example.com",value:g,onChange:Se=>v(Se.target.value),required:!0}),a.jsxs("div",{className:"relative",children:[a.jsx(Te,{label:"Password",type:_?"text":"password",placeholder:"",value:j,onChange:Se=>w(Se.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>R(!_),className:"absolute right-3 top-[38px] text-gray-400 hover:text-gray-600 transition-colors cursor-pointer",tabIndex:-1,"aria-label":_?"Hide password":"Show password",children:_?a.jsx(ad,{className:"w-4.5 h-4.5"}):a.jsx(ar,{className:"w-4.5 h-4.5"})})]}),a.jsx("div",{className:"text-right -mt-2",children:a.jsx("button",{type:"button",onClick:()=>{Ie(!0),Pe(g),I(""),P("")},className:"text-xs text-blue-600 hover:underline cursor-pointer",children:"Forgot password?"})})]}),m==="phone"&&a.jsxs(a.Fragment,{children:[a.jsx(Te,{label:"Phone Number",type:"tel",placeholder:"9876543210",value:N,onChange:Se=>y(Se.target.value),required:!0,disabled:F}),F&&a.jsx(Te,{label:"OTP",type:"text",placeholder:"Enter 6-digit OTP",value:E,onChange:Se=>S(Se.target.value),required:!0,maxLength:6})]}),m==="google"&&a.jsxs("div",{className:"text-center py-4",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Click below to sign in with Google"}),a.jsxs(ae,{type:"button",variant:"outline",onClick:Tt,className:"w-full",children:[a.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})," Sign in with Google"]})]}),m!=="google"&&a.jsx(ae,{type:"submit",className:"w-full",size:"lg",disabled:d,children:d?"Signing in...":m==="phone"&&!F?"Send OTP":"Sign In"})]}),a.jsxs("div",{className:"lg:hidden mt-4 bg-gray-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-2 font-medium",children:"Quick Login:"}),a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("button",{onClick:()=>{p("email"),v("admin@careconnect.com"),w("admin123")},className:"text-xs bg-white px-2 py-1 rounded-lg border cursor-pointer hover:bg-blue-50",children:"Admin"}),a.jsx("button",{onClick:()=>{p("email"),v("anjali@example.com"),w("nurse123")},className:"text-xs bg-white px-2 py-1 rounded-lg border cursor-pointer hover:bg-emerald-50",children:"Nurse"}),a.jsx("button",{onClick:()=>{p("email"),v("rahul@example.com"),w("user123")},className:"text-xs bg-white px-2 py-1 rounded-lg border cursor-pointer hover:bg-purple-50",children:"User"})]})]}),a.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["Don't have an account?"," ",a.jsx("button",{onClick:n,className:"text-blue-600 font-medium hover:underline cursor-pointer",children:"Register"})]}),J&&a.jsx("div",{className:"absolute inset-0 bg-white/95 backdrop-blur-sm rounded-2xl flex items-center justify-center p-8 z-10",children:a.jsxs("div",{className:"w-full max-w-sm space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-flex p-3 bg-amber-50 rounded-2xl mb-3",children:a.jsx(lg,{className:"w-7 h-7 text-amber-600"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Reset Password"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter your email and we'll send you a reset link"})]}),M&&a.jsx("div",{className:"p-3 bg-red-50 text-red-700 rounded-xl text-sm",children:M}),Q&&a.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-xl text-sm",children:Q}),a.jsxs("form",{onSubmit:async Se=>{if(Se.preventDefault(),I(""),P(""),!Qe){I("Please enter your email");return}f(!0);try{const B=await u(Qe);B.success?P("Password reset email sent! Check your inbox."):I(B.error||"Failed to send reset email")}finally{f(!1)}},className:"space-y-3",children:[a.jsx(Te,{label:"Email",type:"email",placeholder:"you@example.com",value:Qe,onChange:Se=>Pe(Se.target.value),required:!0}),a.jsx(ae,{type:"submit",className:"w-full",disabled:d,children:d?"Sending...":"Send Reset Link"})]}),a.jsx("button",{onClick:()=>{Ie(!1),I(""),P("")},className:"w-full text-sm text-gray-500 hover:text-gray-700 cursor-pointer mt-2",children:" Back to login"})]})})]})}function N1({onSwitch:n}){const{register:s,loginWithGoogle:i}=Ge(),[o,u]=k.useState({name:"",email:"",password:"",phone:"",location:"",role:"user",shelterName:"",shelterAddress:"",shelterLat:"",shelterLng:"",shelterCapacity:""}),[d,f]=k.useState(""),[m,p]=k.useState(!1),[g,v]=k.useState(!1),[N,y]=k.useState(""),[j,w]=k.useState(!1),_=()=>{if(!navigator.geolocation){f("Geolocation is not supported by your browser");return}w(!0),navigator.geolocation.getCurrentPosition(async S=>{const M=S.coords.latitude.toString(),I=S.coords.longitude.toString();u(F=>({...F,shelterLat:M,shelterLng:I}));try{const W=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${M}&lon=${I}`)).json();W.display_name&&!o.shelterAddress&&u(Q=>({...Q,shelterAddress:W.display_name}))}catch{}w(!1)},()=>{f("Unable to detect location. You can enter the address manually."),w(!1)},{enableHighAccuracy:!0,timeout:1e4})},R=async S=>{if(S.preventDefault(),f(""),y(""),o.password.length<6){f("Password must be at least 6 characters");return}if(o.role==="shelter"){if(!o.shelterName.trim()){f("Shelter name is required");return}if(!o.shelterAddress.trim()){f("Shelter address is required");return}}p(!0);try{const M=await s({...o,name:o.role==="shelter"?o.shelterName:o.name,location:o.role==="shelter"?o.shelterAddress:o.location,shelterLat:o.shelterLat?parseFloat(o.shelterLat):void 0,shelterLng:o.shelterLng?parseFloat(o.shelterLng):void 0,shelterCapacity:o.shelterCapacity?parseInt(o.shelterCapacity):void 0});M.success?y("Account created! Check your email to confirm, then sign in."):f(M.error||"Registration failed")}finally{p(!1)}},E=(S,M)=>u(I=>({...I,[S]:M}));return a.jsxs(X,{className:"p-8",children:[a.jsxs("div",{className:"text-center mb-6",children:[a.jsx("div",{className:`inline-flex p-3 rounded-2xl mb-3 ${o.role==="shelter"?"bg-amber-50":"bg-emerald-50"}`,children:o.role==="shelter"?a.jsx(Ps,{className:"w-7 h-7 text-amber-600"}):a.jsx(Zg,{className:"w-7 h-7 text-emerald-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:o.role==="shelter"?"Register Shelter":"Create Account"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o.role==="shelter"?"Register your shelter to receive humanitarian reports":"Join our healthcare community"})]}),d&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-xl text-sm",children:d}),N&&a.jsx("div",{className:"mb-4 p-3 bg-green-50 text-green-700 rounded-xl text-sm",children:N}),a.jsxs("form",{onSubmit:R,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-1.5",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"I am a"}),a.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>E("role","user"),className:`p-3 rounded-xl border-2 text-sm font-medium transition-all cursor-pointer flex items-center gap-2 ${o.role==="user"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:[a.jsx(Js,{className:"w-4 h-4"})," Patient"]}),a.jsxs("button",{type:"button",onClick:()=>E("role","nurse"),className:`p-3 rounded-xl border-2 text-sm font-medium transition-all cursor-pointer flex items-center gap-2 ${o.role==="nurse"?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:[a.jsx(i1,{className:"w-4 h-4"})," Nurse"]}),a.jsxs("button",{type:"button",onClick:()=>E("role","shelter"),className:`p-3 rounded-xl border-2 text-sm font-medium transition-all cursor-pointer flex items-center gap-2 ${o.role==="shelter"?"border-amber-500 bg-amber-50 text-amber-700":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:[a.jsx(Ps,{className:"w-4 h-4"})," Shelter"]})]})]}),o.role==="shelter"?a.jsxs(a.Fragment,{children:[a.jsx(Te,{label:"Shelter Name",placeholder:"Sneha Bhavan Shelter",value:o.shelterName,onChange:S=>E("shelterName",S.target.value),required:!0}),a.jsx(Te,{label:"Address",placeholder:"MG Road, Kochi, Kerala",value:o.shelterAddress,onChange:S=>E("shelterAddress",S.target.value),required:!0}),a.jsxs("div",{className:"space-y-1.5",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:["GPS Location ",a.jsx("span",{className:"text-gray-400 font-normal",children:"(optional)"})]}),a.jsx("button",{type:"button",onClick:_,disabled:j,className:"w-full flex items-center justify-center gap-2 px-4 py-2.5 border-2 border-dashed border-gray-300 rounded-xl text-sm font-medium text-gray-600 hover:border-amber-400 hover:bg-amber-50 hover:text-amber-700 transition-all cursor-pointer disabled:opacity-50",children:j?a.jsxs(a.Fragment,{children:[a.jsx(Qg,{className:"w-4 h-4 animate-spin"})," Detecting location..."]}):o.shelterLat&&o.shelterLng?a.jsxs(a.Fragment,{children:[a.jsx(Fe,{className:"w-4 h-4 text-emerald-500"}),"  ",parseFloat(o.shelterLat).toFixed(4),", ",parseFloat(o.shelterLng).toFixed(4),"  Click to re-detect"]}):a.jsxs(a.Fragment,{children:[a.jsx(Fe,{className:"w-4 h-4"})," Auto-detect Location"]})}),o.shelterLat&&o.shelterLng&&a.jsx("p",{className:"text-xs text-emerald-600",children:" GPS coordinates captured"})]}),a.jsx(Te,{label:"Capacity",type:"number",placeholder:"100",value:o.shelterCapacity,onChange:S=>E("shelterCapacity",S.target.value)}),a.jsx(Te,{label:"Contact Email",type:"email",placeholder:"shelter@example.com",value:o.email,onChange:S=>E("email",S.target.value),required:!0}),a.jsx(Te,{label:"Contact Phone",type:"tel",placeholder:"0484-2345678",value:o.phone,onChange:S=>E("phone",S.target.value),required:!0}),a.jsxs("div",{className:"relative",children:[a.jsx(Te,{label:"Password",type:g?"text":"password",placeholder:"Min 6 characters",value:o.password,onChange:S=>E("password",S.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-3 top-[38px] text-gray-400 hover:text-gray-600 transition-colors cursor-pointer",tabIndex:-1,"aria-label":g?"Hide password":"Show password",children:g?a.jsx(ad,{className:"w-4.5 h-4.5"}):a.jsx(ar,{className:"w-4.5 h-4.5"})})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(Te,{label:"Full Name",placeholder:"John Doe",value:o.name,onChange:S=>E("name",S.target.value),required:!0}),a.jsx(Te,{label:"Email",type:"email",placeholder:"you@example.com",value:o.email,onChange:S=>E("email",S.target.value),required:!0}),a.jsx(Te,{label:"Phone",type:"tel",placeholder:"9876543210",value:o.phone,onChange:S=>E("phone",S.target.value),required:!0}),a.jsx(Te,{label:"Location",placeholder:"City name",value:o.location,onChange:S=>E("location",S.target.value),required:!0}),a.jsxs("div",{className:"relative",children:[a.jsx(Te,{label:"Password",type:g?"text":"password",placeholder:"Min 6 characters",value:o.password,onChange:S=>E("password",S.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute right-3 top-[38px] text-gray-400 hover:text-gray-600 transition-colors cursor-pointer",tabIndex:-1,"aria-label":g?"Hide password":"Show password",children:g?a.jsx(ad,{className:"w-4.5 h-4.5"}):a.jsx(ar,{className:"w-4.5 h-4.5"})})]})]}),a.jsx(ae,{type:"submit",variant:o.role==="shelter"?"secondary":o.role==="nurse"?"success":"primary",className:"w-full",size:"lg",disabled:m,children:m?"Creating...":o.role==="shelter"?"Register Shelter":"Create Account"})]}),a.jsxs("div",{className:"flex items-center gap-3 my-5",children:[a.jsx("div",{className:"flex-1 h-px bg-gray-200"}),a.jsx("span",{className:"text-xs text-gray-400 font-medium",children:"OR"}),a.jsx("div",{className:"flex-1 h-px bg-gray-200"})]}),a.jsxs("button",{onClick:async()=>{f(""),p(!0);try{const S=await i();S.success||f(S.error||"Google sign-up failed")}finally{p(!1)}},disabled:m,className:"w-full flex items-center justify-center gap-3 px-4 py-3 border-2 border-gray-200 rounded-xl text-sm font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-300 transition-all cursor-pointer disabled:opacity-50",children:[a.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Continue with Google"]}),a.jsxs("p",{className:"text-center text-sm text-gray-500 mt-6",children:["Already have an account?"," ",a.jsx("button",{onClick:n,className:"text-blue-600 font-medium hover:underline cursor-pointer",children:"Sign In"})]})]})}function _1({onGetStarted:n,onLogin:s}){const i=s||n,[o,u]=k.useState(!1),[d,f]=k.useState(""),[m,p]=k.useState(""),[g,v]=k.useState(!1),[N,y]=k.useState(!1),j=["Elderly Care","Post-Surgery Care","Newborn Care","Palliative Care"],w=["Thiruvananthapuram","Kazhakoottam","Neyyattinkara","Attingal","Varkala","Kochi","Aluva","Kakkanad","Thrikkakara","Edappally","Kaloor","Fort Kochi","Kozhikode","Vadakara","Koyilandy","Feroke","Beypore","Thrissur","Guruvayur","Chalakudy","Irinjalakuda","Kunnamkulam","Kollam","Karunagappally","Punalur","Paravur","Alappuzha","Cherthala","Kayamkulam","Haripad","Ambalappuzha","Palakkad","Ottapalam","Shoranur","Chittur","Mannarkkad","Kottayam","Pala","Changanassery","Ettumanoor","Vaikom","Malappuram","Manjeri","Perinthalmanna","Tirur","Ponnani","Kannur","Thalassery","Payyanur","Mattannur","Iritty","Kasaragod","Kanhangad","Nileshwar","Bekal","Idukki","Munnar","Thodupuzha","Adimali","Kattappana","Pathanamthitta","Adoor","Thiruvalla","Pandalam","Ranni","Wayanad","Kalpetta","Sulthan Bathery","Mananthavady","Vythiri"],_=j.filter(S=>S.toLowerCase().includes(d.toLowerCase())),R=w.filter(S=>S.toLowerCase().includes(m.toLowerCase())),E=()=>{const S=document.getElementById("report-help");S&&S.scrollIntoView({behavior:"smooth"})};return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsxs("nav",{className:"sticky top-0 z-50 bg-white border-b border-gray-100 shadow-sm",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 cursor-pointer hover:opacity-80 transition-opacity text-left",children:[a.jsx("div",{className:"p-1 bg-white rounded-xl shadow-sm border border-gray-100 flex items-center justify-center",children:a.jsx("img",{src:yi,alt:"CareConnect",className:"w-9 h-9 object-contain"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"CareConnect"}),a.jsx("p",{className:"hidden sm:block text-xs text-gray-500 -mt-0.5",children:"Care Assistant Finder"})]})]}),a.jsxs("div",{className:"hidden lg:flex items-center gap-8",children:[a.jsx("a",{href:"#services",className:"text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",children:"Services"}),a.jsx("a",{href:"#how-it-works",className:"text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",children:"How It Works"}),a.jsx("a",{href:"#why-us",className:"text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",children:"Why Us"}),a.jsx("a",{href:"#cities",className:"text-sm font-medium text-gray-600 hover:text-blue-600 transition-colors",children:"Districts"}),a.jsxs("button",{onClick:E,className:"text-sm font-medium text-orange-600 hover:text-orange-700 transition-colors flex items-center gap-1",children:[a.jsx(ii,{className:"w-4 h-4"})," Report & Help"]})]}),a.jsxs("div",{className:"hidden sm:flex items-center gap-3 ml-auto lg:ml-0",children:[a.jsx(ae,{variant:"ghost",size:"sm",onClick:i,children:"Sign In"}),a.jsx(ae,{size:"sm",onClick:n,children:"Get Started"})]}),a.jsxs("div",{className:"flex sm:hidden items-center gap-2",children:[a.jsx(ae,{size:"sm",onClick:n,className:"text-xs px-3 py-1.5",children:"Get Started"}),a.jsx("button",{onClick:()=>u(!o),className:"p-2 rounded-lg hover:bg-gray-100",children:o?a.jsx(od,{className:"w-5 h-5"}):a.jsx(rd,{className:"w-5 h-5"})})]}),a.jsx("button",{onClick:()=>u(!o),className:"hidden sm:block lg:hidden p-2 rounded-lg hover:bg-gray-100",children:o?a.jsx(od,{className:"w-5 h-5"}):a.jsx(rd,{className:"w-5 h-5"})})]})}),o&&a.jsx("div",{className:"lg:hidden border-t border-gray-100 bg-white",children:a.jsxs("div",{className:"px-4 py-4 space-y-3",children:[a.jsx("a",{href:"#services",className:"block py-2 text-gray-600 hover:text-blue-600",children:"Services"}),a.jsx("a",{href:"#how-it-works",className:"block py-2 text-gray-600 hover:text-blue-600",children:"How It Works"}),a.jsx("a",{href:"#why-us",className:"block py-2 text-gray-600 hover:text-blue-600",children:"Why Us"}),a.jsx("a",{href:"#cities",className:"block py-2 text-gray-600 hover:text-blue-600",children:"Districts"}),a.jsxs("button",{onClick:E,className:"block py-2 text-orange-600 hover:text-orange-700 font-medium flex items-center gap-2",children:[a.jsx(ii,{className:"w-4 h-4"})," Report & Help Homeless"]}),a.jsxs("div",{className:"pt-3 border-t border-gray-100 space-y-2",children:[a.jsx(ae,{variant:"outline",className:"w-full",onClick:i,children:"Sign In"}),a.jsx(ae,{className:"w-full",onClick:n,children:"Get Started"})]})]})})]}),a.jsx("section",{className:"relative bg-gradient-to-br from-blue-50 via-white to-indigo-50 py-16 lg:py-24",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{children:[a.jsxs(ge,{variant:"info",className:"mb-4",children:[a.jsx(Nt,{className:"w-3 h-3 mr-1"})," AI-Powered Verification"]}),a.jsxs("h1",{className:"text-4xl lg:text-5xl xl:text-6xl font-bold text-gray-900 leading-tight",children:["Find Trusted"," ",a.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-indigo-600",children:"Home Nurses"})," ","Near You"]}),a.jsx("p",{className:"mt-4 text-lg text-gray-600 max-w-xl",children:"Kerala's most trusted platform to connect with verified, experienced home nurses. Serving all 14 districts with AI-verified and background-checked professionals."})]}),a.jsxs(X,{className:"p-4 shadow-lg border-0",children:[a.jsxs("div",{className:"grid sm:grid-cols-12 gap-3",children:[a.jsxs("div",{className:"sm:col-span-5 relative",children:[a.jsx(nr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 z-10"}),a.jsx("input",{type:"text",placeholder:"What service do you need?",value:d,onChange:S=>{f(S.target.value),v(!0),y(!1)},onFocus:()=>{v(!0),y(!1)},className:"w-full pl-10 h-12 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),g&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-2xl z-50 overflow-hidden",children:[a.jsx("div",{className:"p-2 border-b border-gray-100 bg-gray-50",children:a.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider px-2",children:"Our Services"})}),a.jsx("div",{className:"max-h-60 overflow-y-auto",children:_.length>0?_.map(S=>a.jsxs("button",{onClick:()=>{f(S),v(!1)},className:"w-full text-left px-4 py-3 hover:bg-blue-50 flex items-center gap-3 transition-colors border-b border-gray-50 last:border-0",children:[a.jsxs("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center shrink-0",children:[S==="Elderly Care"&&a.jsx(gd,{className:"w-4 h-4 text-blue-600"}),S==="Post-Surgery Care"&&a.jsx(Ns,{className:"w-4 h-4 text-blue-600"}),S==="Newborn Care"&&a.jsx(Gg,{className:"w-4 h-4 text-blue-600"}),S==="Palliative Care"&&a.jsx(Pg,{className:"w-4 h-4 text-blue-600"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:S}),a.jsxs("p",{className:"text-xs text-gray-500",children:[S==="Elderly Care"&&"Medication, mobility & daily living",S==="Post-Surgery Care"&&"Wound care & rehabilitation",S==="Newborn Care"&&"Infant care & health monitoring",S==="Palliative Care"&&"Comfort & end-of-life care"]})]})]},S)):a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No services found"})})]})]}),a.jsxs("div",{className:"sm:col-span-4 relative",children:[a.jsx(Fe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 z-10"}),a.jsx("input",{type:"text",placeholder:"Enter your city",value:m,onChange:S=>{p(S.target.value),y(!0),v(!1)},onFocus:()=>{y(!0),v(!1)},className:"w-full pl-10 h-12 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),N&&a.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-xl shadow-2xl z-50 overflow-hidden",children:[a.jsx("div",{className:"p-2 border-b border-gray-100 bg-gray-50",children:a.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider px-2",children:"Kerala Cities & Places"})}),a.jsx("div",{className:"max-h-60 overflow-y-auto",children:R.length>0?R.map(S=>a.jsxs("button",{onClick:()=>{p(S),y(!1)},className:"w-full text-left px-4 py-2.5 hover:bg-blue-50 flex items-center gap-3 transition-colors border-b border-gray-50 last:border-0",children:[a.jsx(Fe,{className:"w-4 h-4 text-green-500 shrink-0"}),a.jsx("span",{className:"text-sm text-gray-800",children:S})]},S)):a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No places found"})})]})]}),a.jsx("div",{className:"sm:col-span-3",children:a.jsxs(ae,{className:"w-full h-12 text-base",onClick:()=>{v(!1),y(!1),n()},children:[a.jsx(nr,{className:"w-4 h-4 mr-2"})," Search"]})})]}),(g||N)&&a.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{v(!1),y(!1)}})]}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex -space-x-2",children:[1,2,3,4].map(S=>a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 border-2 border-white flex items-center justify-center text-white text-xs font-bold",children:String.fromCharCode(64+S)},S))}),a.jsxs("span",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"7,000+"})," Verified Nurses"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ft,{className:"w-5 h-5 text-amber-400 fill-amber-400"}),a.jsxs("span",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"4.8"})," Average Rating"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nt,{className:"w-5 h-5 text-emerald-500"}),a.jsxs("span",{className:"text-sm text-gray-600",children:[a.jsx("strong",{children:"100%"})," Background Checked"]})]})]}),a.jsxs("button",{onClick:E,className:"flex items-center gap-2 text-orange-600 hover:text-orange-700 font-medium text-sm sm:text-base hover:underline transition-all",children:[a.jsx(ii,{className:"w-4 h-4"}),a.jsx("span",{children:"Spot someone in need? Report & Help Homeless"})]})]}),a.jsx("div",{className:"relative hidden lg:block",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-100 to-indigo-100 rounded-3xl p-2 aspect-square flex items-center justify-center overflow-hidden shadow-xl",children:a.jsxs("div",{className:"w-full h-full rounded-2xl overflow-hidden relative",children:[a.jsx("img",{src:"https://images.unsplash.com/photo-1576765608535-5f04d1e3f289?auto=format&fit=crop&q=80&w=1000",alt:"Care Assistant helping elderly",className:"w-full h-full object-cover object-center"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]})}),a.jsx("div",{className:"absolute -left-8 top-1/4 bg-white rounded-xl shadow-lg p-4 animate-pulse",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center",children:a.jsx($e,{className:"w-5 h-5 text-emerald-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Verified"}),a.jsx("p",{className:"text-xs text-gray-500",children:"AI Document Check"})]})]})}),a.jsx("div",{className:"absolute -right-4 bottom-1/4 bg-white rounded-xl shadow-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-amber-100 rounded-full flex items-center justify-center",children:a.jsx(Ft,{className:"w-5 h-5 text-amber-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"4.9 Rating"}),a.jsx("p",{className:"text-xs text-gray-500",children:"2,000+ Reviews"})]})]})})]})})]})})}),a.jsxs("section",{className:"bg-gradient-to-r from-orange-500 via-red-500 to-orange-600 py-6 sm:py-8",style:{position:"relative",zIndex:10},children:[a.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 10px, rgba(255,255,255,0.1) 10px, rgba(255,255,255,0.1) 20px)"}}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 relative z-10",children:[a.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4 text-white",children:[a.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 bg-white/20 backdrop-blur-sm rounded-2xl flex items-center justify-center shrink-0 border-2 border-white/30",children:a.jsx(ii,{className:"w-8 h-8 sm:w-9 sm:h-9 text-white"})}),a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center gap-2 mb-1",children:a.jsx("span",{className:"bg-white/20 text-white text-xs font-bold px-2 py-0.5 rounded-full uppercase tracking-wider",children:" Humanitarian Initiative"})}),a.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold leading-tight",children:"See Someone Homeless? Help Them Get Shelter"}),a.jsx("p",{className:"text-orange-100 text-xs sm:text-sm mt-1 max-w-xl",children:"Take a photo, share location  we'll alert nearby shelter homes across Kerala instantly. No facial recognition. Privacy-first."})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[a.jsxs("div",{className:"hidden sm:flex items-center gap-3 text-white/90",children:[a.jsxs("div",{className:"flex items-center gap-1.5 bg-white/15 rounded-lg px-3 py-2",children:[a.jsx(Ks,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Photo"})]}),a.jsx(Vs,{className:"w-3 h-3 text-white/50"}),a.jsxs("div",{className:"flex items-center gap-1.5 bg-white/15 rounded-lg px-3 py-2",children:[a.jsx(Fe,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Location"})]}),a.jsx(Vs,{className:"w-3 h-3 text-white/50"}),a.jsxs("div",{className:"flex items-center gap-1.5 bg-white/15 rounded-lg px-3 py-2",children:[a.jsx(ri,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Alert Shelter"})]})]}),a.jsxs("button",{onClick:E,className:"bg-white text-orange-600 font-bold px-6 py-3 rounded-xl shadow-lg hover:shadow-xl hover:scale-105 transition-all flex items-center gap-2 text-sm sm:text-base whitespace-nowrap",children:[a.jsx(Ks,{className:"w-5 h-5"}),"Report & Help Now"]})]})]}),a.jsxs("div",{className:"flex sm:hidden items-center justify-center gap-2 mt-4 text-white/90",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-white/15 rounded-lg px-2 py-1.5",children:[a.jsx(Ks,{className:"w-3 h-3"}),a.jsx("span",{className:"text-[10px] font-medium",children:"Photo"})]}),a.jsx(Vs,{className:"w-2.5 h-2.5 text-white/50"}),a.jsxs("div",{className:"flex items-center gap-1 bg-white/15 rounded-lg px-2 py-1.5",children:[a.jsx(Fe,{className:"w-3 h-3"}),a.jsx("span",{className:"text-[10px] font-medium",children:"Location"})]}),a.jsx(Vs,{className:"w-2.5 h-2.5 text-white/50"}),a.jsxs("div",{className:"flex items-center gap-1 bg-white/15 rounded-lg px-2 py-1.5",children:[a.jsx(ri,{className:"w-3 h-3"}),a.jsx("span",{className:"text-[10px] font-medium",children:"Alert Shelter"})]})]})]})]}),a.jsxs("section",{className:"border-t border-b border-gray-100 bg-gray-50/50 py-8 overflow-hidden",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 mb-4 text-center",children:a.jsx("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-widest",children:"Trusted by Healthcare Leaders"})}),a.jsx("div",{className:"relative flex overflow-x-hidden group",children:a.jsx("div",{className:"py-2 flex animate-marquee",children:[1,2].map(S=>a.jsx("div",{className:"flex flex-none items-center gap-12 sm:gap-24 pr-12 sm:pr-24",children:["Aster Medcity","KIMS","Amrita Hospital","Lakeshore","Medical Trust"].map((M,I)=>a.jsxs("div",{className:"flex-none flex items-center gap-2 text-gray-400 hover:text-blue-600 transition-colors cursor-default",children:[a.jsx(ri,{className:"w-5 h-5 sm:w-6 sm:h-6"}),a.jsx("span",{className:"text-lg sm:text-2xl font-bold whitespace-nowrap",children:M})]},`${S}-${I}`))},S))})})]}),a.jsx("section",{id:"services",className:"py-16 lg:py-24",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900",children:"Our Healthcare Services"}),a.jsx("p",{className:"mt-4 text-lg text-gray-600 max-w-2xl mx-auto",children:"Elderly Care, Post-Surgery Care, Newborn Care & Palliative Care  find specialized nurses for your needs"})]}),a.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-4 gap-6",children:A1.map((S,M)=>a.jsx(S1,{...S,onClick:n},M))})]})}),a.jsx("section",{id:"how-it-works",className:"py-16 lg:py-24 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900",children:"How CareConnect Works"}),a.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Get quality healthcare at home in 4 simple steps"})]}),a.jsx("div",{className:"grid md:grid-cols-4 gap-8",children:og.map((S,M)=>a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 mx-auto bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-blue-200",children:a.jsx(S.icon,{className:"w-8 h-8"})}),a.jsx("div",{className:"w-8 h-8 mx-auto -mt-4 mb-4 bg-white rounded-full flex items-center justify-center text-sm font-bold text-blue-600 shadow-md ring-4 ring-gray-50 relative z-10",children:M+1}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:S.title}),a.jsx("p",{className:"text-sm text-gray-600",children:S.description})]}),M<og.length-1&&a.jsx("div",{className:"hidden md:block absolute top-[28px] left-[55%] w-[80%] h-0.5 bg-gradient-to-r from-blue-200 to-transparent z-0"})]},M))})]})}),a.jsx("section",{id:"why-us",className:"py-16 lg:py-24",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900 mb-6",children:"Why Choose CareConnect?"}),a.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"We combine advanced AI technology with human expertise to ensure you get the most reliable and trustworthy healthcare professionals at your doorstep."}),a.jsx("div",{className:"space-y-4",children:T1.map((S,M)=>a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center shrink-0",children:a.jsx(S.icon,{className:"w-6 h-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:S.title}),a.jsx("p",{className:"text-sm text-gray-600",children:S.description})]})]},M))})]}),a.jsx("div",{className:"relative",children:a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-3xl p-8 text-white",children:[a.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Nurse Verification Process"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white/10 rounded-xl p-5 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:a.jsx(Nt,{className:"w-5 h-5 text-emerald-300"})}),a.jsx("h4",{className:"text-lg font-semibold",children:"Document Authenticity Checks"})]}),a.jsx("p",{className:"text-blue-100 text-sm",children:"AI-powered analysis to verify uploaded certificates and documents are genuine and unaltered"})]}),a.jsxs("div",{className:"bg-white/10 rounded-xl p-5 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:a.jsx(Ig,{className:"w-5 h-5 text-amber-300"})}),a.jsx("h4",{className:"text-lg font-semibold",children:"License & Registration Validation"})]}),a.jsx("p",{className:"text-blue-100 text-sm",children:"Cross-verification of nursing licenses, council registrations, and professional qualifications"})]}),a.jsxs("div",{className:"bg-white/10 rounded-xl p-5 backdrop-blur-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-lg flex items-center justify-center",children:a.jsx(Js,{className:"w-5 h-5 text-blue-300"})}),a.jsx("h4",{className:"text-lg font-semibold",children:"Identity Confirmation"})]}),a.jsx("p",{className:"text-blue-100 text-sm",children:"Government ID verification including Aadhaar, PAN, and other official identity documents"})]})]})]})})]})})}),a.jsx("section",{className:"py-16 bg-gradient-to-r from-blue-600 to-indigo-600",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:a.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8 text-center text-white",children:[{value:"7,000+",label:"Verified Nurses"},{value:"35,000+",label:"Happy Families"},{value:"14",label:"Kerala Districts"},{value:"4.8/5",label:"Average Rating"}].map((S,M)=>a.jsxs("div",{children:[a.jsx("p",{className:"text-3xl lg:text-4xl font-bold",children:S.value}),a.jsx("p",{className:"text-blue-100 mt-1",children:S.label})]},M))})})}),a.jsx("section",{id:"cities",className:"py-16 lg:py-24 bg-gray-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900",children:"Available Across Kerala"}),a.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Find home nurses across all 14 districts of God's Own Country"})]}),a.jsx("div",{className:"relative flex overflow-x-hidden group",children:a.jsx("div",{className:"py-2 flex animate-marquee",children:[1,2].map(S=>a.jsx("div",{className:"flex flex-none items-center gap-4 px-2",children:k1.map((M,I)=>a.jsxs("button",{onClick:n,className:"bg-white rounded-xl p-4 text-center hover:shadow-lg hover:border-green-400 transition-all border border-gray-100 group w-40 flex-none",children:[a.jsx(Fe,{className:"w-6 h-6 text-green-600 mx-auto mb-2 group-hover:scale-110 transition-transform"}),a.jsx("p",{className:"font-medium text-gray-900 text-sm",children:M.name}),a.jsxs("p",{className:"text-xs text-green-600 font-medium",children:[M.nurses," nurses"]})]},`${S}-${I}`))},S))})})]})}),a.jsx("section",{className:"py-16 lg:py-24",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900",children:"What Families Say"}),a.jsx("p",{className:"mt-4 text-lg text-gray-600",children:"Real stories from families who found care through CareConnect"})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:E1.map((S,M)=>a.jsxs(X,{className:"p-6",children:[a.jsx("div",{className:"flex items-center gap-1 mb-4",children:[...Array(5)].map((I,F)=>a.jsx(Ft,{className:ce("w-4 h-4",F<S.rating?"text-amber-400 fill-amber-400":"text-gray-200")},F))}),a.jsxs("p",{className:"text-gray-600 mb-4",children:['"',S.text,'"']}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-400 to-blue-600 rounded-full flex items-center justify-center text-white font-bold",children:S.name[0]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.name}),a.jsx("p",{className:"text-xs text-gray-500",children:S.location})]})]})]},M))})]})}),a.jsx("section",{id:"report-help",className:"py-16 lg:py-24 bg-gradient-to-br from-orange-50 via-amber-50 to-yellow-50",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs(ge,{variant:"warning",className:"mb-4",children:[a.jsx(ii,{className:"w-3 h-3 mr-1"})," Humanitarian Initiative"]}),a.jsxs("h2",{className:"text-3xl lg:text-4xl font-bold text-gray-900",children:["Help the Homeless. ",a.jsx("span",{className:"text-orange-600",children:"Save a Life."})]}),a.jsx("p",{className:"mt-4 text-lg text-gray-600 max-w-3xl mx-auto",children:"Spot someone sleeping on the streets or wandering without shelter? Take a photo, share the location, and we'll alert the nearest shelter homes across Kerala to provide immediate help."})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"How It Works"}),a.jsx("div",{className:"space-y-4",children:[{icon:Ks,title:"Capture a Photo",description:"Take a picture of the person in need (no facial recognition or identity tracking  fully ethical)",color:"bg-orange-100 text-orange-600",step:"1"},{icon:Fe,title:"Share Location",description:"GPS location is captured automatically (with your consent) to identify the exact spot",color:"bg-blue-100 text-blue-600",step:"2"},{icon:xd,title:"Submit Report",description:"Your report is securely sent to the admin dashboard for review and action",color:"bg-emerald-100 text-emerald-600",step:"3"},{icon:ri,title:"Alert Nearby Shelters",description:"The system calculates the nearest shelter homes and sends instant alerts to provide rescue",color:"bg-purple-100 text-purple-600",step:"4"}].map((S,M)=>a.jsxs("div",{className:"flex items-start gap-4 bg-white rounded-xl p-4 shadow-sm border border-gray-100",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:ce("w-12 h-12 rounded-xl flex items-center justify-center shrink-0",S.color),children:a.jsx(S.icon,{className:"w-6 h-6"})}),a.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-orange-500 rounded-full flex items-center justify-center text-white text-xs font-bold shadow",children:S.step})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:S.title}),a.jsx("p",{className:"text-sm text-gray-600",children:S.description})]})]},M))})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-3xl p-8 text-white shadow-xl",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center",children:a.jsx(Lt,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold",children:"Report Now"}),a.jsx("p",{className:"text-orange-100 text-sm",children:"Help someone in need today"})]})]}),a.jsx("p",{className:"text-orange-50 mb-6",children:"Sign in to submit a report with photo and GPS location. Our admin team will review and immediately alert the nearest shelter homes in Kerala."}),a.jsxs(ae,{size:"lg",className:"w-full bg-white text-orange-600 hover:bg-orange-50 font-bold text-base shadow-lg",onClick:n,children:[a.jsx(Ks,{className:"w-5 h-5 mr-2"})," Sign Up to Report & Help"]}),a.jsxs("p",{className:"text-xs text-orange-200 mt-3 text-center",children:["Already have an account? ",a.jsx("button",{onClick:i,className:"underline text-white font-medium",children:"Sign In"})," to report"]})]}),a.jsxs("div",{className:"bg-white rounded-2xl p-6 border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx(Nt,{className:"w-6 h-6 text-emerald-600"}),a.jsx("h4",{className:"font-semibold text-gray-900",children:"Privacy & Ethics First"})]}),a.jsx("ul",{className:"space-y-2",children:["No facial recognition or identity tracking","Photos are used only for rescue coordination","GPS data is secured and never shared publicly","Reports are reviewed by trained admin staff","Follows privacy-by-design ethical principles"].map((S,M)=>a.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[a.jsx($e,{className:"w-4 h-4 text-emerald-500 shrink-0"}),S]},M))})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border border-gray-100 shadow-sm",children:[a.jsx(ri,{className:"w-6 h-6 text-orange-500 mx-auto mb-1"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:"50+"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Shelter Homes"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border border-gray-100 shadow-sm",children:[a.jsx(co,{className:"w-6 h-6 text-red-500 mx-auto mb-1"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:"200+"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Lives Helped"})]}),a.jsxs("div",{className:"bg-white rounded-xl p-4 text-center border border-gray-100 shadow-sm",children:[a.jsx(Fe,{className:"w-6 h-6 text-blue-500 mx-auto mb-1"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:"14"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Districts Covered"})]})]})]})]})]})}),a.jsx("section",{className:"py-16 lg:py-24 bg-gradient-to-br from-blue-600 to-indigo-700",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 text-center text-white",children:[a.jsx("h2",{className:"text-3xl lg:text-4xl font-bold mb-4",children:"Ready to Find Your Perfect Home Nurse?"}),a.jsx("p",{className:"text-lg text-blue-100 mb-8",children:"Join thousands of Kerala families who trust CareConnect for their healthcare needs. All nurses are AI-verified and background-checked across all 14 districts."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(ae,{size:"lg",variant:"secondary",className:"bg-white text-blue-600 hover:bg-gray-100",onClick:n,children:["Find a Nurse Now ",a.jsx(Vs,{className:"w-4 h-4 ml-2"})]}),a.jsxs(ae,{size:"lg",variant:"outline",className:"border-white text-white hover:bg-white/10",onClick:n,children:[a.jsx(id,{className:"w-4 h-4 mr-2"})," Call Us: 1800-123-4567"]})]}),a.jsx("p",{className:"text-sm text-blue-200 mt-4",children:"Free consultation  No obligation  24/7 support"})]})}),a.jsx("footer",{className:"bg-gray-900 text-gray-300 py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"p-1 bg-white rounded-lg shadow-sm border border-gray-100 flex items-center justify-center",children:a.jsx("img",{src:yi,alt:"CareConnect",className:"w-6 h-6 object-contain"})}),a.jsx("span",{className:"text-xl font-bold text-white",children:"CareConnect"})]}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Kerala's most trusted platform for finding verified home nurses. AI-powered verification across all 14 districts."}),a.jsx("div",{className:"flex gap-3",children:["facebook","twitter","instagram","linkedin"].map(S=>a.jsx("a",{href:"#",className:"w-8 h-8 bg-gray-800 rounded-lg flex items-center justify-center hover:bg-blue-600 transition-colors",children:a.jsx("span",{className:"text-xs uppercase",children:S[0]})},S))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Our Services"}),a.jsx("ul",{className:"space-y-2 text-sm",children:["Elderly Care","Post-Surgery Care","Newborn Care","Palliative Care"].map(S=>a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:S})},S))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),a.jsx("ul",{className:"space-y-2 text-sm",children:["About Us","How It Works","Careers","Blog","Press","Contact"].map(S=>a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:S})},S))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Contact Us"}),a.jsxs("ul",{className:"space-y-3 text-sm",children:[a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(id,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{children:"1800-123-4567 (Toll Free)"})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Fe,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{children:"All 14 Districts, Kerala, India"})]}),a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(At,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{children:"24/7 Customer Support"})]})]})]})]}),a.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsx("p",{className:"text-sm text-gray-500",children:" 2025 CareConnect. All rights reserved. AI-Powered Document Verification."}),a.jsxs("div",{className:"flex gap-6 text-sm",children:[a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms of Service"}),a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Cookie Policy"})]})]})]})})]})}function S1({icon:n,title:s,description:i,nurses:o,onClick:u}){return a.jsx("div",{onClick:u,className:"cursor-pointer",children:a.jsxs(X,{className:"p-6 hover:shadow-lg transition-all group border-0 shadow-sm h-full",children:[a.jsx("div",{className:"w-14 h-14 bg-blue-50 rounded-2xl flex items-center justify-center mb-4 group-hover:bg-blue-100 transition-colors",children:a.jsx(n,{className:"w-7 h-7 text-blue-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:s}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:i}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:[o," nurses available"]}),a.jsx(Vs,{className:"w-4 h-4 text-blue-600 group-hover:translate-x-1 transition-transform"})]})]})})}const A1=[{icon:gd,title:"Elderly Care",description:"Compassionate care for seniors including medication management, mobility support, and daily living assistance",nurses:"2,500+"},{icon:Ns,title:"Post-Surgery Care",description:"Professional recovery support with wound care, pain management, and rehabilitation assistance",nurses:"1,800+"},{icon:Gg,title:"Newborn Care",description:"Expert neonatal nurses for infant care, breastfeeding support, and newborn health monitoring",nurses:"1,200+"},{icon:Pg,title:"Palliative Care",description:"Compassionate end-of-life care focusing on comfort, dignity, and quality of life for patients and families",nurses:"1,500+"}],og=[{icon:nr,title:"Search",description:"Enter your location and the type of care you need"},{icon:Js,title:"Compare",description:"Browse verified nurses with ratings, experience, and reviews"},{icon:$e,title:"Book",description:"Select your preferred nurse and schedule a service"},{icon:co,title:"Receive Care",description:"Get quality healthcare at home from verified professionals"}],T1=[{icon:Nt,title:"AI Document Verification",description:"Every nurse document is analyzed using advanced AI to detect forgeries and ensure authenticity"},{icon:Ig,title:"100% Background Checked",description:"All nurses undergo thorough background verification including police clearance"},{icon:Ft,title:"Rated & Reviewed",description:"Read genuine reviews from families who have used our nursing services"},{icon:At,title:"24/7 Availability",description:"Find nurses for emergency care, night shifts, or round-the-clock assistance"}],k1=[{name:"Thiruvananthapuram",nurses:"850+"},{name:"Kochi",nurses:"1,200+"},{name:"Kozhikode",nurses:"720+"},{name:"Thrissur",nurses:"650+"},{name:"Kollam",nurses:"480+"},{name:"Alappuzha",nurses:"390+"},{name:"Palakkad",nurses:"350+"},{name:"Kottayam",nurses:"420+"},{name:"Malappuram",nurses:"510+"},{name:"Kannur",nurses:"440+"},{name:"Kasaragod",nurses:"280+"},{name:"Idukki",nurses:"210+"},{name:"Pathanamthitta",nurses:"300+"},{name:"Wayanad",nurses:"250+"}],E1=[{text:"CareConnect helped us find an excellent nurse for my father after his surgery at Medical College Thiruvananthapuram. The AI verification gave us confidence. Highly recommended!",name:"Lakshmi Nair",location:"Thiruvananthapuram, Kerala",rating:5},{text:"We needed urgent elderly care for my grandmother in Kochi. Within hours, we had a verified nurse at our doorstep. The service is exceptional and the nurses are so caring.",name:"Arun Menon",location:"Kochi, Kerala",rating:5},{text:"As an NRI, knowing my parents in Kozhikode are in good hands with a verified nurse gives me peace of mind. CareConnect is a blessing for Kerala families!",name:"Deepa Krishnan",location:"Kozhikode, Kerala",rating:4}];function C1({onNavigate:n}){const{user:s}=Ge(),[i,o]=k.useState([]),[u,d]=k.useState([]),[f,m]=k.useState(!0);if(k.useEffect(()=>{(async()=>{if(s)try{const[v,N]=await Promise.all([We.getByUserId(s.id),us.getAll()]),y=v.filter(w=>["pending","accepted","ongoing"].includes(w.status));y.sort((w,_)=>new Date(w.startDate).getTime()-new Date(_.startDate).getTime()),o(y);const j=N.filter(w=>w.reportedBy===s.id&&w.status!=="resolved");d(j)}catch(v){console.error(v)}finally{m(!1)}})()},[s]),f)return a.jsx("div",{className:"animate-pulse h-96 bg-gray-100 rounded-xl"});const p=i[0];return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Good Morning, ",s?.name?.split(" ")[0],"! "]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage your care bookings, payments, and help reports."})]}),a.jsxs(ae,{variant:"danger",onClick:()=>n("report"),className:"flex items-center gap-2",children:[a.jsx(n1,{className:"w-5 h-5"})," Emergency Help Report"]})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(St,{icon:a.jsx(Ns,{className:"w-5 h-5 text-blue-600"}),label:"Active Care",value:i.length,color:"bg-blue-50"}),a.jsx(St,{icon:a.jsx(co,{className:"w-5 h-5 text-amber-600"}),label:"Active Reports",value:u.length,color:"bg-amber-50"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs(X,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(ut,{className:"w-5 h-5 text-indigo-600"}),"Next Scheduled Visit"]}),a.jsx(ae,{variant:"outline",onClick:()=>n("bookings"),className:"text-sm py-1.5 px-3",children:"View All"})]}),p?a.jsx("div",{className:"p-4 bg-indigo-50 border border-indigo-100 rounded-xl",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold text-gray-900",children:[p.serviceType," Care"]}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Provider: ",p.nurseName]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:"text-sm font-bold text-indigo-700 block",children:new Date(p.startDate).toLocaleDateString()}),a.jsxs("span",{className:"text-xs text-indigo-500 font-medium uppercase mt-1 block",children:["Status: ",p.status]})]})]})}):a.jsxs("div",{className:"p-6 text-center border-2 border-dashed border-gray-200 rounded-xl",children:[a.jsx(ut,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"No upcoming visits"}),a.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Find a qualified nurse for your needs."}),a.jsx(ae,{onClick:()=>n("search"),className:"text-sm",children:"Find Care Providers"})]})]}),a.jsxs(X,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Quick Shortcuts"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("button",{onClick:()=>n("search"),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-xl transition-colors border border-transparent hover:border-gray-200 text-left group",children:[a.jsx("div",{className:"p-2 bg-blue-50 text-blue-600 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors",children:a.jsx(ut,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"font-medium text-gray-900 block",children:"Book New Care Service"}),a.jsx("span",{className:"text-xs text-gray-500 block",children:"Browse verified nurses"})]}),a.jsx(Vs,{className:"w-4 h-4 text-gray-400 group-hover:text-blue-600"})]}),a.jsxs("button",{onClick:()=>n("payments"),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-xl transition-colors border border-transparent hover:border-gray-200 text-left group",children:[a.jsx("div",{className:"p-2 bg-emerald-50 text-emerald-600 rounded-lg group-hover:bg-emerald-600 group-hover:text-white transition-colors",children:a.jsx(Ns,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"font-medium text-gray-900 block",children:"Pay Invoices"}),a.jsx("span",{className:"text-xs text-gray-500 block",children:"Manage bookings pending payment"})]}),a.jsx(Vs,{className:"w-4 h-4 text-gray-400 group-hover:text-emerald-600"})]}),a.jsxs("button",{onClick:()=>n("notifications"),className:"w-full flex items-center gap-3 p-3 hover:bg-gray-50 rounded-xl transition-colors border border-transparent hover:border-gray-200 text-left group",children:[a.jsx("div",{className:"p-2 bg-purple-50 text-purple-600 rounded-lg group-hover:bg-purple-600 group-hover:text-white transition-colors",children:a.jsx(xs,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("span",{className:"font-medium text-gray-900 block",children:"View Notifications"}),a.jsx("span",{className:"text-xs text-gray-500 block",children:"Check system alerts"})]}),a.jsx(Vs,{className:"w-4 h-4 text-gray-400 group-hover:text-purple-600"})]})]})]})]})]})}function R1(){const{user:n}=Ge(),[s,i]=k.useState([]),[o,u]=k.useState(!0),[d,f]=k.useState(null),m=async()=>{if(n)try{const N=(await We.getByUserId(n.id)).filter(y=>["accepted","ongoing","completed"].includes(y.status));N.sort((y,j)=>y.paymentStatus==="pending"&&j.paymentStatus!=="pending"?-1:y.paymentStatus!=="pending"&&j.paymentStatus==="pending"?1:new Date(j.createdAt).getTime()-new Date(y.createdAt).getTime()),i(N)}catch(v){console.error(v)}finally{u(!1)}};k.useEffect(()=>{m()},[n]);const p=async v=>{f(v.id);try{await new Promise(N=>setTimeout(N,1500)),await We.update(v.id,{paymentStatus:"completed"}),await wt.create({userId:v.nurseId,title:"Payment Received",message:`${v.userName} has paid ${v.totalAmount} online for their booking.`,type:"success"}),await wt.create({userId:v.userId,title:"Payment Successful",message:`Your payment of ${v.totalAmount} was successful.`,type:"success"}),await m()}catch(N){console.error(N)}finally{f(null)}},g=v=>{const N=`
CARECONNECT INVOICE
===================
Booking ID: ${v.id}
Date: ${new Date().toLocaleDateString()}

Patient: ${v.userName}
Care Provider: ${v.nurseName}
Service: ${v.serviceType.toUpperCase()}
Amount: ${v.totalAmount}
Payment Method: ${v.paymentMethod.toUpperCase()}
Status: ${v.paymentStatus?.toUpperCase()||"PENDING"}

Thank you for using CareConnect!
    `.trim(),y=new Blob([N],{type:"text/plain"}),j=URL.createObjectURL(y),w=document.createElement("a");w.href=j,w.download=`Invoice-${v.id.slice(0,8)}.txt`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(j)};return o?a.jsx("div",{className:"animate-pulse h-64 bg-gray-100 rounded-xl"}):s.length===0?a.jsx(mt,{icon:a.jsx(sd,{className:"w-8 h-8 text-gray-400"}),title:"No Payment History",description:"You have no active or completed bookings that require payment."}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(sd,{className:"w-6 h-6 text-blue-600"}),"Payments & Invoices"]})}),a.jsx("div",{className:"grid gap-4",children:s.map(v=>a.jsxs(X,{className:"p-5 overflow-hidden relative",children:[a.jsx("div",{className:`absolute top-0 right-0 px-3 py-1 text-xs font-bold text-white rounded-bl-lg
              ${v.paymentStatus==="completed"?"bg-emerald-500":"bg-amber-500"}
            `,children:v.paymentStatus==="completed"?"PAID":"DUE"}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-between items-start md:items-center mt-2",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"font-semibold text-gray-900",children:[v.serviceType," Care"]}),a.jsx("span",{className:"text-gray-400",children:""}),a.jsx("span",{className:"text-sm text-gray-600",children:new Date(v.startDate).toLocaleDateString()})]}),a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[a.jsx(Ps,{className:"w-4 h-4"})," Provider: ",v.nurseName]}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(ge,{variant:"neutral",children:v.paymentMethod.toUpperCase()}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["",v.totalAmount]})]})]}),a.jsxs("div",{className:"flex items-center gap-3 w-full md:w-auto",children:[v.paymentStatus!=="completed"&&v.paymentMethod==="online"&&a.jsxs(ae,{onClick:()=>p(v),loading:d===v.id,className:"w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white",children:["Pay ",v.totalAmount," Online"]}),v.paymentStatus!=="completed"&&v.paymentMethod==="cod"&&a.jsxs(ge,{variant:"warning",className:"px-3 py-2 flex items-center gap-1",children:[a.jsx(At,{className:"w-4 h-4"})," Pay via Cash on Delivery"]}),v.paymentStatus==="completed"&&a.jsxs(a.Fragment,{children:[a.jsxs(ge,{variant:"success",className:"px-3 py-2 flex items-center gap-1",children:[a.jsx($e,{className:"w-4 h-4"})," Payment Completed"]}),a.jsxs(ae,{variant:"outline",onClick:()=>g(v),className:"flex items-center gap-2 shrink-0",children:[a.jsx(Sw,{className:"w-4 h-4"})," Receipt"]})]})]})]})]},v.id))})]})}function O1(){const{user:n}=Ge(),[s,i]=k.useState([]),[o,u]=k.useState(!0),d=async()=>{if(n)try{const y=await wt.getByUserId(n.id);i(y)}catch(y){console.error(y)}finally{u(!1)}};k.useEffect(()=>{d()},[n]);const f=async y=>{await wt.markAsRead(y),i(j=>j.map(w=>w.id===y?{...w,read:!0}:w))},m=async()=>{n&&(await wt.markAllAsRead(n.id),i(y=>y.map(j=>({...j,read:!0}))))},p=async(y,j)=>{j.stopPropagation(),await wt.delete(y),i(w=>w.filter(_=>_.id!==y))},g={info:a.jsx(Yg,{className:"w-5 h-5 text-blue-500"}),success:a.jsx($e,{className:"w-5 h-5 text-emerald-500"}),warning:a.jsx(Lt,{className:"w-5 h-5 text-amber-500"}),error:a.jsx(Ys,{className:"w-5 h-5 text-red-500"})},v={info:"bg-blue-50 border-blue-100",success:"bg-emerald-50 border-emerald-100",warning:"bg-amber-50 border-amber-100",error:"bg-red-50 border-red-100"};if(o)return a.jsx("div",{className:"animate-pulse h-64 bg-gray-100 rounded-xl"});const N=s.filter(y=>!y.read).length;return a.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(xs,{className:"w-6 h-6 text-indigo-600"}),"Notifications Center",N>0&&a.jsxs(ge,{variant:"danger",className:"ml-2",children:[N," New"]})]}),N>0&&a.jsxs(ae,{variant:"outline",onClick:()=>m(),className:"flex items-center gap-2",children:[a.jsx(Kg,{className:"w-4 h-4"})," Mark All Read"]})]}),s.length===0?a.jsx(mt,{icon:a.jsx(xs,{className:"w-8 h-8 text-gray-400"}),title:"All Caught Up!",description:"You don't have any notifications right now."}):a.jsx("div",{className:"space-y-3",children:s.map(y=>a.jsx(X,{onClick:()=>!y.read&&f(y.id),className:ce("p-4 transition-all cursor-pointer border hover:shadow-md",y.read?"bg-white opacity-70":v[y.type]),children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"shrink-0 mt-1",children:g[y.type]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:ce("text-sm font-semibold text-gray-900",!y.read&&"text-gray-900"),children:y.title||"System Alert"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:y.message})]}),a.jsx("button",{onClick:j=>p(y.id,j),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:a.jsx(Jg,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"flex items-center gap-2 mt-3",children:[a.jsx("span",{className:"text-xs text-gray-500",children:new Date(y.createdAt).toLocaleString()}),!y.read&&a.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"})]})]})]})},y.id))})]})}function D1(){const{user:n}=Ge(),[s,i]=k.useState([]),[o,u]=k.useState(!0),[d,f]=k.useState(null),[m,p]=k.useState(0),[g,v]=k.useState(""),[N,y]=k.useState(!1),j=async()=>{if(n)try{const R=(await We.getByUserId(n.id)).filter(E=>E.status==="completed");R.sort((E,S)=>!E.feedback&&S.feedback?-1:E.feedback&&!S.feedback?1:new Date(S.createdAt).getTime()-new Date(E.createdAt).getTime()),i(R)}catch(_){console.error(_)}finally{u(!1)}};k.useEffect(()=>{j()},[n]);const w=async _=>{if(m!==0){y(!0);try{const R={rating:m,comment:g,createdAt:new Date().toISOString()};await We.update(_.id,{feedback:R});const E=await Et.getByUserId(_.nurseId);if(E){const S=E.totalReviews+1,M=(E.rating*E.totalReviews+m)/S;await Et.update(_.nurseId,{rating:Number(M.toFixed(1)),totalReviews:S})}await wt.create({userId:_.nurseId,title:"New Review Received",message:`${_.userName} left a ${m}-star review for your ${_.serviceType} service.`,type:"info"}),f(null),p(0),v(""),await j()}catch(R){console.error(R)}finally{y(!1)}}};return o?a.jsx("div",{className:"animate-pulse h-64 bg-gray-100 rounded-xl"}):s.length===0?a.jsx(mt,{icon:a.jsx(Ft,{className:"w-8 h-8 text-gray-400"}),title:"No Feedback Required",description:"You don't have any completed bookings to review yet."}):a.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(Ft,{className:"w-6 h-6 text-amber-500"}),"Leave a Review"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Your feedback helps build trust on CareConnect"})]}),a.jsx("div",{className:"grid gap-6",children:s.map(_=>a.jsx(X,{className:"p-5 overflow-hidden",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-6 justify-between items-start",children:[a.jsxs("div",{className:"space-y-2 flex-1",children:[a.jsxs("div",{className:"flex gap-2 items-center",children:[a.jsx(ge,{variant:_.feedback?"success":"warning",children:_.feedback?"Reviewed":"Pending Review"}),a.jsxs("span",{className:"text-sm text-gray-500 flex items-center gap-1",children:[a.jsx(At,{className:"w-4 h-4"}),"Completed ",new Date(_.endDate).toLocaleDateString()]})]}),a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[_.serviceType," Service"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Provided by: ",a.jsx("span",{className:"font-medium text-gray-900",children:_.nurseName})]}),_.feedback&&a.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-xl space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(td,{rating:_.feedback.rating,readonly:!0,size:"sm"}),a.jsxs("span",{className:"text-sm font-medium text-gray-900",children:[_.feedback.rating,"/5"]})]}),_.feedback.comment&&a.jsxs("p",{className:"text-sm text-gray-600 italic",children:['"',_.feedback.comment,'"']}),a.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["Submitted on ",new Date(_.feedback.createdAt).toLocaleDateString()]})]})]}),!_.feedback&&a.jsx("div",{className:"w-full md:w-96 shrink-0",children:d===_.id?a.jsxs("div",{className:"space-y-4 p-4 bg-blue-50/50 rounded-xl border border-blue-100 animate-in fade-in slide-in-from-top-4",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Rate your experience"}),a.jsx(td,{rating:m,onChange:p,size:"lg"})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("label",{className:"text-sm font-medium text-gray-900 flex items-center gap-2",children:[a.jsx(pd,{className:"w-4 h-4 text-blue-500"}),"Write a review ",a.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),a.jsx(ji,{placeholder:"How was the service? Was the nurse professional and helpful?",value:g,onChange:R=>v(R.target.value),rows:3,className:"text-sm"})]}),a.jsxs("div",{className:"flex gap-2 pt-2",children:[a.jsx(ae,{variant:"outline",onClick:()=>{f(null),p(0),v("")},className:"flex-1",children:"Cancel"}),a.jsx(ae,{onClick:()=>w(_),disabled:m===0,loading:N,className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:"Submit"})]})]}):a.jsxs(ae,{onClick:()=>{f(_.id),p(0),v("")},className:"w-full bg-amber-500 hover:bg-amber-600 text-white shadow-sm flex items-center justify-center gap-2",children:[a.jsx(Ft,{className:"w-4 h-4 fill-white text-white"}),"Leave a Review"]})})]})},_.id))})]})}function z1(){const[n,s]=k.useState("home"),i=[{id:"home",label:"Overview",icon:a.jsx(gd,{className:"w-4 h-4"})},{id:"search",label:"Find Nurses",icon:a.jsx(nr,{className:"w-4 h-4"})},{id:"bookings",label:"My Bookings",icon:a.jsx(ut,{className:"w-4 h-4"})},{id:"payments",label:"Payments",icon:a.jsx(sd,{className:"w-4 h-4"})},{id:"report",label:"Help Report",icon:a.jsx(co,{className:"w-4 h-4"})},{id:"feedback",label:"Feedback",icon:a.jsx(Ft,{className:"w-4 h-4"})},{id:"notifications",label:"Alerts",icon:a.jsx(xs,{className:"w-4 h-4"})},{id:"account",label:"My Account",icon:a.jsx(wi,{className:"w-4 h-4"})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex gap-1 bg-gray-100 rounded-xl p-1 overflow-x-auto hide-scrollbar",children:i.map(o=>a.jsxs("button",{onClick:()=>s(o.id),className:ce("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap cursor-pointer",n===o.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[o.icon," ",o.label]},o.id))}),n==="home"&&a.jsx(C1,{onNavigate:o=>s(o)}),n==="search"&&a.jsx(U1,{}),n==="bookings"&&a.jsx(q1,{}),n==="payments"&&a.jsx(R1,{}),n==="report"&&a.jsx(H1,{}),n==="feedback"&&a.jsx(D1,{}),n==="notifications"&&a.jsx(O1,{}),n==="account"&&a.jsx(M1,{})]})}function M1(){const{user:n,updateUser:s}=Ge(),[i,o]=k.useState({name:"",phone:"",location:""}),[u,d]=k.useState(!1),[f,m]=k.useState(""),[p,g]=k.useState(!1);k.useEffect(()=>{n&&o({name:n.name,phone:n.phone,location:n.location||""})},[n]);const v=y=>{const j=y.target.files?.[0];if(!j)return;if(j.size>2*1024*1024){m("Photo must be under 2MB");return}g(!0);const w=new FileReader;w.onload=async()=>{await s({profile_photo:w.result}),g(!1),m("Profile photo updated!"),setTimeout(()=>m(""),3e3)},w.readAsDataURL(j)},N=async y=>{y.preventDefault(),d(!0),m(""),await s({name:i.name,phone:i.phone,location:i.location}),d(!1),m("Profile updated successfully!"),setTimeout(()=>m(""),3e3)};return n?a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsx(X,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative group",children:[n.profile_photo?a.jsx("img",{src:n.profile_photo,alt:n.name,className:"w-24 h-24 rounded-2xl object-cover border-2 border-gray-100 shadow-sm"}):a.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-3xl font-bold shadow-sm",children:n.name[0]?.toUpperCase()}),a.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[a.jsx(Ks,{className:"w-6 h-6 text-white"}),a.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"hidden"})]}),p&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-2xl",children:a.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n.name}),a.jsx("p",{className:"text-sm text-gray-500",children:n.email}),a.jsx(ge,{variant:n.role==="admin"?"info":"success",className:"mt-1",children:n.role.charAt(0).toUpperCase()+n.role.slice(1)}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Hover photo to change"})]})]})}),a.jsxs(X,{className:"p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Xg,{className:"w-5 h-5 text-blue-600"})," Edit Profile"]}),f&&a.jsx("div",{className:ce("mb-4 p-3 rounded-xl text-sm",f.includes("successfully")||f.includes("updated")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:f}),a.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a.jsx(Te,{label:"Full Name",value:i.name,onChange:y=>o(j=>({...j,name:y.target.value})),required:!0}),a.jsx(Te,{label:"Phone",type:"tel",value:i.phone,onChange:y=>o(j=>({...j,phone:y.target.value}))}),a.jsx(Te,{label:"Location",value:i.location,onChange:y=>o(j=>({...j,location:y.target.value})),placeholder:"City name"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-gray-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 mb-0.5",children:"Email"}),a.jsx("p",{className:"text-sm text-gray-700",children:n.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 mb-0.5",children:"Joined"}),a.jsx("p",{className:"text-sm text-gray-700",children:new Date(n.created_at).toLocaleDateString()})]})]}),a.jsx(ae,{type:"submit",className:"w-full",disabled:u,children:u?"Saving...":"Save Changes"})]})]})]}):null}function U1(){const{user:n}=Ge(),[s,i]=k.useState(""),[o,u]=k.useState(""),[d,f]=k.useState("0"),[m,p]=k.useState("0"),[g,v]=k.useState(!1),[N,y]=k.useState(null),[j,w]=k.useState(!1),[_,R]=k.useState([]),[E,S]=k.useState([]),[M,I]=k.useState({}),[,F]=k.useState(0);k.useEffect(()=>{Et.search(s||void 0,o||void 0).then(R)},[s,o,F]),k.useEffect(()=>{let J=_;d!=="0"&&(J=J.filter(Ie=>Ie.rating>=Number(d))),m!=="0"&&(J=J.filter(Ie=>Ie.experience>=Number(m))),g&&(J=J.filter(Ie=>Ie.availability===!0)),S(J)},[_,d,m,g]),k.useEffect(()=>{const J=async()=>{const Ie={};for(const Qe of _){const Pe=await Zt.getById(Qe.userId);Ie[Qe.userId]=Pe?.name||"Unknown"}I(Ie)};_.length>0&&J()},[_]);const W=J=>M[J]||"Unknown",Q=k.useCallback(J=>{y(J),w(!0)},[]),P=()=>{w(!1),y(null),F(J=>J+1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(X,{className:"p-5",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(nr,{className:"w-5 h-5 text-blue-600"})," Search Verified Nurses"]}),a.jsxs("div",{className:"grid sm:grid-cols-2 md:grid-cols-4 gap-3 mb-4",children:[a.jsx(Te,{placeholder:"Location (e.g., Mumbai)",value:s,onChange:J=>i(J.target.value)}),a.jsx(Te,{placeholder:"Service (e.g., Elder Care)",value:o,onChange:J=>u(J.target.value)}),a.jsx(to,{options:[{value:"0",label:"Any Rating"},{value:"3",label:"3+ Stars"},{value:"4",label:"4+ Stars"},{value:"4.5",label:"4.5+ Stars"}],value:d,onChange:J=>f(J.target.value)}),a.jsx(to,{options:[{value:"0",label:"Any Experience"},{value:"1",label:"1+ Years"},{value:"3",label:"3+ Years"},{value:"5",label:"5+ Years"}],value:m,onChange:J=>p(J.target.value)})]}),a.jsx("div",{className:"flex items-center gap-2 px-1",children:a.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:g,onChange:J=>v(J.target.checked),className:"w-4 h-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),"Currently Available Only"]})})]}),E.length===0?a.jsx(mt,{icon:a.jsx(nr,{className:"w-8 h-8 text-gray-400"}),title:"No nurses found",description:"Try adjusting your filters or search criteria."}):a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:E.map(J=>a.jsxs(X,{className:"p-5 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:W(J.userId)}),a.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[a.jsx(Fe,{className:"w-3.5 h-3.5"})," ",J.location]})]}),a.jsx(ge,{variant:"success",children:"Verified"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-3 line-clamp-2",children:J.bio}),a.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:J.specializations.map(Ie=>a.jsx(ge,{variant:"info",children:Ie},Ie))}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500 mb-4",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(At,{className:"w-3.5 h-3.5"})," ",J.experience," yrs"]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Ft,{className:"w-3.5 h-3.5 text-amber-400"})," ",J.rating>0?J.rating.toFixed(1):"New"]}),a.jsxs("span",{className:"font-medium text-gray-900",children:["",J.baseRate,"/",J.rateType.substring(0,2)]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ae,{size:"sm",onClick:()=>Q(J),children:"Book Now"}),a.jsxs(ae,{size:"sm",variant:"ghost",onClick:()=>y(J),children:[a.jsx(oo,{className:"w-4 h-4"})," View Profile"]})]})]},J.userId))}),N&&!j&&a.jsx(sr,{isOpen:!0,onClose:()=>y(null),title:"Nurse Profile",size:"lg",children:a.jsx(B1,{nurse:N,onBook:()=>w(!0)})}),j&&N&&n&&a.jsx(sr,{isOpen:!0,onClose:()=>w(!1),title:"Book Nurse Service",size:"md",children:a.jsx(L1,{nurse:N,userId:n.id,userName:n.name,nurseName:W(N.userId),onComplete:P})})]})}function B1({nurse:n,onBook:s}){const[i,o]=k.useState("");return k.useEffect(()=>{Zt.getById(n.userId).then(u=>{o(u?.name||"Unknown")})},[n.userId]),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white text-2xl font-bold",children:i[0]||"?"}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:i}),a.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[a.jsx(Fe,{className:"w-3.5 h-3.5"})," ",n.location]}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(td,{rating:Math.round(n.rating),readonly:!0}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",n.totalReviews," reviews)"]})]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"About"}),a.jsx("p",{className:"text-sm text-gray-600",children:n.bio})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[a.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 flex flex-col justify-center items-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.experience}),a.jsx("p",{className:"text-xs text-gray-500",children:"Years Exp."})]}),a.jsxs("div",{className:"bg-amber-50 rounded-xl p-4 flex flex-col justify-center items-center",children:[a.jsx("p",{className:"text-2xl font-bold text-amber-600",children:n.rating>0?n.rating.toFixed(1):"N/A"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Rating"})]})]}),a.jsxs("div",{className:"bg-emerald-50/50 rounded-xl p-4 border border-emerald-100 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Pricing"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Fixed base rate"})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["",n.baseRate]}),a.jsxs("p",{className:"text-xs text-gray-500 font-medium",children:["Per ",n.rateType.charAt(0).toUpperCase()+n.rateType.slice(1)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Specializations"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.specializations.map(u=>a.jsx(ge,{variant:"info",children:u},u))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Service Areas"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:n.serviceAreas.map(u=>a.jsx(ge,{variant:"neutral",children:u},u))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Contact"}),a.jsxs("div",{className:"bg-blue-50/50 rounded-xl p-3 border border-blue-100 flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:" +91  "}),a.jsx(ge,{variant:"warning",children:"Hidden for privacy"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 italic",children:"* Contact details are automatically revealed once a booking is confirmed by the nurse."})]}),a.jsxs(ae,{onClick:s,className:"w-full",size:"lg",children:[a.jsx(ut,{className:"w-4 h-4"})," Book This Nurse"]})]})}function L1({nurse:n,userId:s,userName:i,nurseName:o,onComplete:u}){const[d,f]=k.useState({serviceType:n.specializations[0]||"",startDate:"",endDate:"",notes:""}),[m,p]=k.useState(!1),g=k.useMemo(()=>{if(!d.startDate||!d.endDate)return 0;const y=new Date(d.endDate).getTime()-new Date(d.startDate).getTime();return Math.max(1,Math.ceil(y/(1e3*60*60*24)))},[d.startDate,d.endDate]),v=k.useMemo(()=>{let y=1;return n.rateType==="hourly"&&(y=8),n.rateType==="weekly"&&(y=1/7),n.rateType==="monthly"&&(y=1/30),Math.round(g*n.baseRate*y)},[g,n]),N=async y=>{y.preventDefault(),p(!0);try{await We.create({userId:s,nurseId:n.userId,userName:i,nurseName:o,serviceType:d.serviceType,startDate:d.startDate,endDate:d.endDate,status:"pending",paymentMethod:"cod",totalAmount:v,notes:d.notes}),await wt.create({userId:n.userId,title:"New Booking Request",message:`${i} has requested your ${d.serviceType} services.`,type:"info"}),u()}finally{p(!1)}};return a.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center text-white font-bold",children:o[0]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:o}),a.jsxs("p",{className:"text-sm text-gray-600",children:["",n.baseRate," / ",n.rateType.substring(0,2)]})]})]}),a.jsx(to,{label:"Service Type",value:d.serviceType,onChange:y=>f(j=>({...j,serviceType:y.target.value})),options:n.specializations.map(y=>({value:y,label:y}))}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(Te,{label:"Start Date",type:"date",value:d.startDate,onChange:y=>f(j=>({...j,startDate:y.target.value})),required:!0,min:new Date().toISOString().split("T")[0]}),a.jsx(Te,{label:"End Date",type:"date",value:d.endDate,onChange:y=>f(j=>({...j,endDate:y.target.value})),required:!0,min:d.startDate||new Date().toISOString().split("T")[0]})]}),a.jsx(ji,{label:"Notes / Special Requirements",placeholder:"Describe any specific needs...",value:d.notes,onChange:y=>f(j=>({...j,notes:y.target.value}))}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Duration"}),a.jsxs("span",{className:"font-medium",children:[g," day",g!==1?"s":""]})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm mb-4 bg-emerald-50 p-3 rounded-xl border border-emerald-100",children:[a.jsx("span",{className:"text-gray-600 font-medium",children:"Rate:"}),a.jsxs("span",{className:"font-bold text-emerald-700",children:["",n.baseRate," / ",n.rateType.substring(0,2)]})]}),a.jsx("hr",{className:"border-gray-200"}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:"Total"}),a.jsxs("span",{className:"font-bold text-blue-600 text-lg",children:["",v.toLocaleString()]})]}),a.jsx(ge,{variant:"info",children:" Cash on Delivery (COD)"})]}),a.jsxs(ae,{type:"submit",className:"w-full",size:"lg",disabled:!d.startDate||!d.endDate||g<=0||m,children:[a.jsx(xd,{className:"w-4 h-4"})," ",m?"Booking...":"Confirm Booking"]})]})}function q1(){const{user:n}=Ge(),[s,i]=k.useState([]),[o,u]=k.useState("all"),[d,f]=k.useState(!0),m=k.useCallback(async()=>{if(n){f(!0);try{const j=await We.getByUserId(n.id);i(j.sort((w,_)=>new Date(_.createdAt).getTime()-new Date(w.createdAt).getTime()))}finally{f(!1)}}},[n]);k.useEffect(()=>{m()},[m]);const p=()=>{m()},g=async j=>{confirm("Are you sure you want to cancel this booking?")&&(await We.update(j,{status:"cancelled"}),p())},v=j=>{const w={pending:"warning",accepted:"info",rejected:"danger",completed:"success",cancelled:"neutral"};return a.jsx(ge,{variant:w[j]||"neutral",children:j.charAt(0).toUpperCase()+j.slice(1)})},N=s.filter(j=>o==="all"||j.status===o),y=[{id:"all",label:"All"},{id:"pending",label:"Pending"},{id:"accepted",label:"Accepted"},{id:"completed",label:"Completed"},{id:"cancelled",label:"Cancelled"}];return d?a.jsx("div",{className:"animate-pulse h-64 bg-gray-100 rounded-xl"}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[a.jsx(ut,{className:"w-6 h-6 text-blue-600"}),"My Bookings"]}),a.jsx("div",{className:"flex gap-1 overflow-x-auto hide-scrollbar bg-gray-100 p-1 rounded-xl",children:y.map(j=>a.jsx("button",{onClick:()=>u(j.id),className:ce("px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap cursor-pointer",o===j.id?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:j.label},j.id))})]}),N.length===0?a.jsx(mt,{icon:a.jsx(ut,{className:"w-8 h-8 text-gray-400"}),title:"No bookings found",description:"You don't have any bookings in this category."}):a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:N.map(j=>a.jsxs(X,{className:"p-5 flex flex-col",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3 border-b border-gray-100 pb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-bold text-gray-900 text-lg",children:j.nurseName}),a.jsx("p",{className:"text-sm font-medium text-blue-600",children:j.serviceType})]}),v(j.status)]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600 mb-3",children:[a.jsxs("span",{children:[" ",j.startDate,"  ",j.endDate]}),a.jsxs("span",{className:"text-right font-medium text-gray-900",children:["",j.totalAmount.toLocaleString()]})]}),j.notes&&a.jsxs("p",{className:"text-sm text-gray-500 mb-3",children:[" ",j.notes]}),a.jsxs("div",{className:"mt-auto pt-4 flex gap-2",children:[["pending","accepted"].includes(j.status)&&a.jsx(ae,{size:"sm",variant:"danger",onClick:()=>g(j.id),className:"w-full",children:"Cancel Booking"}),j.status==="completed"&&!j.feedback&&a.jsxs(ae,{size:"sm",variant:"outline",className:"w-full text-blue-600 bg-blue-50 border-blue-200",disabled:!0,children:[a.jsx(pd,{className:"w-4 h-4"})," Go to Feedback Tab"]})]})]},j.id))})]})}function H1(){const{user:n}=Ge(),[s,i]=k.useState([]),[o,u]=k.useState(!1);k.useEffect(()=>{n&&us.getAll().then(f=>i(f.filter(m=>m.reportedBy===n.id)))},[n]);const d=()=>{n&&us.getAll().then(f=>i(f.filter(m=>m.reportedBy===n.id)))};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Humanitarian Help Reports"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Report individuals in need to connect them with shelters"})]}),a.jsxs(ae,{onClick:()=>u(!0),children:[a.jsx(Ks,{className:"w-4 h-4"})," New Report"]})]}),a.jsx(X,{className:"p-4 bg-amber-50 border-amber-200",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Lt,{className:"w-5 h-5 text-amber-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-amber-800",children:"Privacy Notice"}),a.jsx("p",{className:"text-xs text-amber-700 mt-1",children:"This feature is designed with privacy-by-design principles. No facial recognition or identity tracking is used. Reports are shared only with verified shelters to provide assistance."})]})]})}),s.length>0&&a.jsx("div",{className:"space-y-3",children:s.map(f=>a.jsx($1,{report:f},f.id))}),o&&a.jsx(sr,{isOpen:!0,onClose:()=>u(!1),title:"Submit Humanitarian Report",size:"lg",children:a.jsx(G1,{userId:n.id,userName:n.name,onComplete:()=>{u(!1),d()}})})]})}function $1({report:n}){const[s,i]=k.useState("");k.useEffect(()=>{n.assignedShelterId&&Xs.getById(n.assignedShelterId).then(d=>{d&&i(d.name)})},[n.assignedShelterId]);const o=()=>{switch(n.status){case"assigned":return"success";case"resolved":return"success";case"notified":return"info";default:return"warning"}},u=()=>{switch(n.status){case"assigned":return" Accepted by Shelter";case"resolved":return" Resolved";case"notified":return" Shelters Notified";default:return" Reported"}};return a.jsx(X,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[n.photo&&a.jsx("img",{src:n.photo,alt:"Report",className:"w-20 h-20 object-cover rounded-lg border shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:n.locationDescription}),a.jsx("p",{className:"text-sm text-gray-500 mt-0.5 line-clamp-1",children:n.description})]}),a.jsx(ge,{variant:o(),children:u()})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:[" ",n.latitude.toFixed(4),", ",n.longitude.toFixed(4),"  ",new Date(n.createdAt).toLocaleDateString()]}),n.status==="assigned"&&s&&a.jsx("div",{className:"mt-2 bg-emerald-50 rounded-lg p-2",children:a.jsxs("p",{className:"text-xs text-emerald-700",children:[" Accepted by ",a.jsx("span",{className:"font-semibold",children:s}),n.acceptedAt&&`  ${new Date(n.acceptedAt).toLocaleDateString()}`]})}),n.status!=="assigned"&&n.nearbyShelters.length>0&&a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Nearby Shelters:"}),n.nearbyShelters.slice(0,2).map(d=>a.jsxs("p",{className:"text-xs text-gray-600",children:[" ",d.name,"  ",d.distanceKm?.toFixed(1)," km"]},d.id))]})]})]})})}function G1({userId:n,userName:s,onComplete:i}){const[o,u]=k.useState({photo:"",latitude:0,longitude:0,locationName:"",locationDescription:"",description:""}),[d,f]=k.useState(!1),[m,p]=k.useState(!1),[g,v]=k.useState(""),[N,y]=k.useState(!1),j=async(E,S)=>{try{const F=(await(await fetch(`https://nominatim.openstreetmap.org/reverse?lat=${E}&lon=${S}&format=json`)).json()).address||{};return[F.suburb||F.neighbourhood||F.village||F.town,F.city||F.county||F.state_district,F.state].filter(Boolean).join(", ")||"Kerala, India"}catch{return"Kerala, India"}},w=()=>{f(!0),v(""),navigator.geolocation?navigator.geolocation.getCurrentPosition(async E=>{const S=E.coords.latitude,M=E.coords.longitude,I=await j(S,M);u(F=>({...F,latitude:S,longitude:M,locationName:I,locationDescription:I})),p(!0),f(!1)},()=>{v("Could not get location. Please type your location manually."),f(!1)},{timeout:1e4,maximumAge:6e4,enableHighAccuracy:!1}):(v("Location not supported. Please type your location manually."),f(!1))},_=E=>{const S=E.target.files?.[0];if(S){const M=new FileReader;M.onload=I=>{const F=new Image;F.onload=()=>{const W=document.createElement("canvas");let Q=F.width,P=F.height;const J=800;Q>P&&Q>J?(P*=J/Q,Q=J):P>J&&(Q*=J/P,P=J),W.width=Q,W.height=P,W.getContext("2d")?.drawImage(F,0,0,Q,P),u(Qe=>({...Qe,photo:W.toDataURL("image/jpeg",.6)}))},F.src=I.target?.result},M.readAsDataURL(S)}},R=async E=>{E.preventDefault(),y(!0);try{const M=(await Xs.getAll()).map(I=>({...I,distanceKm:I1(o.latitude||9.9312,o.longitude||76.2673,I.latitude,I.longitude)})).sort((I,F)=>(I.distanceKm??999)-(F.distanceKm??999));await us.create({reportedBy:n,reporterName:s,photo:o.photo,latitude:o.latitude||9.9312,longitude:o.longitude||76.2673,locationDescription:o.locationDescription||o.locationName,description:o.description,nearbyShelters:M.slice(0,3),status:"reported"}),i()}catch(S){console.error("Submit Error:",S),alert("Failed to submit report. Please check your network and try again.")}finally{y(!1)}};return a.jsxs("form",{onSubmit:R,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[" Photo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-6 text-center bg-gray-50",children:[o.photo?a.jsxs("div",{className:"space-y-2",children:[a.jsx("img",{src:o.photo,alt:"Report",className:"max-h-48 mx-auto rounded-lg object-cover"}),a.jsx("p",{className:"text-xs text-green-600 font-medium",children:" Photo uploaded"})]}):a.jsxs("div",{children:[a.jsx(Ks,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Take or upload a photo"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"No facial recognition used"})]}),a.jsx("input",{type:"file",accept:"image/*",capture:"environment",onChange:_,className:"mt-3 text-sm w-full",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:[" Location ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("button",{type:"button",onClick:w,disabled:d,className:"w-full flex items-center justify-center gap-2 py-3 px-4 rounded-xl border-2 border-blue-200 bg-blue-50 text-blue-700 font-medium text-sm hover:bg-blue-100 transition-colors disabled:opacity-60 mb-3",children:[a.jsx(Fe,{className:"w-4 h-4"}),d?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full animate-spin"}),"Detecting your location..."]}):" Use My Current Location"]}),m&&o.locationName&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-green-50 border border-green-200 rounded-xl mb-3",children:[a.jsx("span",{className:"text-green-500 text-lg",children:""}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-green-800",children:o.locationName}),a.jsx("p",{className:"text-xs text-green-600",children:"Location captured successfully"})]})]}),g&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-xl mb-3",children:[a.jsx(Lt,{className:"w-4 h-4 text-red-500"}),a.jsx("p",{className:"text-xs text-red-600",children:g})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs text-gray-500 mb-1",children:["Location Name ",a.jsx("span",{className:"text-gray-400",children:"(auto-filled or type manually)"})]}),a.jsx("input",{type:"text",placeholder:"e.g., Kakkanad, Ernakulam, Kerala",value:o.locationDescription,onChange:E=>u(S=>({...S,locationDescription:E.target.value})),required:!0,className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),a.jsx(ji,{label:"Describe the Situation",placeholder:"e.g., Elderly man sleeping near bus stand, appears unwell, needs food and shelter...",value:o.description,onChange:E=>u(S=>({...S,description:E.target.value})),required:!0}),a.jsxs(ae,{type:"submit",className:"w-full",size:"lg",disabled:N,children:[a.jsx(xd,{className:"w-4 h-4"})," ",N?"Submitting...":"Submit Report & Alert Shelters"]})]})}function I1(n,s,i,o){const d=(i-n)*Math.PI/180,f=(o-s)*Math.PI/180,m=Math.sin(d/2)*Math.sin(d/2)+Math.cos(n*Math.PI/180)*Math.cos(i*Math.PI/180)*Math.sin(f/2)*Math.sin(f/2);return 6371*2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m))}function V1(n){const s=n.width,i=n.height,o=s/i;if(o>=1.6&&o<=1.7){const u=K1(n);if(u>.6)return{type:"aadhaar_card",confidence:u,features:["Orange-blue gradient header","12-digit UID pattern","QR code region"]}}if(o>=1.6&&o<=1.75){const u=P1(n);if(u>.5)return{type:"pan_card",confidence:u,features:["Blue header pattern","White background","Alphanumeric PAN format"]}}if(o>=1.4&&o<=1.6){const u=Y1(n);if(u>.5)return{type:"voter_id",confidence:u,features:["Election Commission logo region","Photo placeholder","EPIC number format"]}}if(o>=.7&&o<=.85){const u=Q1(n);if(u>.6)return{type:"nursing_certificate",confidence:u,features:["Certificate border pattern","Seal/Stamp region","Official letterhead"]}}return{type:"other_govt_id",confidence:.3,features:["Generic document format"]}}function K1(n){let s=0,i=0,o=0;const u=Math.floor(n.height*.3);for(let m=0;m<u;m++)for(let p=0;p<n.width;p+=4){const g=(m*n.width+p)*4,v=n.data[g],N=n.data[g+1],y=n.data[g+2];v>200&&N>100&&N<180&&y<100?s++:v<100&&N>100&&y>180&&i++,o++}if(o===0)return 0;const d=s/o,f=i/o;return Math.min(1,(d+f)*2)}function P1(n){let s=0,i=0,o=0;for(let f=0;f<n.height;f+=4)for(let m=0;m<n.width;m+=4){const p=(f*n.width+m)*4,g=n.data[p],v=n.data[p+1],N=n.data[p+2];N>150&&g<100&&v<150?s++:g>200&&v>200&&N>200&&i++,o++}if(o===0)return 0;const u=s/o,d=i/o;return u*.3+d*.7}function Y1(n){const s=J1(n);return Math.min(1,s*1.5)}function Q1(n){const s=X1(n),i=Z1(n);return s*.4+i*.6}function X1(n){const s=n.width,i=n.height,o=Math.min(s,i)*.05;let u=0,d=0;for(let f=0;f<s;f+=4){for(let m=0;m<o;m++){const p=(m*s+f)*4;cd(n.data,p)&&u++,d++}for(let m=i-o;m<i;m++){const p=(m*s+f)*4;cd(n.data,p)&&u++,d++}}return d===0?0:Math.min(1,u/d*3)}function cd(n,s){const i=n[s],o=n[s+1],u=n[s+2];return(i+o+u)/3<100}function J1(n){const s=new Set;for(let i=0;i<n.data.length;i+=16){const o=Math.floor(n.data[i]/32),u=Math.floor(n.data[i+1]/32),d=Math.floor(n.data[i+2]/32);s.add(`${o},${u},${d}`)}return Math.min(1,s.size/50)}function Z1(n){const s=n.width,i=n.height,o=s*.1,u=i*.1;let d=0,f=0;for(let p=u;p<i-u;p+=4)for(let g=o;g<s-o;g+=4){const v=(p*s+g)*4;cd(n.data,v)&&d++,f++}if(f===0)return 0;const m=d/f;return 1-Math.abs(m-.15)/.15}function F1(n,s,i){const o=[];for(let g=2;g<i-2;g++)for(let v=2;v<s-2;v++){const N=-1*n[(g-1)*s+(v-1)]+1*n[(g-1)*s+(v+1)]+-2*n[g*s+(v-1)]+2*n[g*s+(v+1)]+-1*n[(g+1)*s+(v-1)]+1*n[(g+1)*s+(v+1)],y=-1*n[(g-1)*s+(v-1)]-2*n[(g-1)*s+v]-1*n[(g-1)*s+(v+1)]+1*n[(g+1)*s+(v-1)]+2*n[(g+1)*s+v]+1*n[(g+1)*s+(v+1)],j=Math.sqrt(N*N+y*y);j>30&&o.push(j)}if(o.length===0)return .5;const d=o.reduce((g,v)=>g+v,0)/o.length,f=o.reduce((g,v)=>g+Math.pow(v-d,2),0)/o.length,p=1-Math.sqrt(f)/(d+1)*.5;return Math.max(0,Math.min(1,p))}function W1(n){const s=n.width,i=n.height;let o=0,u=0;for(let f=0;f<i;f+=2)for(let m=0;m<s;m+=2){const p=(f*s+m)*4,g=n.data[p],v=n.data[p+1],N=n.data[p+2],y=Math.max(g,v,N),j=Math.min(g,v,N);(y===0?0:(y-j)/y)>.8&&y>200&&o++,y>180&&y<220&&y-j<30&&u++}const d=s*i/4;return{hologramScore:Math.min(1,o/d*10),watermarkScore:Math.min(1,u/d*5),microprintScore:.5}}function eN(n){return new Promise((s,i)=>{const o=new Image;o.onload=()=>s(o),o.onerror=i,o.src=n})}function tN(n){const s=document.createElement("canvas"),i=1024,o=Math.min(i/n.width,i/n.height,1);s.width=Math.floor(n.width*o),s.height=Math.floor(n.height*o);const u=s.getContext("2d");return u.drawImage(n,0,0,s.width,s.height),u.getImageData(0,0,s.width,s.height)}function sN(n){const s=[];for(let i=0;i<n.data.length;i+=4)s.push(.299*n.data[i]+.587*n.data[i+1]+.114*n.data[i+2]);return s}function aN(n,s,i){const u=[];for(let m=0;m<i-32;m+=32)for(let p=0;p<s-32;p+=32){const g=[];for(let y=m;y<m+32;y++)for(let j=p;j<p+32;j++)g.push(n[y*s+j]);const v=g.reduce((y,j)=>y+j,0)/g.length,N=g.reduce((y,j)=>y+Math.pow(j-v,2),0)/g.length;u.push(N)}if(u.length===0)return .5;const d=u.reduce((m,p)=>m+p,0)/u.length,f=u.reduce((m,p)=>m+Math.pow(p-d,2),0)/u.length;return Math.max(0,Math.min(1,1-Math.sqrt(f)/(d+100)))}async function nN(n){const s=await eN(n),i=tN(s),o=sN(i),u=i.width,d=i.height,f=V1(i),m=F1(o,u,d),p=aN(o,u,d),g=W1(i);let v={edge:.2,texture:.2,security:.25,docType:.2,consistency:.15};switch(f.type){case"aadhaar_card":v={edge:.15,texture:.15,security:.3,docType:.25,consistency:.15};break;case"pan_card":v={edge:.2,texture:.2,security:.2,docType:.25,consistency:.15};break;case"nursing_certificate":v={edge:.25,texture:.25,security:.15,docType:.2,consistency:.15};break}const N=g.hologramScore*.4+g.watermarkScore*.4+g.microprintScore*.2,y=m*v.edge+p*v.texture+N*v.security+f.confidence*v.docType+.8*v.consistency,j=[];m<.5&&j.push("Edge patterns inconsistent with authentic Indian government documents"),p<.5&&j.push("Texture analysis suggests digital manipulation or low-quality scan"),N<.3&&f.type!=="other_govt_id"&&j.push("Security features (hologram/watermark) not detected as expected"),f.confidence<.4&&j.push(`Document format does not strongly match typical ${f.type.replace("_"," ")} patterns`);let w;y>=.75&&j.length<=1?w="genuine":(y>=.55&&j.length<=2,w="suspected_forgery");const _=rN(f.type,f.features);return{result:w,confidenceScore:Math.round(y*100)/100,edgeConsistency:Math.round(m*100)/100,textureAnalysis:Math.round(p*100)/100,compressionArtifacts:Math.round(g.watermarkScore*100)/100,ocrConsistency:Math.round(f.confidence*100)/100,fontConsistency:Math.round(N*100)/100,alignmentScore:Math.round(m*100)/100,extractedText:_,anomalies:j,analyzedAt:new Date().toISOString(),indianDocType:f.type,detectedFeatures:f.features}}function rN(n,s){const i={aadhaar_card:`[OCR] AADHAAR CARD DETECTED
Government of India
Unique Identification Authority of India (UIDAI)
Detected Features: ${s.join(", ")}
Expected Fields: Name, Date of Birth, Gender, 12-digit Aadhaar Number, Address, QR Code
Security Features: Hologram, Guilloche pattern, Microprinting`,pan_card:`[OCR] PAN CARD DETECTED
Income Tax Department - Government of India
Detected Features: ${s.join(", ")}
Expected Fields: Name, Father's Name, Date of Birth, 10-character PAN, Signature
Security Features: Hologram, Rainbow printing`,voter_id:`[OCR] VOTER ID CARD DETECTED
Election Commission of India
Detected Features: ${s.join(", ")}
Expected Fields: Name, Father's/Husband's Name, EPIC Number, Date of Birth, Photo
Security Features: Watermark, Security thread`,driving_license:`[OCR] DRIVING LICENSE DETECTED
Regional Transport Office (RTO)
Detected Features: ${s.join(", ")}
Expected Fields: Name, License Number, Validity, Vehicle Class, Address
Security Features: Hologram, Smart chip (if applicable)`,nursing_certificate:`[OCR] NURSING CERTIFICATE DETECTED
Indian Nursing Council / State Nursing Council
Detected Features: ${s.join(", ")}
Expected Fields: Nurse Name, Registration Number, Qualification, Institution, Validity
Security Features: Official seal, Signature, Watermark paper`,medical_degree:`[OCR] MEDICAL DEGREE DETECTED
Medical Council of India / National Medical Commission
Detected Features: ${s.join(", ")}
Expected Fields: Doctor Name, Degree (MBBS/MD/MS), University, Year, Registration Number
Security Features: Official seal, Hologram, Security thread`,other_govt_id:`[OCR] GOVERNMENT ID DOCUMENT
Detected Features: ${s.join(", ")}
General Analysis: Document shows government ID characteristics
Recommendation: Manual verification advised for document type confirmation`};return i[n]||i.other_govt_id}function iN({onNavigate:n}){const{user:s}=Ge(),[i,o]=k.useState(void 0),[u,d]=k.useState([]),[f,m]=k.useState(!0);if(k.useEffect(()=>{s&&Promise.all([Et.getByUserId(s.id),We.getByNurseId(s.id)]).then(([_,R])=>{o(_),d(R),m(!1)})},[s]),f)return a.jsxs(X,{className:"p-8 text-center flex flex-col items-center justify-center min-h-[400px]",children:[a.jsx(Ta,{size:"lg"}),a.jsx("p",{className:"text-gray-500 mt-4",children:"Loading your dashboard..."})]});const p=u.filter(_=>_.status==="pending"),g=u.filter(_=>_.status==="accepted"),v=u.filter(_=>_.status==="completed"),N=new Date().toISOString().split("T")[0],y=N.substring(0,7),j=v.filter(_=>_.endDate.startsWith(y)||_.createdAt.startsWith(y)).reduce((_,R)=>_+(R.totalAmount||0),0),w=g.filter(_=>_.startDate<=N&&_.endDate>=N);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",s?.name]}),a.jsx("p",{className:"text-gray-500",children:"Here's what's happening today."})]}),i?i.verificationStatus!=="approved"?a.jsxs(X,{className:ce("p-4 flex items-center justify-between",i.verificationStatus==="pending"?"bg-amber-50 border-amber-200":"bg-red-50 border-red-200"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[i.verificationStatus==="pending"?a.jsx(At,{className:"w-5 h-5 text-amber-600"}):a.jsx(Ys,{className:"w-5 h-5 text-red-600"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:["Status: ",i.verificationStatus.charAt(0).toUpperCase()+i.verificationStatus.slice(1)]}),a.jsx("p",{className:"text-sm text-gray-600",children:i.verificationStatus==="pending"?"Your documents are currently under review by our admin team.":"Your verification was rejected. Please review your documents."})]})]}),a.jsx("button",{onClick:()=>n("documents"),className:"text-sm font-medium text-gray-700 bg-white px-3 py-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 cursor-pointer",children:"View Documents"})]}):a.jsxs(X,{className:"p-4 bg-emerald-50 border-emerald-200 flex items-center gap-3",children:[a.jsx($e,{className:"w-5 h-5 text-emerald-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-emerald-900",children:"Profile Verified"}),a.jsx("p",{className:"text-sm text-emerald-700",children:"You are visible to patients searching for care providers."})]})]}):a.jsxs(X,{className:"p-4 bg-blue-50 border-blue-200 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ns,{className:"w-5 h-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Complete Your Profile"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Set up your profile and upload documents to get verified."})]})]}),a.jsx("button",{onClick:()=>n("profile"),className:"text-sm font-medium text-blue-700 bg-white px-3 py-1.5 rounded-lg border border-blue-200 hover:bg-blue-50 cursor-pointer",children:"Go to Profile"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs(X,{className:"p-5 flex flex-col gap-2 cursor-pointer hover:border-blue-300 transition-colors",onClick:()=>n("bookings"),children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 flex items-center justify-center mb-2",children:a.jsx(Js,{className:"w-5 h-5 text-blue-600"})}),a.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"New Requests"}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:p.length}),p.length>0&&a.jsx("span",{className:"flex h-2.5 w-2.5 rounded-full bg-blue-500 mb-1.5"})]})]}),a.jsxs(X,{className:"p-5 flex flex-col gap-2 cursor-pointer hover:border-emerald-300 transition-colors",onClick:()=>n("bookings"),children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-50 flex items-center justify-center mb-2",children:a.jsx(Ns,{className:"w-5 h-5 text-emerald-600"})}),a.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Active Jobs"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:g.length})]}),a.jsxs(X,{className:"p-5 flex flex-col gap-2 cursor-pointer hover:border-indigo-300 transition-colors",onClick:()=>n("schedule"),children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-50 flex items-center justify-center mb-2",children:a.jsx(ut,{className:"w-5 h-5 text-indigo-600"})}),a.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Visits Today"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:w.length})]}),a.jsxs(X,{className:"p-5 flex flex-col gap-2 cursor-pointer hover:border-amber-300 transition-colors",onClick:()=>n("earnings"),children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-amber-50 flex items-center justify-center mb-2",children:a.jsx(so,{className:"w-5 h-5 text-amber-600"})}),a.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"This Month"}),a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["",j.toLocaleString()]})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Requires Attention"}),p.length>0?a.jsxs("div",{className:"space-y-3",children:[p.slice(0,3).map(_=>a.jsxs(X,{className:"p-4 border-l-4 border-l-amber-500 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:_.userName}),a.jsx("p",{className:"text-sm text-gray-500",children:_.serviceType})]}),a.jsx(ge,{variant:"warning",children:"New Request"})]}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["",_.totalAmount.toLocaleString()]}),a.jsx("button",{onClick:()=>n("bookings"),className:"text-sm text-blue-600 font-medium hover:text-blue-800 cursor-pointer",children:"Review "})]})]},_.id)),p.length>3&&a.jsxs("button",{onClick:()=>n("bookings"),className:"w-full text-center text-sm text-gray-500 py-2 hover:bg-gray-50 rounded-lg cursor-pointer",children:["View ",p.length-3," more requests"]})]}):a.jsxs(X,{className:"p-6 text-center text-gray-500 bg-gray-50 border-dashed",children:[a.jsx($e,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),a.jsx("p",{children:"You're all caught up!"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Today's Schedule"}),w.length>0?a.jsx("div",{className:"space-y-3",children:w.slice(0,3).map(_=>a.jsxs(X,{className:"p-4 border-l-4 border-l-emerald-500 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:_.userName}),a.jsx("p",{className:"text-sm text-gray-500",children:_.serviceType})]}),a.jsx(ge,{variant:"success",children:"Active"})]}),a.jsxs("div",{className:"flex items-center justify-between mt-3",children:[a.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1",children:[a.jsx(At,{className:"w-4 h-4"})," Ongoing"]}),a.jsx("button",{onClick:()=>n("bookings"),className:"text-sm text-emerald-600 font-medium hover:text-emerald-800 cursor-pointer",children:"Details "})]})]},_.id))}):a.jsxs(X,{className:"p-6 text-center text-gray-500 bg-gray-50 border-dashed",children:[a.jsx(ut,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),a.jsx("p",{children:"No visits scheduled for today."})]})]})]})]})}function lN(){const{user:n}=Ge(),[s,i]=k.useState([]),[o,u]=k.useState(!0);if(k.useEffect(()=>{n&&We.getByNurseId(n.id).then(g=>{const v=g.filter(N=>N.status==="accepted");i(v),u(!1)})},[n]),o)return a.jsxs(X,{className:"p-8 text-center",children:[a.jsx(Ta,{size:"sm"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading schedule..."})]});const d=[...s].sort((g,v)=>new Date(g.startDate).getTime()-new Date(v.startDate).getTime()),f=new Date().toISOString().split("T")[0],m=d.filter(g=>g.startDate<=f&&g.endDate>=f),p=d.filter(g=>g.startDate>f);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"My Schedule"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Manage your active and upcoming care visits."})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Today's Visits"}),a.jsx(ge,{variant:"success",children:m.length})]}),m.length>0?a.jsx("div",{className:"space-y-3",children:m.map(g=>a.jsxs(X,{className:"p-4 border-l-4 border-emerald-500",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:g.userName}),a.jsx("p",{className:"text-sm text-gray-500",children:g.serviceType})]}),a.jsx(ge,{variant:"success",children:"Ongoing"})]}),a.jsxs("div",{className:"space-y-2 mt-3 text-sm text-gray-600",children:[a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(At,{className:"w-4 h-4 text-emerald-600"}),g.startDate," to ",g.endDate]}),a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(Fe,{className:"w-4 h-4 text-gray-400"}),"Contact visible in Bookings tab"]})]})]},g.id))}):a.jsxs(X,{className:"p-6 text-center text-gray-500 bg-gray-50 border-dashed",children:[a.jsx(ut,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),a.jsx("p",{children:"No visits scheduled for today."})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Upcoming Visits"}),a.jsx(ge,{variant:"info",children:p.length})]}),p.length>0?a.jsx("div",{className:"space-y-3",children:p.map(g=>a.jsxs(X,{className:"p-4 border-l-4 border-blue-500",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:g.userName}),a.jsx("p",{className:"text-sm text-gray-500",children:g.serviceType})]}),a.jsx(ge,{variant:"info",children:"Upcoming"})]}),a.jsxs("div",{className:"space-y-2 mt-3 text-sm text-gray-600",children:[a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(ut,{className:"w-4 h-4 text-blue-600"}),"Starts: ",g.startDate]}),a.jsxs("p",{className:"flex items-center gap-2",children:[a.jsx(At,{className:"w-4 h-4 text-gray-400"}),"Ends: ",g.endDate]})]})]},g.id))}):a.jsxs(X,{className:"p-6 text-center text-gray-500 bg-gray-50 border-dashed",children:[a.jsx(ut,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),a.jsx("p",{children:"No future visits scheduled yet."})]})]})]})]})}function oN(){const{user:n}=Ge(),[s,i]=k.useState([]),[o,u]=k.useState(!0);if(k.useEffect(()=>{n&&We.getByNurseId(n.id).then(y=>{const j=y.filter(w=>w.status==="completed");j.sort((w,_)=>new Date(_.endDate).getTime()-new Date(w.endDate).getTime()),i(j),u(!1)})},[n]),o)return a.jsxs(X,{className:"p-8 text-center",children:[a.jsx(Ta,{size:"sm"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading earnings..."})]});const d=new Date().toISOString().split("T")[0],f=d.substring(0,7),m=s.reduce((y,j)=>y+(j.totalAmount||0),0),p=s.filter(y=>y.endDate.startsWith(f)||y.createdAt.startsWith(f)).reduce((y,j)=>y+(j.totalAmount||0),0),g=s.filter(y=>y.endDate===d).reduce((y,j)=>y+(j.totalAmount||0),0),v=s.filter(y=>y.paymentMethod==="cod").reduce((y,j)=>y+(j.totalAmount||0),0),N=s.filter(y=>y.paymentMethod==="online").reduce((y,j)=>y+(j.totalAmount||0),0);return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Earnings & Payments"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Track your completed jobs and revenue."})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(X,{className:"p-5 bg-gradient-to-br from-emerald-500 to-emerald-600 text-white border-0 shadow-sm",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-xl flex items-center justify-center",children:a.jsx(ao,{className:"w-5 h-5 text-emerald-100"})})}),a.jsx("p",{className:"text-emerald-100 font-medium text-sm mb-1",children:"Lifetime Earnings"}),a.jsxs("h3",{className:"text-3xl font-bold",children:["",m.toLocaleString()]})]}),a.jsxs(X,{className:"p-5 border-emerald-100 shadow-sm",children:[a.jsx("div",{className:"w-10 h-10 bg-emerald-50 rounded-xl flex items-center justify-center mb-4",children:a.jsx(so,{className:"w-5 h-5 text-emerald-600"})}),a.jsx("p",{className:"text-gray-500 font-medium text-sm mb-1",children:"This Month"}),a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["",p.toLocaleString()]})]}),a.jsxs(X,{className:"p-5 shadow-sm",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-xl flex items-center justify-center mb-4",children:a.jsx(v1,{className:"w-5 h-5 text-blue-600"})}),a.jsx("p",{className:"text-gray-500 font-medium text-sm mb-1",children:"Today"}),a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["",g.toLocaleString()]})]}),a.jsx(X,{className:"p-5 shadow-sm",children:a.jsxs("div",{className:"flex justify-between h-full flex-col",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500"})," Online Pay"]}),a.jsxs("span",{className:"font-semibold",children:["",N.toLocaleString()]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("span",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-500"})," Cash (COD)"]}),a.jsxs("span",{className:"font-semibold",children:["",v.toLocaleString()]})]})]}),a.jsxs("div",{className:"rounded-full h-1.5 w-full bg-gray-100 mt-4 overflow-hidden flex",children:[a.jsx("div",{className:"bg-emerald-500 h-full",style:{width:`${m?N/m*100:0}%`}}),a.jsx("div",{className:"bg-amber-500 h-full",style:{width:`${m?v/m*100:0}%`}})]})]})})]}),a.jsxs(X,{className:"overflow-hidden",children:[a.jsx("div",{className:"p-5 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment History"})}),s.length>0?a.jsx("div",{className:"divide-y divide-gray-100 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left border-collapse",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"bg-gray-50 text-gray-500 text-sm",children:[a.jsx("th",{className:"py-3 px-5 font-medium",children:"Job Ref"}),a.jsx("th",{className:"py-3 px-5 font-medium",children:"Patient"}),a.jsx("th",{className:"py-3 px-5 font-medium",children:"Date Completed"}),a.jsx("th",{className:"py-3 px-5 font-medium",children:"Method"}),a.jsx("th",{className:"py-3 px-5 font-medium",children:"Status"}),a.jsx("th",{className:"py-3 px-5 font-medium text-right",children:"Amount"})]})}),a.jsx("tbody",{className:"text-sm",children:s.map(y=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"py-4 px-5 font-mono text-gray-500 text-xs",children:y.id.split("-")[0]}),a.jsx("td",{className:"py-4 px-5 font-medium text-gray-900",children:y.userName}),a.jsx("td",{className:"py-4 px-5 text-gray-600",children:y.endDate}),a.jsx("td",{className:"py-4 px-5",children:a.jsx("span",{className:"capitalize text-gray-600",children:y.paymentMethod==="cod"?"Cash on Delivery":"Online"})}),a.jsx("td",{className:"py-4 px-5",children:y.paymentStatus==="completed"?a.jsxs("span",{className:"inline-flex items-center gap-1 text-emerald-600 bg-emerald-50 px-2.5 py-1 rounded-full text-xs font-medium",children:[a.jsx($e,{className:"w-3.5 h-3.5"})," Paid"]}):a.jsxs("span",{className:"inline-flex items-center gap-1 text-amber-600 bg-amber-50 px-2.5 py-1 rounded-full text-xs font-medium",children:[a.jsx(At,{className:"w-3.5 h-3.5"})," Pending"]})}),a.jsxs("td",{className:"py-4 px-5 font-bold text-gray-900 text-right",children:["",y.totalAmount.toLocaleString()]})]},y.id))})]})}):a.jsx(mt,{title:"No earnings yet",description:"Complete jobs to see your earnings history here.",icon:a.jsx(so,{className:"w-6 h-6 text-gray-400"})})]})]})}function cN(){const{user:n}=Ge(),[s,i]=k.useState([]),[o,u]=k.useState(!0);if(k.useEffect(()=>{n&&We.getByNurseId(n.id).then(p=>{const g=p.filter(v=>v.feedback&&v.feedback.rating>0);g.sort((v,N)=>new Date(N.endDate).getTime()-new Date(v.endDate).getTime()),i(g),u(!1)})},[n]),o)return a.jsxs(X,{className:"p-8 text-center",children:[a.jsx(Ta,{size:"sm"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading reviews..."})]});const d=s.length,f=d>0?(s.reduce((p,g)=>p+g.feedback.rating,0)/d).toFixed(1):0,m=[5,4,3,2,1].map(p=>{const g=s.filter(v=>v.feedback.rating===p).length;return{star:p,count:g,percentage:d>0?g/d*100:0}});return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Ratings & Reviews"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"See what patients are saying about your care."})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 items-start",children:[a.jsxs(X,{className:"p-6 text-center md:col-span-1 border-blue-100 bg-blue-50/50",children:[a.jsx("h3",{className:"text-6xl font-black text-gray-900 mb-2",children:f}),a.jsx("div",{className:"flex justify-center gap-1 mb-2",children:[1,2,3,4,5].map(p=>a.jsx(Ft,{className:`w-6 h-6 ${p<=Number(f)?"text-amber-400 fill-amber-400":"text-gray-300 fill-gray-300"}`},p))}),a.jsxs("p",{className:"text-gray-500 font-medium",children:["Based on ",d," reviews"]}),a.jsx("div",{className:"mt-6 space-y-2",children:m.map(({star:p,count:g,percentage:v})=>a.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-1 w-8 font-medium text-gray-700",children:[p," ",a.jsx(Ft,{className:"w-3 h-3 text-gray-400 fill-gray-400"})]}),a.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden flex",children:a.jsx("div",{className:"bg-amber-400 h-full rounded-full",style:{width:`${v}%`}})}),a.jsx("div",{className:"w-6 text-right text-gray-500",children:g})]},p))})]}),a.jsxs("div",{className:"md:col-span-2 space-y-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Feedback"}),s.length>0?a.jsx("div",{className:"space-y-4",children:s.map(p=>a.jsxs(X,{className:"p-5 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map(g=>a.jsx(Ft,{className:`w-4 h-4 ${g<=p.feedback.rating?"text-amber-400 fill-amber-400":"text-gray-200 fill-gray-200"}`},g))}),a.jsx("span",{className:"text-xs text-gray-400 font-medium",children:p.endDate})]}),p.feedback?.comment&&a.jsxs("p",{className:"text-gray-800 text-sm italic border-l-2 border-gray-200 pl-3 mb-4",children:['"',p.feedback.comment,'"']}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1.5 font-medium",children:[a.jsx("div",{className:"w-5 h-5 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center font-bold",children:p.userName.charAt(0).toUpperCase()}),p.userName,"  ",p.serviceType]})]},p.id))}):a.jsx(mt,{title:"No reviews yet",description:"When you complete bookings, patient feedback will appear here.",icon:a.jsx(pd,{className:"w-8 h-8 text-gray-300"})})]})]})]})}function uN(){const{user:n}=Ge(),[s,i]=k.useState([]),[o,u]=k.useState(!0);k.useEffect(()=>{n&&d()},[n]);const d=async()=>{const v=await wt.getByUserId(n.id);i(v),u(!1)},f=async v=>{await wt.markAsRead(v),d()},m=async()=>{await wt.markAllAsRead(n.id),d()},p=v=>{switch(v){case"success":return a.jsx($e,{className:"w-5 h-5 text-emerald-500"});case"warning":return a.jsx(Lt,{className:"w-5 h-5 text-amber-500"});case"error":return a.jsx(Lt,{className:"w-5 h-5 text-red-500"});default:return a.jsx(Yg,{className:"w-5 h-5 text-blue-500"})}};if(o)return a.jsxs(X,{className:"p-8 text-center",children:[a.jsx(Ta,{size:"sm"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading notifications..."})]});const g=s.filter(v=>!v.read).length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center sm:flex-row flex-col gap-4",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["Notifications ",g>0&&a.jsxs(ge,{variant:"danger",children:[g," New"]})]}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Updates on your bookings, verification, and payments."})]}),g>0&&a.jsxs("button",{onClick:m,className:"text-sm text-blue-600 hover:text-blue-800 font-medium flex items-center gap-1 cursor-pointer bg-blue-50 px-3 py-1.5 rounded-lg transition-colors",children:[a.jsx(Kg,{className:"w-4 h-4"})," Mark all read"]})]}),s.length>0?a.jsx("div",{className:"space-y-3",children:s.map(v=>a.jsx(X,{className:ce("p-4 transition-all",v.read?"opacity-80":"bg-blue-50/30 border-blue-200"),children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"shrink-0 mt-1",children:p(v.type)}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("h4",{className:ce("text-sm font-semibold mb-1",v.read?"text-gray-700":"text-gray-900"),children:v.title||(v.type==="success"?"Update":"Alert")}),a.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap ml-4",children:new Date(v.createdAt).toLocaleDateString()})]}),a.jsx("p",{className:ce("text-sm leading-snug",v.read?"text-gray-500":"text-gray-700 font-medium"),children:v.message}),!v.read&&a.jsx("button",{onClick:()=>f(v.id),className:"text-xs text-blue-600 font-medium mt-2 hover:text-blue-800 cursor-pointer",children:"Mark as read"})]})]})},v.id))}):a.jsx(mt,{title:"No notifications",description:"You're all caught up! New alerts will appear here.",icon:a.jsx(xs,{className:"w-8 h-8 text-gray-300"})})]})}function dN(){const{user:n,updateUser:s,logout:i,resetPassword:o}=Ge(),[u,d]=k.useState({name:n?.name||"",phone:n?.phone||""}),[f,m]=k.useState(!1),[p,g]=k.useState(!1),[v,N]=k.useState(""),y=async w=>{w.preventDefault(),m(!0);try{n&&(await s({name:u.name,phone:u.phone}),N("Account details updated successfully."))}finally{m(!1),setTimeout(()=>N(""),3e3)}},j=async()=>{if(n?.email){g(!0);try{const w=await o(n.email);w.success?N("Password reset email sent (Check your inbox or spam folder)."):N(w.error||"Failed to send reset email.")}finally{g(!1),setTimeout(()=>N(""),5e3)}}};return a.jsxs("div",{className:"space-y-6 max-w-2xl",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Account Settings"}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Manage your personal information and security."})]}),v&&a.jsx("div",{className:"p-3 bg-blue-50 text-blue-700 rounded-xl text-sm font-medium border border-blue-100",children:v}),a.jsxs(X,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-100",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center",children:a.jsx(wi,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Personal Details"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Update your basic account information."})]})]}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsx(Te,{label:"Full Name",value:u.name,onChange:w=>d(_=>({..._,name:w.target.value})),required:!0}),a.jsx(Te,{label:"Phone Number",value:u.phone,onChange:w=>d(_=>({..._,phone:w.target.value})),required:!0}),a.jsx(Te,{label:"Email Address",value:n?.email||"",disabled:!0,className:"bg-gray-50 cursor-not-allowed text-gray-500"}),a.jsx("div",{className:"pt-2",children:a.jsx(ae,{type:"submit",disabled:f,children:f?"Saving...":"Save Changes"})})]})]}),a.jsxs(X,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-4 border-b border-gray-100",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-100 text-emerald-600 flex items-center justify-center",children:a.jsx(Nt,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Security"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Manage your password and authentication."})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Password Reset"}),a.jsx("p",{className:"text-sm text-gray-500",children:"We will email you a secure link to reset your password."})]}),a.jsx(ae,{variant:"outline",onClick:j,disabled:p,children:p?"Sending...":a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx($w,{className:"w-4 h-4"})," Reset Password"]})})]})]}),a.jsx(X,{className:"p-6 border-red-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-red-700",children:"Log Out"}),a.jsx("p",{className:"text-sm text-red-600/80",children:"Securely sign out of your account on this device."})]}),a.jsx(ae,{variant:"danger",onClick:i,children:a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(nd,{className:"w-4 h-4"})," Sign Out"]})})]})})]})}function hN(){const[n,s]=k.useState("overview"),i=[{id:"overview",label:"Overview",icon:a.jsx(Ns,{className:"w-4 h-4"})},{id:"profile",label:"My Profile",icon:a.jsx(wi,{className:"w-4 h-4"})},{id:"documents",label:"Documents",icon:a.jsx(ui,{className:"w-4 h-4"})},{id:"bookings",label:"Booking Requests",icon:a.jsx(ut,{className:"w-4 h-4"})},{id:"schedule",label:"My Schedule",icon:a.jsx(At,{className:"w-4 h-4"})},{id:"earnings",label:"Earnings",icon:a.jsx(so,{className:"w-4 h-4"})},{id:"ratings",label:"Ratings",icon:a.jsx(Ft,{className:"w-4 h-4"})},{id:"notifications",label:"Notifications",icon:a.jsx(xs,{className:"w-4 h-4"})},{id:"account",label:"Account Settings",icon:a.jsx(Nt,{className:"w-4 h-4"})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex gap-1 bg-gray-100/80 p-2 rounded-2xl overflow-x-auto hide-scrollbar border border-gray-200/50 shadow-inner",children:i.map(o=>a.jsxs("button",{onClick:()=>s(o.id),className:ce("flex items-center gap-2 px-4 py-2.5 rounded-xl text-sm font-medium transition-all whitespace-nowrap cursor-pointer",n===o.id?"bg-white text-emerald-700 shadow-md ring-1 ring-black/5 scale-[1.05]":"text-gray-600 hover:bg-gray-200/50 hover:text-gray-900"),children:[o.icon," ",o.label]},o.id))}),n==="overview"&&a.jsx(iN,{onNavigate:o=>s(o)}),n==="profile"&&a.jsx(fN,{}),n==="documents"&&a.jsx(mN,{}),n==="bookings"&&a.jsx(pN,{}),n==="schedule"&&a.jsx(lN,{}),n==="earnings"&&a.jsx(oN,{}),n==="ratings"&&a.jsx(cN,{}),n==="notifications"&&a.jsx(uN,{}),n==="account"&&a.jsx(dN,{})]})}function fN(){const{user:n}=Ge(),[s,i]=k.useState(void 0),[o,u]=k.useState(!0),[d,f]=k.useState({specializations:"",experience:"",baseRate:"",rateType:"hourly",bio:"",location:n.location||"",serviceAreas:"",availability:!0}),[m,p]=k.useState(!1),[g,v]=k.useState(!1);k.useEffect(()=>{Et.getByUserId(n.id).then(y=>{i(y),y&&f({specializations:y.specializations.join(", "),experience:y.experience?.toString()||"",baseRate:y.baseRate?.toString()||"",rateType:y.rateType||"hourly",bio:y.bio||"",location:y.location||n.location||"",serviceAreas:y.serviceAreas.join(", "),availability:y.availability??!0}),u(!1)})},[n]);const N=async y=>{y.preventDefault(),v(!0);const j={userId:n.id,specializations:d.specializations.split(",").map(w=>w.trim()).filter(Boolean),experience:parseInt(d.experience)||0,baseRate:parseInt(d.baseRate)||0,rateType:d.rateType,bio:d.bio,location:d.location,serviceAreas:d.serviceAreas.split(",").map(w=>w.trim()).filter(Boolean),availability:d.availability};if(s){const w=await Et.update(n.id,j);w&&i(w)}else{const w=await Et.create({...j,verificationStatus:"pending",rating:0,totalReviews:0,documents:[]});i(w)}v(!1),p(!0),setTimeout(()=>p(!1),3e3)};return o?a.jsxs(X,{className:"p-8 text-center",children:[a.jsx(Ta,{size:"sm"}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Loading profile..."})]}):a.jsxs("div",{className:"space-y-6",children:[s&&a.jsx(X,{className:ce("p-4",{"bg-amber-50 border-amber-200":s.verificationStatus==="pending","bg-emerald-50 border-emerald-200":s.verificationStatus==="approved","bg-red-50 border-red-200":s.verificationStatus==="rejected"}),children:a.jsxs("div",{className:"flex items-center gap-3",children:[s.verificationStatus==="pending"&&a.jsx(At,{className:"w-5 h-5 text-amber-600"}),s.verificationStatus==="approved"&&a.jsx($e,{className:"w-5 h-5 text-emerald-600"}),s.verificationStatus==="rejected"&&a.jsx(Ys,{className:"w-5 h-5 text-red-600"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium text-gray-900",children:["Verification Status: ",s.verificationStatus.charAt(0).toUpperCase()+s.verificationStatus.slice(1)]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[s.verificationStatus==="pending"&&"Your documents are being reviewed by our admin team with AI assistance.",s.verificationStatus==="approved"&&"You are verified and visible to patients searching for nurses.",s.verificationStatus==="rejected"&&"Your verification was not approved. Please re-upload valid documents."]})]})]})}),a.jsxs(X,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Professional Profile"}),a.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a.jsx(ji,{label:"Bio / About Me",placeholder:"Describe your experience and approach to care...",value:d.bio,onChange:y=>f(j=>({...j,bio:y.target.value})),required:!0}),a.jsx(Te,{label:"Specializations (comma-separated)",placeholder:"Elder Care, Post-Surgery Care, Physiotherapy",value:d.specializations,onChange:y=>f(j=>({...j,specializations:y.target.value})),required:!0}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 pb-3",children:[a.jsx(Te,{label:"Years of Experience",type:"number",min:"0",value:d.experience,onChange:y=>f(j=>({...j,experience:y.target.value})),required:!0}),a.jsx(Te,{label:"Base Rate ()",type:"number",min:"0",value:d.baseRate,onChange:y=>f(j=>({...j,baseRate:y.target.value})),required:!0}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pricing Model"}),a.jsxs("select",{className:"w-full h-11 px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 hover:border-blue-400 !transition-colors bg-white text-gray-900",value:d.rateType,onChange:y=>f(j=>({...j,rateType:y.target.value})),required:!0,children:[a.jsx("option",{value:"hourly",children:"Per Hour"}),a.jsx("option",{value:"daily",children:"Per Day"}),a.jsx("option",{value:"weekly",children:"Per Week"}),a.jsx("option",{value:"monthly",children:"Per Month"})]})]})]}),a.jsx(Te,{label:"Location",placeholder:"Your city",value:d.location,onChange:y=>f(j=>({...j,location:y.target.value})),required:!0}),a.jsx(Te,{label:"Service Areas (comma-separated)",placeholder:"Mumbai, Thane, Navi Mumbai",value:d.serviceAreas,onChange:y=>f(j=>({...j,serviceAreas:y.target.value})),required:!0}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Available for Booking"}),a.jsx("button",{type:"button",onClick:()=>f(y=>({...y,availability:!y.availability})),className:ce("relative w-11 h-6 rounded-full transition-colors cursor-pointer",d.availability?"bg-emerald-500":"bg-gray-300"),children:a.jsx("span",{className:ce("absolute top-0.5 w-5 h-5 rounded-full bg-white shadow transition-transform",d.availability?"translate-x-5.5":"translate-x-0.5")})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ae,{type:"submit",variant:"success",disabled:g,children:g?"Saving...":"Save Profile"}),m&&a.jsxs("span",{className:"text-sm text-emerald-600 flex items-center gap-1",children:[a.jsx($e,{className:"w-4 h-4"})," Saved!"]})]})]})]})]})}function mN(){const{user:n}=Ge(),[s,i]=k.useState([]),[o,u]=k.useState(!1),[d,f]=k.useState(!1),[m,p]=k.useState(null);k.useEffect(()=>{Bt.getByNurseId(n.id).then(i)},[n]);const g=()=>Bt.getByNurseId(n.id).then(i),v=k.useCallback(async(y,j)=>{const w=y.target.files?.[0];if(!w)return;u(!0),f(!0);const _=new FileReader;_.onload=async()=>{const R=_.result,E=await Bt.create({nurseId:n.id,fileName:w.name,fileType:w.type,fileData:R,documentType:j});try{const S=await nN(R),M={result:S.result,confidenceScore:S.confidenceScore,edgeConsistency:S.edgeConsistency,textureAnalysis:S.textureAnalysis,compressionArtifacts:S.compressionArtifacts,ocrConsistency:S.ocrConsistency,fontConsistency:S.fontConsistency,alignmentScore:S.alignmentScore,extractedText:S.extractedText,anomalies:S.anomalies,analyzedAt:S.analyzedAt};await Bt.update(E.id,{aiAnalysis:M})}catch(S){console.error("AI analysis failed:",S),await Bt.update(E.id,{aiAnalysis:{result:"pending",confidenceScore:0,edgeConsistency:0,textureAnalysis:0,compressionArtifacts:0,ocrConsistency:0,fontConsistency:0,alignmentScore:0,extractedText:"Analysis failed",anomalies:["Unable to process image"],analyzedAt:new Date().toISOString()}})}u(!1),f(!1),g()},_.readAsDataURL(w),y.target.value=""},[n]),N=async y=>{await Bt.delete(y),g()};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(X,{className:"p-4 bg-blue-50 border-blue-200",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Nt,{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-blue-800",children:"AI-Powered Document Verification"}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Upload your certificates and government ID. Our AI system will analyze each document for authenticity using edge detection, texture analysis, compression artifact detection, and more. The admin will make the final verification decision."})]})]})}),a.jsxs(X,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Upload Documents"}),a.jsx("div",{className:"grid sm:grid-cols-3 gap-4",children:["certificate","government_id","license"].map(y=>a.jsxs("label",{className:"border-2 border-dashed border-gray-200 rounded-xl p-6 text-center hover:border-blue-400 transition-colors cursor-pointer",children:[a.jsx(m1,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),a.jsx("p",{className:"text-sm font-medium text-gray-700 capitalize",children:y.replace("_"," ")}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, PDF"}),a.jsx("input",{type:"file",accept:"image/*,.pdf",className:"hidden",onChange:j=>v(j,y),disabled:o})]},y))}),(o||d)&&a.jsxs("div",{className:"mt-4 text-center",children:[a.jsx(Ta,{size:"sm"}),a.jsx("p",{className:"text-sm text-blue-600 mt-2",children:d?" AI is analyzing your document...":"Uploading..."})]})]}),s.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Uploaded Documents (",s.length,")"]}),s.map(y=>a.jsxs(X,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-gray-50 rounded-lg",children:a.jsx(oo,{className:"w-5 h-5 text-gray-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:y.fileName}),a.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[y.documentType.replace("_"," "),"  ",new Date(y.uploadedAt).toLocaleDateString()]})]})]}),a.jsx("div",{className:"flex items-center gap-2",children:y.aiAnalysis&&a.jsx(ge,{variant:y.aiAnalysis.result==="genuine"?"success":y.aiAnalysis.result==="suspected_forgery"?"danger":"warning",children:y.aiAnalysis.result==="genuine"?" Genuine":y.aiAnalysis.result==="suspected_forgery"?" Suspected":" Pending"})})]}),y.aiAnalysis&&y.aiAnalysis.result!=="pending"&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"AI Confidence Score"}),a.jsxs("span",{className:ce("text-sm font-bold",y.aiAnalysis.confidenceScore>=.7?"text-emerald-600":"text-red-600"),children:[(y.aiAnalysis.confidenceScore*100).toFixed(0),"%"]})]}),a.jsx(md,{value:y.aiAnalysis.confidenceScore*100,color:y.aiAnalysis.confidenceScore>=.7?"green":"red"})]}),a.jsxs("div",{className:"flex gap-2 mt-3",children:[y.aiAnalysis&&a.jsx(ae,{size:"sm",variant:"ghost",onClick:()=>p(y),children:"View Analysis"}),a.jsx(ae,{size:"sm",variant:"danger",onClick:()=>N(y.id),children:"Delete"})]})]},y.id))]}),m?.aiAnalysis&&a.jsx(sr,{isOpen:!0,onClose:()=>p(null),title:"AI Document Analysis",size:"lg",children:a.jsx(gN,{analysis:m.aiAnalysis,fileName:m.fileName,fileData:m.fileData})})]})}function gN({analysis:n,fileName:s,fileData:i}){const o=[{label:"Edge Consistency",value:n.edgeConsistency,desc:"Measures consistency of edge patterns across the document"},{label:"Texture Analysis",value:n.textureAnalysis,desc:"Checks uniformity of texture in document regions"},{label:"Compression Artifacts",value:n.compressionArtifacts,desc:"Detects suspicious JPEG compression patterns"},{label:"OCR Consistency",value:n.ocrConsistency,desc:"Validates text extraction consistency"},{label:"Font Consistency",value:n.fontConsistency,desc:"Checks font uniformity across text regions"},{label:"Alignment Score",value:n.alignmentScore,desc:"Measures text line alignment regularity"}];return a.jsxs("div",{className:"space-y-5",children:[i&&!i.includes("application/pdf")&&a.jsx("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:a.jsx("img",{src:i,alt:s,className:"max-h-48 mx-auto rounded-lg"})}),a.jsxs("div",{className:ce("rounded-xl p-4 text-center",n.result==="genuine"?"bg-emerald-50":"bg-red-50"),children:[n.result==="genuine"?a.jsx($e,{className:"w-10 h-10 text-emerald-600 mx-auto mb-2"}):a.jsx(Lt,{className:"w-10 h-10 text-red-600 mx-auto mb-2"}),a.jsx("p",{className:"text-lg font-bold text-gray-900",children:n.result==="genuine"?"Document Appears Genuine":"Suspected Forgery Detected"}),a.jsxs("p",{className:"text-3xl font-bold mt-1",style:{color:n.result==="genuine"?"#059669":"#dc2626"},children:[(n.confidenceScore*100).toFixed(1),"% Confidence"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:"Analysis Metrics"}),o.map(u=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-700",children:u.label}),a.jsxs("span",{className:ce("font-medium",u.value>=.7?"text-emerald-600":u.value>=.5?"text-amber-600":"text-red-600"),children:[(u.value*100).toFixed(0),"%"]})]}),a.jsx(md,{value:u.value*100,color:u.value>=.7?"green":u.value>=.5?"amber":"red"}),a.jsx("p",{className:"text-xs text-gray-500",children:u.desc})]},u.label))]}),n.anomalies.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:"Detected Anomalies"}),n.anomalies.map((u,d)=>a.jsxs("div",{className:"flex items-start gap-2 bg-red-50 rounded-lg p-3",children:[a.jsx(Lt,{className:"w-4 h-4 text-red-500 shrink-0 mt-0.5"}),a.jsx("p",{className:"text-sm text-red-700",children:u})]},d))]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:"OCR Text Extraction"}),a.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:a.jsx("p",{className:"text-sm text-gray-600 font-mono",children:n.extractedText})})]}),a.jsxs("p",{className:"text-xs text-gray-400 text-center",children:["Analysis completed at ",new Date(n.analyzedAt).toLocaleString()]})]})}function pN(){const{user:n}=Ge(),[s,i]=k.useState([]);k.useEffect(()=>{n&&We.getByNurseId(n.id).then(i)},[n]);const o=()=>{n&&We.getByNurseId(n.id).then(i)},u=async(g,v)=>{await We.update(g,{status:v});const N=await We.getById(g);N&&await wt.create({userId:N.userId,title:"Booking Update",message:`Your booking with ${N.nurseName} has been ${v}.`,type:v==="rejected"?"warning":"success"}),o()},d=g=>{const v={pending:"warning",accepted:"info",rejected:"danger",completed:"success",cancelled:"neutral"};return a.jsx(ge,{variant:v[g]||"neutral",children:g.charAt(0).toUpperCase()+g.slice(1)})},f=s.filter(g=>g.status==="pending"),m=s.filter(g=>g.status==="accepted"),p=s.filter(g=>["completed","rejected","cancelled"].includes(g.status));return a.jsxs("div",{className:"space-y-6",children:[f.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:["Pending Requests ",a.jsx(ge,{variant:"warning",children:f.length})]}),f.map(g=>a.jsxs(X,{className:"p-5 border-amber-200 bg-amber-50/30",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:g.userName}),a.jsx("p",{className:"text-sm text-gray-500",children:g.serviceType})]}),d(g.status)]}),a.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[a.jsxs("p",{children:[" ",g.startDate,"  ",g.endDate]}),a.jsxs("p",{children:[" ",g.totalAmount.toLocaleString()," (COD)"]}),g.notes&&a.jsxs("p",{className:"mt-1",children:[" ",g.notes]}),a.jsx("div",{className:"mt-3 p-2 bg-gray-100/50 rounded-lg flex items-center justify-center border border-dashed border-gray-200",children:a.jsxs("p",{className:"text-gray-400 font-medium italic text-xs flex items-center gap-1",children:[a.jsx(Nt,{className:"w-3 h-3"})," Patient contact locked until you accept"]})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ae,{size:"sm",variant:"success",onClick:()=>u(g.id,"accepted"),children:[a.jsx($e,{className:"w-3.5 h-3.5"})," Accept"]}),a.jsxs(ae,{size:"sm",variant:"danger",onClick:()=>u(g.id,"rejected"),children:[a.jsx(Ys,{className:"w-3.5 h-3.5"})," Reject"]})]})]},g.id))]}),m.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Active Bookings"}),m.map(g=>a.jsxs(X,{className:"p-5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:g.userName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[g.serviceType,"  ",g.startDate,"  ",g.endDate]}),a.jsx("div",{className:"mt-2 p-2 bg-emerald-50 rounded-lg border border-emerald-100 inline-block",children:a.jsxs("p",{className:"text-emerald-800 font-medium text-sm flex items-center gap-1.5",children:[" Contact: ",g.userPhone||"Not provided"]})})]}),d(g.status)]}),a.jsx(ae,{size:"sm",variant:"success",onClick:()=>u(g.id,"completed"),children:"Mark Complete"})]},g.id))]}),p.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Past Bookings"}),p.map(g=>a.jsxs(X,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:g.userName}),a.jsxs("p",{className:"text-xs text-gray-500",children:[g.serviceType,"  ",g.startDate]})]}),d(g.status)]}),g.feedback&&a.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-100 text-sm text-gray-600",children:[" ",g.feedback.rating,'/5  "',g.feedback.comment,'"']})]},g.id))]}),s.length===0&&a.jsx(mt,{icon:a.jsx(ut,{className:"w-8 h-8 text-gray-400"}),title:"No bookings yet",description:"Once patients book your services, they'll appear here."})]})}function xN(){const{user:n}=Ge(),[s,i]=k.useState([]),[o,u]=k.useState({}),[d,f]=k.useState("all"),[m,p]=k.useState(null);k.useEffect(()=>{Bt.getAll().then(async _=>{i(_);const R={},E=new Set;for(const S of _)if(!E.has(S.nurseId)){E.add(S.nurseId);const M=await Zt.getById(S.nurseId);R[S.nurseId]=M?.name||"Unknown"}u(R)})},[]);const g=s.filter(_=>_.aiAnalysis?.result==="genuine").length,v=s.filter(_=>_.aiAnalysis?.result==="suspected_forgery").length,N=s.filter(_=>!_.aiAnalysis).length,y=s.length>0?Math.round((g+v)/s.length*100):0,j=s.filter(_=>d==="genuine"?_.aiAnalysis?.result==="genuine":d==="forgery"?_.aiAnalysis?.result==="suspected_forgery":d==="pending"?!_.aiAnalysis:!0),w=async(_,R)=>{const E=_.aiAnalysis||{result:R,confidenceScore:0,edgeConsistency:0,textureAnalysis:0,compressionArtifacts:0,ocrConsistency:0,fontConsistency:0,alignmentScore:0,extractedText:"",anomalies:[],analyzedAt:new Date().toISOString()};await Bt.update(_.id,{aiAnalysis:{...E,result:R}}),n&&await bi.create({adminId:n.id,adminName:n.name,action:"AI Override",target:`Document ${_.fileName}`,details:`Changed AI result to "${R}" for nurse ${o[_.nurseId]||_.nurseId}`}),Bt.getAll().then(i),p(null)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(St,{icon:a.jsx(ui,{className:"w-5 h-5 text-blue-600"}),label:"Total Scans",value:s.length,color:"bg-blue-50"}),a.jsx(St,{icon:a.jsx($e,{className:"w-5 h-5 text-emerald-600"}),label:"Genuine",value:g,color:"bg-emerald-50"}),a.jsx(St,{icon:a.jsx(Lt,{className:"w-5 h-5 text-red-600"}),label:"Suspected Forgery",value:v,color:"bg-red-50"}),a.jsx(St,{icon:a.jsx(Nt,{className:"w-5 h-5 text-purple-600"}),label:"AI Accuracy",value:`${y}%`,color:"bg-purple-50"})]}),a.jsx("div",{className:"flex gap-2 overflow-x-auto",children:["all","genuine","forgery","pending"].map(_=>a.jsx("button",{onClick:()=>f(_),className:ce("px-4 py-2 rounded-lg text-sm font-medium transition-all cursor-pointer whitespace-nowrap",d===_?"bg-indigo-600 text-white shadow-sm":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:_==="all"?`All (${s.length})`:_==="genuine"?` Genuine (${g})`:_==="forgery"?` Forgery (${v})`:` Pending (${N})`},_))}),j.length===0?a.jsx(mt,{icon:a.jsx(ui,{className:"w-8 h-8 text-gray-400"}),title:"No documents",description:"No documents match this filter."}):a.jsx("div",{className:"space-y-3",children:j.map(_=>{const R=_.aiAnalysis?.result,E=_.aiAnalysis?.confidenceScore;return a.jsx(X,{className:"p-4 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[a.jsx("div",{className:ce("w-10 h-10 rounded-xl flex items-center justify-center shrink-0",R==="genuine"?"bg-emerald-100":R==="suspected_forgery"?"bg-red-100":"bg-gray-100"),children:R==="genuine"?a.jsx($e,{className:"w-5 h-5 text-emerald-600"}):R==="suspected_forgery"?a.jsx(Ys,{className:"w-5 h-5 text-red-600"}):a.jsx(ui,{className:"w-5 h-5 text-gray-400"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:_.fileName}),a.jsxs("p",{className:"text-xs text-gray-500",children:[o[_.nurseId]||"Unknown","  ",_.documentType,"  ",new Date(_.uploadedAt).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[E!==void 0&&a.jsxs("span",{className:ce("text-xs font-bold px-2 py-1 rounded-lg",E>=.8?"bg-emerald-50 text-emerald-700":E>=.5?"bg-amber-50 text-amber-700":"bg-red-50 text-red-700"),children:[Math.round(E*100),"%"]}),a.jsx(ge,{variant:R==="genuine"?"success":R==="suspected_forgery"?"danger":"neutral",children:R==="genuine"?"Genuine":R==="suspected_forgery"?"Forgery":"Pending"}),a.jsxs(ae,{size:"sm",variant:"ghost",onClick:()=>p(_),children:[a.jsx(ar,{className:"w-4 h-4"})," Review"]})]})]})},_.id)})}),m&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center p-4",onClick:()=>p(null),children:a.jsxs("div",{className:"max-w-lg w-full bg-white rounded-2xl p-6 space-y-4 shadow-xl",onClick:_=>_.stopPropagation(),children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Document Review"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-500",children:"File:"})," ",a.jsx("span",{className:"font-medium",children:m.fileName})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-500",children:"Nurse:"})," ",a.jsx("span",{className:"font-medium",children:o[m.nurseId]})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-500",children:"Type:"})," ",a.jsx(ge,{variant:"info",children:m.documentType})]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-500",children:"AI Result:"})," ",a.jsx(ge,{variant:m.aiAnalysis?.result==="genuine"?"success":m.aiAnalysis?.result==="suspected_forgery"?"danger":"neutral",children:m.aiAnalysis?.result||"Pending"})]}),m.aiAnalysis?.confidenceScore!==void 0&&a.jsxs("p",{children:[a.jsx("span",{className:"text-gray-500",children:"Confidence:"})," ",a.jsxs("span",{className:"font-bold",children:[Math.round(m.aiAnalysis.confidenceScore*100),"%"]})]})]}),m.fileData&&a.jsx("div",{className:"border rounded-xl overflow-hidden max-h-48",children:a.jsx("img",{src:m.fileData,alt:"Document",className:"w-full h-48 object-contain bg-gray-50"})}),a.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-100",children:[a.jsxs(ae,{variant:"success",size:"sm",className:"flex-1",onClick:()=>w(m,"genuine"),children:[a.jsx($e,{className:"w-4 h-4"})," Mark Genuine"]}),a.jsxs(ae,{variant:"danger",size:"sm",className:"flex-1",onClick:()=>w(m,"suspected_forgery"),children:[a.jsx(Ys,{className:"w-4 h-4"})," Mark Forgery"]}),a.jsx(ae,{variant:"ghost",size:"sm",onClick:()=>p(null),children:"Close"})]})]})})]})}function yN(){const[n,s]=k.useState([]),[i,o]=k.useState({totalBookings:0,completedBookings:0,cancelledBookings:0,totalNurses:0,approvedNurses:0,rejectedNurses:0,pendingNurses:0,totalDocs:0,genuineDocs:0,forgeryDocs:0,totalReports:0,resolvedReports:0,totalUsers:0,totalShelters:0});k.useEffect(()=>{(async()=>{try{const[g,v,N,y,j,w]=await Promise.all([We.getAll(),Et.getAll(),Bt.getAll(),us.getAllOverview(),Zt.getAll(),Xs.getAll()]),_=[];for(let R=5;R>=0;R--){const E=new Date;E.setMonth(E.getMonth()-R);const S=E.toLocaleString("default",{month:"short",year:"2-digit"}),M=E.getFullYear(),I=E.getMonth(),F=g.filter(W=>{const Q=new Date(W.createdAt);return Q.getFullYear()===M&&Q.getMonth()===I}).length;_.push({month:S,count:F})}s(_),o({totalBookings:g.length,completedBookings:g.filter(R=>R.status==="completed").length,cancelledBookings:g.filter(R=>R.status==="cancelled").length,totalNurses:v.length,approvedNurses:v.filter(R=>R.verificationStatus==="approved").length,rejectedNurses:v.filter(R=>R.verificationStatus==="rejected").length,pendingNurses:v.filter(R=>R.verificationStatus==="pending").length,totalDocs:N.length,genuineDocs:N.filter(R=>R.aiAnalysis?.result==="genuine").length,forgeryDocs:N.filter(R=>R.aiAnalysis?.result==="suspected_forgery").length,totalReports:y.length,resolvedReports:y.filter(R=>R.status==="resolved").length,totalUsers:j.filter(R=>R.role==="user").length,totalShelters:w.length})}catch(g){console.error("Failed to load analytics:",g)}})()},[]);const u=Math.max(...n.map(p=>p.count),1),d=i.totalNurses>0?Math.round(i.approvedNurses/i.totalNurses*100):0,f=i.totalDocs>0?Math.round((i.genuineDocs+i.forgeryDocs)/i.totalDocs*100):0,m=i.totalReports>0?Math.round(i.resolvedReports/i.totalReports*100):0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(St,{icon:a.jsx(Js,{className:"w-5 h-5 text-blue-600"}),label:"Total Users",value:i.totalUsers,color:"bg-blue-50"}),a.jsx(St,{icon:a.jsx(or,{className:"w-5 h-5 text-emerald-600"}),label:"Active Nurses",value:i.approvedNurses,color:"bg-emerald-50"}),a.jsx(St,{icon:a.jsx(ao,{className:"w-5 h-5 text-purple-600"}),label:"Total Bookings",value:i.totalBookings,color:"bg-purple-50"}),a.jsx(St,{icon:a.jsx(Ns,{className:"w-5 h-5 text-amber-600"}),label:"Shelters",value:i.totalShelters,color:"bg-amber-50"})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[a.jsxs(X,{className:"p-5",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Vg,{className:"w-5 h-5 text-purple-600"})," Bookings (Last 6 Months)"]}),a.jsx("div",{className:"flex items-end gap-2 h-48",children:n.map(p=>a.jsxs("div",{className:"flex-1 flex flex-col items-center gap-1",children:[a.jsx("span",{className:"text-xs font-bold text-gray-700",children:p.count}),a.jsx("div",{className:"w-full rounded-t-lg bg-gradient-to-t from-purple-500 to-purple-400 transition-all",style:{height:`${p.count/u*100}%`,minHeight:p.count>0?"8px":"2px"}}),a.jsx("span",{className:"text-xs text-gray-500",children:p.month})]},p.month))})]}),a.jsxs(X,{className:"p-5",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(yw,{className:"w-5 h-5 text-emerald-600"})," Nurse Verification"]}),a.jsxs("div",{className:"flex items-center gap-8",children:[a.jsxs("div",{className:"relative w-32 h-32 shrink-0",children:[a.jsxs("svg",{viewBox:"0 0 36 36",className:"w-full h-full -rotate-90",children:[a.jsx("circle",{cx:"18",cy:"18",r:"15.9",fill:"none",stroke:"#f3f4f6",strokeWidth:"3"}),a.jsx("circle",{cx:"18",cy:"18",r:"15.9",fill:"none",stroke:"#10b981",strokeWidth:"3",strokeDasharray:`${d} ${100-d}`,strokeLinecap:"round"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[d,"%"]})})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),a.jsxs("span",{className:"text-gray-600",children:["Approved: ",a.jsx("span",{className:"font-bold",children:i.approvedNurses})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),a.jsxs("span",{className:"text-gray-600",children:["Rejected: ",a.jsx("span",{className:"font-bold",children:i.rejectedNurses})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),a.jsxs("span",{className:"text-gray-600",children:["Pending: ",a.jsx("span",{className:"font-bold",children:i.pendingNurses})]})]})]})]})]}),a.jsxs(X,{className:"p-5",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Ns,{className:"w-5 h-5 text-blue-600"})," AI Detection Accuracy"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[f,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Documents Analyzed"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[a.jsxs("div",{className:"bg-blue-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:i.totalDocs}),a.jsx("p",{className:"text-xs text-gray-500",children:"Total"})]}),a.jsxs("div",{className:"bg-emerald-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xl font-bold text-emerald-600",children:i.genuineDocs}),a.jsx("p",{className:"text-xs text-gray-500",children:"Genuine"})]}),a.jsxs("div",{className:"bg-red-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xl font-bold text-red-600",children:i.forgeryDocs}),a.jsx("p",{className:"text-xs text-gray-500",children:"Forgery"})]})]})]})]}),a.jsxs(X,{className:"p-5",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(ao,{className:"w-5 h-5 text-amber-600"})," Booking Status Breakdown"]}),a.jsx("div",{className:"space-y-3",children:[{label:"Completed",value:i.completedBookings,total:i.totalBookings,color:"bg-emerald-500"},{label:"Cancelled",value:i.cancelledBookings,total:i.totalBookings,color:"bg-red-500"},{label:"Active",value:i.totalBookings-i.completedBookings-i.cancelledBookings,total:i.totalBookings,color:"bg-blue-500"}].map(p=>a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:p.label}),a.jsxs("span",{className:"font-medium",children:[p.value," / ",p.total]})]}),a.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:a.jsx("div",{className:ce("h-full rounded-full transition-all",p.color),style:{width:`${p.total>0?p.value/p.total*100:0}%`}})})]},p.label))}),a.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-100",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Help Report Resolution Rate"}),a.jsxs(ge,{variant:m>50?"success":"warning",children:[m,"%"]})]}),a.jsx("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden mt-2",children:a.jsx("div",{className:"h-full rounded-full bg-emerald-500 transition-all",style:{width:`${m}%`}})})]})]})]})]})}const vN={"Approve Nurse":"bg-emerald-100 text-emerald-700","Reject Nurse":"bg-red-100 text-red-700","Cancel Booking":"bg-amber-100 text-amber-700","Suspend User":"bg-red-100 text-red-700","Activate User":"bg-emerald-100 text-emerald-700","AI Override":"bg-purple-100 text-purple-700","Add Shelter":"bg-blue-100 text-blue-700","Update Report":"bg-amber-100 text-amber-700","Deactivate Shelter":"bg-red-100 text-red-700","Activate Shelter":"bg-emerald-100 text-emerald-700"};function bN(){const[n,s]=k.useState([]),[i,o]=k.useState("");k.useEffect(()=>{bi.getAll().then(s).catch(()=>s([]))},[]);const u=i?n.filter(d=>d.action.toLowerCase().includes(i.toLowerCase())||d.target.toLowerCase().includes(i.toLowerCase())||d.adminName.toLowerCase().includes(i.toLowerCase())):n;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(ld,{className:"w-5 h-5 text-indigo-600"})," System Audit Logs"]}),a.jsxs("span",{className:"text-sm text-gray-500",children:[n.length," entries"]})]}),a.jsx("input",{type:"text",placeholder:"Search logs by action, target, or admin...",value:i,onChange:d=>o(d.target.value),className:"w-full px-4 py-2.5 border border-gray-200 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500"}),u.length===0?a.jsx(mt,{icon:a.jsx(ld,{className:"w-8 h-8 text-gray-400"}),title:"No audit logs",description:i?"No logs match your search.":"Admin actions will appear here as they happen."}):a.jsx("div",{className:"space-y-2",children:u.map(d=>a.jsx(X,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-indigo-50 rounded-xl shrink-0 mt-0.5",children:a.jsx(Nt,{className:"w-4 h-4 text-indigo-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:ce("text-xs font-medium px-2 py-0.5 rounded-full",vN[d.action]||"bg-gray-100 text-gray-700"),children:d.action}),a.jsx("span",{className:"text-sm font-medium text-gray-900 truncate",children:d.target})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:d.details}),a.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-400",children:[a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Nt,{className:"w-3 h-3"})," ",d.adminName]}),a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(At,{className:"w-3 h-3"})," ",new Date(d.createdAt).toLocaleString()]})]})]})]})},d.id))})]})}function jN(){const[n,s]=k.useState([]),[i,o]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const[p,g,v,N]=await Promise.all([Et.getAll(),Bt.getAll(),We.getAll(),us.getAllOverview()]),y={};for(const w of p){const _=await Zt.getById(w.userId);y[w.userId]=_?.name||"Unknown"}const j=[];g.filter(w=>w.aiAnalysis?.result==="suspected_forgery").forEach(w=>{j.push({id:`forgery-${w.id}`,type:"danger",icon:a.jsx(Cw,{className:"w-5 h-5"}),title:" Forgery Detected",description:`Document "${w.fileName}" from ${y[w.nurseId]||"Unknown"} flagged as suspected forgery (${Math.round((w.aiAnalysis?.confidenceScore||0)*100)}% confidence)`,time:w.uploadedAt})}),p.filter(w=>w.verificationStatus==="pending").forEach(w=>{j.push({id:`pending-${w.userId}`,type:"warning",icon:a.jsx(Zg,{className:"w-5 h-5"}),title:" New Nurse Application",description:`${y[w.userId]||"Unknown"} is awaiting verification. Review their documents and AI analysis.`,time:new Date().toISOString()})}),v.filter(w=>w.status==="pending").forEach(w=>{j.push({id:`booking-${w.id}`,type:"info",icon:a.jsx(ut,{className:"w-5 h-5"}),title:" Pending Booking",description:`${w.userName}  ${w.nurseName} for ${w.serviceType}`,time:w.createdAt})}),N.filter(w=>w.status==="reported").forEach(w=>{j.push({id:`report-${w.id}`,type:"warning",icon:a.jsx(Fe,{className:"w-5 h-5"}),title:" Help Report Awaiting",description:`Report at ${w.locationDescription||"Unknown location"}  no shelter assigned yet`,time:w.createdAt})}),v.filter(w=>w.status==="completed").slice(-3).forEach(w=>{j.push({id:`completed-${w.id}`,type:"success",icon:a.jsx($e,{className:"w-5 h-5"}),title:" Booking Completed",description:`${w.userName} completed ${w.serviceType} with ${w.nurseName}`,time:w.createdAt})}),j.sort((w,_)=>new Date(_.time).getTime()-new Date(w.time).getTime()),s(j)}catch(p){console.error("Failed to load alerts:",p)}finally{o(!1)}})()},[]);const u={danger:{bg:"bg-red-50 border-red-200",iconBg:"bg-red-100 text-red-600"},warning:{bg:"bg-amber-50 border-amber-200",iconBg:"bg-amber-100 text-amber-600"},info:{bg:"bg-blue-50 border-blue-200",iconBg:"bg-blue-100 text-blue-600"},success:{bg:"bg-emerald-50 border-emerald-200",iconBg:"bg-emerald-100 text-emerald-600"}},d=n.filter(m=>m.type==="danger").length,f=n.filter(m=>m.type==="warning").length;return i?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx("div",{className:"w-8 h-8 border-2 border-indigo-400 border-t-transparent rounded-full animate-spin"})}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(xs,{className:"w-5 h-5 text-indigo-600"})," Admin Alerts"]}),a.jsxs("div",{className:"flex gap-2",children:[d>0&&a.jsxs(ge,{variant:"danger",children:[" ",d," Critical"]}),f>0&&a.jsxs(ge,{variant:"warning",children:[" ",f," Pending"]})]})]}),d>0&&a.jsx(X,{className:"p-4 bg-red-50 border-red-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Lt,{className:"w-5 h-5 text-red-600 shrink-0"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-red-800",children:[d," Critical Alert",d>1?"s":""]}),a.jsx("p",{className:"text-sm text-red-600",children:"Suspected document forgery detected. Immediate review recommended."})]})]})}),n.length===0?a.jsx(mt,{icon:a.jsx(xs,{className:"w-8 h-8 text-gray-400"}),title:"All clear!",description:"No pending alerts at this time."}):a.jsx("div",{className:"space-y-2",children:n.map(m=>{const p=u[m.type];return a.jsx(X,{className:ce("p-4 border",p.bg),children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:ce("p-2 rounded-xl shrink-0",p.iconBg),children:m.icon}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:m.title}),a.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:m.description}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(m.time).toLocaleString()})]})]})},m.id)})})]})}function wN(){const[n,s]=k.useState("overview"),i=[{id:"overview",label:"Overview",icon:a.jsx(Iw,{className:"w-4 h-4"})},{id:"nurses",label:"Nurses",icon:a.jsx(or,{className:"w-4 h-4"})},{id:"ai",label:"AI Analysis",icon:a.jsx(Nt,{className:"w-4 h-4"})},{id:"bookings",label:"Bookings",icon:a.jsx(ut,{className:"w-4 h-4"})},{id:"users",label:"Users",icon:a.jsx(Js,{className:"w-4 h-4"})},{id:"shelters",label:"Shelters",icon:a.jsx(Ps,{className:"w-4 h-4"})},{id:"reports",label:"Help Reports",icon:a.jsx(Fe,{className:"w-4 h-4"})},{id:"notifications",label:"Alerts",icon:a.jsx(xs,{className:"w-4 h-4"})},{id:"analytics",label:"Analytics",icon:a.jsx(Vg,{className:"w-4 h-4"})},{id:"logs",label:"System Logs",icon:a.jsx(ld,{className:"w-4 h-4"})},{id:"account",label:"My Account",icon:a.jsx(wi,{className:"w-4 h-4"})}];return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex gap-1 bg-gray-100 rounded-xl p-1 overflow-x-auto",children:i.map(o=>a.jsxs("button",{onClick:()=>s(o.id),className:ce("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap cursor-pointer",n===o.id?"bg-white text-indigo-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[o.icon," ",o.label]},o.id))}),n==="overview"&&a.jsx(NN,{}),n==="nurses"&&a.jsx(_N,{}),n==="ai"&&a.jsx(xN,{}),n==="users"&&a.jsx(AN,{}),n==="shelters"&&a.jsx(TN,{}),n==="bookings"&&a.jsx(kN,{}),n==="reports"&&a.jsx(EN,{}),n==="notifications"&&a.jsx(jN,{}),n==="analytics"&&a.jsx(yN,{}),n==="logs"&&a.jsx(bN,{}),n==="account"&&a.jsx(CN,{})]})}function NN(){const[n,s]=k.useState({totalUsers:0,totalNurses:0,pendingVerification:0,approvedNurses:0,totalBookings:0,activeBookings:0,totalShelters:0,activeReports:0,totalReports:0,documentsUploaded:0,genuineDocuments:0,suspectedForgery:0}),[i,o]=k.useState([]);return k.useEffect(()=>{(async()=>{try{const[d,f,m,p,g,v]=await Promise.all([Zt.getAll(),Et.getAll(),We.getAll(),us.getAllOverview(),Bt.getAllOverview(),Xs.getAll()]);s({totalUsers:d.filter(N=>N.role==="user").length,totalNurses:f.length,pendingVerification:f.filter(N=>N.verificationStatus==="pending").length,approvedNurses:f.filter(N=>N.verificationStatus==="approved").length,totalBookings:m.length,activeBookings:m.filter(N=>N.status==="accepted").length,totalShelters:v.length,activeReports:p.filter(N=>N.status!=="resolved").length,totalReports:p.length,documentsUploaded:g.length,genuineDocuments:g.filter(N=>N.aiAnalysis?.result==="genuine").length,suspectedForgery:g.filter(N=>N.aiAnalysis?.result==="suspected_forgery").length}),o(m.slice(-5).reverse())}catch(d){console.error("Failed to load overview stats:",d)}})()},[]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(St,{icon:a.jsx(Js,{className:"w-5 h-5 text-blue-600"}),label:"Total Users",value:n.totalUsers,color:"bg-blue-50"}),a.jsx(St,{icon:a.jsx(or,{className:"w-5 h-5 text-emerald-600"}),label:"Nurses",value:n.totalNurses,color:"bg-emerald-50"}),a.jsx(St,{icon:a.jsx(ut,{className:"w-5 h-5 text-purple-600"}),label:"Bookings",value:n.totalBookings,color:"bg-purple-50"}),a.jsx(St,{icon:a.jsx(Ps,{className:"w-5 h-5 text-amber-600"}),label:"Shelters",value:n.totalShelters,color:"bg-amber-50"}),a.jsx(St,{icon:a.jsx(Fe,{className:"w-5 h-5 text-rose-600"}),label:"Help Reports",value:n.totalReports,color:"bg-rose-50"}),a.jsx(St,{icon:a.jsx(Ns,{className:"w-5 h-5 text-orange-600"}),label:"Active Reports",value:n.activeReports,color:"bg-orange-50"})]}),n.pendingVerification>0&&a.jsx(X,{className:"p-5 bg-amber-50 border-amber-200",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-amber-100 rounded-xl",children:a.jsx(At,{className:"w-5 h-5 text-amber-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("p",{className:"font-semibold text-gray-900",children:[n.pendingVerification," Nurse",n.pendingVerification>1?"s":""," Awaiting Verification"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Review their documents and AI analysis results"})]}),a.jsxs(ge,{variant:"warning",children:[n.pendingVerification," Pending"]})]})}),a.jsxs(X,{className:"p-5",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Nt,{className:"w-5 h-5 text-blue-600"})," AI Document Analysis Overview"]}),a.jsxs("div",{className:"grid sm:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[a.jsx(ui,{className:"w-6 h-6 text-blue-600 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.documentsUploaded}),a.jsx("p",{className:"text-sm text-gray-500",children:"Total Documents"})]}),a.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 text-center",children:[a.jsx($e,{className:"w-6 h-6 text-emerald-600 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-emerald-600",children:n.genuineDocuments}),a.jsx("p",{className:"text-sm text-gray-500",children:"Genuine"})]}),a.jsxs("div",{className:"bg-red-50 rounded-xl p-4 text-center",children:[a.jsx(Lt,{className:"w-6 h-6 text-red-600 mx-auto mb-2"}),a.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.suspectedForgery}),a.jsx("p",{className:"text-sm text-gray-500",children:"Suspected Forgery"})]})]})]}),a.jsxs(X,{className:"p-5",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(ao,{className:"w-5 h-5 text-purple-600"})," Recent Bookings"]}),i.map(u=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-50 last:border-0",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[u.userName,"  ",u.nurseName]}),a.jsx("p",{className:"text-xs text-gray-500",children:u.serviceType})]}),a.jsx(ge,{variant:u.status==="completed"?"success":u.status==="pending"?"warning":"info",children:u.status})]},u.id))]})]})}function _N(){const{user:n}=Ge(),[s,i]=k.useState([]),[o,u]=k.useState({}),[d,f]=k.useState({}),[m,p]=k.useState(null);k.useEffect(()=>{(async()=>{const[_,R,E]=await Promise.all([Et.getAllOverview(),Zt.getAll(),Bt.getAllOverview()]);i(_);const S={};R.forEach(I=>{S[I.id]=I}),u(S);const M={};E.forEach(I=>{M[I.nurseId]||(M[I.nurseId]=[]),M[I.nurseId].push(I)}),f(M)})()},[]);const g=async(w,_)=>{if(await Et.update(w,{verificationStatus:_}),n){const E=o[w]?.name||w;await bi.create({adminId:n.id,adminName:n.name,action:_==="approved"?"Approve Nurse":"Reject Nurse",target:E,details:`${_==="approved"?"Approved":"Rejected"} nurse verification`})}const R=await Et.getAllOverview();i(R),p(null)},v=s.filter(w=>w.verificationStatus==="pending"),N=s.filter(w=>w.verificationStatus==="approved"),y=s.filter(w=>w.verificationStatus==="rejected"),j=w=>{const _=o[w.userId],R=d[w.userId]||[];return a.jsxs(X,{className:"p-5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center text-white font-bold",children:_?.name[0]||"N"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:_?.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:[_?.email,"  ",w.location]})]})]}),a.jsx(ge,{variant:w.verificationStatus==="approved"?"success":w.verificationStatus==="rejected"?"danger":"warning",children:w.verificationStatus})]}),a.jsx("div",{className:"flex flex-wrap gap-1.5 mb-3",children:w.specializations.map(E=>a.jsx(ge,{variant:"info",children:E},E))}),a.jsxs("div",{className:"text-sm text-gray-600 mb-3",children:[a.jsxs("p",{children:[" ",w.experience," years experience  ",w.baseRate," / ",w.rateType]}),a.jsxs("p",{children:[" ",R.length," document",R.length!==1?"s":""," uploaded"]})]}),R.length>0&&a.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-3 space-y-1",children:R.map(E=>a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-gray-600",children:E.fileName}),E.aiAnalysis?a.jsxs(ge,{variant:E.aiAnalysis.result==="genuine"?"success":"danger",children:[E.aiAnalysis.result==="genuine"?"":""," ",(E.aiAnalysis.confidenceScore*100).toFixed(0),"%"]}):a.jsx(ge,{variant:"neutral",children:"No analysis"})]},E.id))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ae,{size:"sm",variant:"ghost",onClick:()=>p(w.userId),children:[a.jsx(ar,{className:"w-3.5 h-3.5"})," Review Details"]}),w.verificationStatus==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs(ae,{size:"sm",variant:"success",onClick:()=>g(w.userId,"approved"),children:[a.jsx($e,{className:"w-3.5 h-3.5"})," Approve"]}),a.jsxs(ae,{size:"sm",variant:"danger",onClick:()=>g(w.userId,"rejected"),children:[a.jsx(Ys,{className:"w-3.5 h-3.5"})," Reject"]})]}),w.verificationStatus==="rejected"&&a.jsx(ae,{size:"sm",variant:"success",onClick:()=>g(w.userId,"approved"),children:"Re-Approve"}),w.verificationStatus==="approved"&&a.jsx(ae,{size:"sm",variant:"danger",onClick:()=>g(w.userId,"rejected"),children:"Revoke"})]})]},w.userId)};return a.jsxs("div",{className:"space-y-6",children:[s.length===0&&a.jsx(mt,{icon:a.jsx(or,{className:"w-8 h-8 text-gray-400"}),title:"No nurses registered",description:"No nurses have signed up on the platform yet."}),v.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(At,{className:"w-5 h-5 text-amber-600"})," Pending Verification (",v.length,")"]}),v.map(j)]}),N.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx($e,{className:"w-5 h-5 text-emerald-600"})," Approved (",N.length,")"]}),N.map(j)]}),y.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Ys,{className:"w-5 h-5 text-red-600"})," Rejected (",y.length,")"]}),y.map(j)]}),m&&a.jsx(sr,{isOpen:!0,onClose:()=>p(null),title:"Nurse Verification Review",size:"xl",children:a.jsx(SN,{nurseId:m,onAction:w=>g(m,w)})})]})}function SN({nurseId:n,onAction:s}){const[i,o]=k.useState(),[u,d]=k.useState(),[f,m]=k.useState([]);return k.useEffect(()=>{Et.getByUserId(n).then(o),Zt.getById(n).then(d),Bt.getByNurseId(n).then(m)},[n]),!i||!u?a.jsx("p",{children:"Loading..."}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-emerald-400 to-emerald-600 flex items-center justify-center text-white text-2xl font-bold",children:u.name[0]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:u.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[u.email,"   ",u.phone]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[" ",i.location,"  ",i.experience," years exp."]})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Bio"}),a.jsx("p",{className:"text-sm text-gray-600",children:i.bio})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Specializations"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:i.specializations.map(p=>a.jsx(ge,{variant:"info",children:p},p))})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Nt,{className:"w-5 h-5 text-blue-600"})," Uploaded Documents & AI Analysis"]}),f.length===0?a.jsxs("div",{className:"bg-amber-50 rounded-xl p-4 text-center",children:[a.jsx(Lt,{className:"w-6 h-6 text-amber-500 mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-amber-700",children:"No documents uploaded yet"})]}):f.map(p=>a.jsx(X,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-4",children:[p.fileData&&!p.fileData.includes("application/pdf")&&a.jsx("img",{src:p.fileData,alt:p.fileName,className:"w-24 h-24 object-cover rounded-lg border"}),a.jsxs("div",{className:"flex-1 space-y-3",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:p.fileName}),a.jsxs("p",{className:"text-xs text-gray-500 capitalize",children:[p.documentType.replace("_"," "),"  ",new Date(p.uploadedAt).toLocaleDateString()]})]}),p.aiAnalysis&&a.jsxs(ge,{variant:p.aiAnalysis.result==="genuine"?"success":"danger",children:[p.aiAnalysis.result==="genuine"?" Genuine":" Suspected Forgery"," ",(p.aiAnalysis.confidenceScore*100).toFixed(0),"%"]})]}),p.aiAnalysis&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[a.jsx(Jn,{label:"Edge",value:p.aiAnalysis.edgeConsistency}),a.jsx(Jn,{label:"Texture",value:p.aiAnalysis.textureAnalysis}),a.jsx(Jn,{label:"Compress",value:p.aiAnalysis.compressionArtifacts}),a.jsx(Jn,{label:"OCR",value:p.aiAnalysis.ocrConsistency}),a.jsx(Jn,{label:"Font",value:p.aiAnalysis.fontConsistency}),a.jsx(Jn,{label:"Align",value:p.aiAnalysis.alignmentScore})]}),p.aiAnalysis.anomalies.length>0&&a.jsxs("div",{className:"bg-red-50 rounded-lg p-2",children:[a.jsx("p",{className:"text-xs font-medium text-red-700 mb-1",children:"Anomalies:"}),p.aiAnalysis.anomalies.map((g,v)=>a.jsxs("p",{className:"text-xs text-red-600",children:[" ",g]},v))]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[a.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"OCR Output:"}),a.jsx("p",{className:"text-xs text-gray-500 font-mono",children:p.aiAnalysis.extractedText})]})]})]})]})},p.id))]}),a.jsxs(X,{className:"p-5 bg-indigo-50 border-indigo-200",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Admin Decision"}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"AI analysis assists your decision. You have the final say on whether to approve or reject this nurse's registration."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(ae,{variant:"success",onClick:()=>s("approved"),children:[a.jsx($e,{className:"w-4 h-4"})," Approve Nurse"]}),a.jsxs(ae,{variant:"danger",onClick:()=>s("rejected"),children:[a.jsx(Ys,{className:"w-4 h-4"})," Reject Nurse"]})]})]})]})}function Jn({label:n,value:s}){return a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between mb-0.5",children:[a.jsx("span",{className:"text-gray-600",children:n}),a.jsxs("span",{className:ce("font-medium",s>=.7?"text-emerald-600":s>=.5?"text-amber-600":"text-red-600"),children:[(s*100).toFixed(0),"%"]})]}),a.jsx(md,{value:s*100,color:s>=.7?"green":s>=.5?"amber":"red"})]})}function AN(){const{user:n}=Ge(),[s,i]=k.useState([]),o=()=>Zt.getAll().then(d=>i(d.filter(f=>f.role!=="admin"&&f.role!=="shelter")));k.useEffect(()=>{o()},[]);const u=async(d,f)=>{confirm("Are you sure you want to delete this user?")&&(await Zt.delete(d),await Et.delete(d),n&&await bi.create({adminId:n.id,adminName:n.name,action:"Delete User",target:f,details:"Deleted user account"}),o())};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["All Users (",s.length,")"]}),s.length===0?a.jsx(mt,{icon:a.jsx(Js,{className:"w-8 h-8 text-gray-400"}),title:"No users",description:"No user accounts found (admin and shelter accounts are shown in their respective tabs)."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Name"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Email"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Role"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Phone"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Joined"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{children:s.map(d=>a.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:a.jsxs("div",{className:"flex items-center gap-2",children:[d.profile_photo?a.jsx("img",{src:d.profile_photo,alt:"",className:"w-7 h-7 rounded-full object-cover"}):a.jsx("div",{className:"w-7 h-7 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 text-xs font-bold",children:d.name[0]}),d.name]})}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:d.email}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(ge,{variant:d.role==="nurse"?"success":"info",children:d.role})}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:d.phone}),a.jsx("td",{className:"py-3 px-4 text-gray-500",children:new Date(d.created_at).toLocaleDateString()}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(ae,{size:"sm",variant:"danger",onClick:()=>u(d.id,d.name),children:a.jsx(Jg,{className:"w-3.5 h-3.5"})})})]},d.id))})]})})]})}function TN(){const[n,s]=k.useState([]);return k.useEffect(()=>{Xs.getAll().then(s)},[]),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["All Shelters (",n.length,")"]}),n.length===0?a.jsx(mt,{icon:a.jsx(Ps,{className:"w-8 h-8 text-gray-400"}),title:"No shelters",description:"No shelters have been registered yet."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Name"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Address"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Email"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Phone"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Capacity"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"GPS"})]})}),a.jsx("tbody",{children:n.map(i=>a.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-amber-400 to-amber-600 flex items-center justify-center text-white text-xs font-bold",children:i.name?.[0]||"S"}),i.name]})}),a.jsx("td",{className:"py-3 px-4 text-gray-600 max-w-[200px] truncate",title:i.address,children:i.address}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:i.email||""}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:i.phone||""}),a.jsx("td",{className:"py-3 px-4",children:a.jsx(ge,{variant:i.capacity>0?"info":"neutral",children:i.capacity>0?i.capacity:""})}),a.jsx("td",{className:"py-3 px-4 text-gray-500 text-xs",children:i.latitude&&i.longitude?`${i.latitude.toFixed(4)}, ${i.longitude.toFixed(4)}`:""})]},i.id))})]})})]})}function kN(){const{user:n}=Ge(),[s,i]=k.useState([]);k.useEffect(()=>{We.getAll().then(i)},[]);const o=()=>We.getAll().then(i),u=async(f,m)=>{await We.update(f.id,{status:m}),n&&await bi.create({adminId:n.id,adminName:n.name,action:m==="cancelled"?"Cancel Booking":"Update Booking",target:`Booking ${f.userName}  ${f.nurseName}`,details:`Changed status to ${m}`}),o()},d=f=>{const m={pending:"warning",accepted:"info",rejected:"danger",completed:"success",cancelled:"neutral"};return a.jsx(ge,{variant:m[f]||"neutral",children:f})};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["All Bookings (",s.length,")"]}),s.length===0?a.jsx(mt,{icon:a.jsx(ut,{className:"w-8 h-8 text-gray-400"}),title:"No bookings",description:"No bookings have been made yet."}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Patient"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Nurse"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Service"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Dates"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Amount"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-500",children:"Actions"})]})}),a.jsx("tbody",{children:s.sort((f,m)=>new Date(m.createdAt).getTime()-new Date(f.createdAt).getTime()).map(f=>a.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:f.userName}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:f.nurseName}),a.jsx("td",{className:"py-3 px-4 text-gray-600",children:f.serviceType}),a.jsxs("td",{className:"py-3 px-4 text-gray-500 text-xs",children:[f.startDate,"  ",f.endDate]}),a.jsxs("td",{className:"py-3 px-4 font-medium text-gray-900",children:["",f.totalAmount.toLocaleString()]}),a.jsx("td",{className:"py-3 px-4",children:d(f.status)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex gap-1",children:[f.status==="pending"&&a.jsx(ae,{size:"sm",variant:"danger",onClick:()=>u(f,"cancelled"),children:"Cancel"}),f.status==="accepted"&&a.jsx(ae,{size:"sm",variant:"success",onClick:()=>u(f,"completed"),children:"Complete"})]})})]},f.id))})]})})]})}function EN(){const[n,s]=k.useState([]),[i,o]=k.useState([]);k.useEffect(()=>{us.getAll().then(s),Xs.getAll().then(o)},[]);const u=async(d,f)=>{if(await us.update(d.id,{status:f}),f==="notified"){const p=d.nearbyShelters?.length>0?d.nearbyShelters:i.map(g=>({...g,distanceKm:cg(d.latitude,d.longitude,g.latitude,g.longitude)})).sort((g,v)=>(g.distanceKm||999)-(v.distanceKm||999)).slice(0,3);for(const g of p){const v=i.find(N=>N.id===g.id);v?.shelterUserId&&wt.create({userId:v.shelterUserId,title:"New Help Report Alert",message:`A new humanitarian report requires your attention near ${d.locationDescription||"your location"}.`,type:"warning"}).catch(console.error)}}const m=await us.getAll();s(m)};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Humanitarian Help Reports (",n.length,")"]}),n.length===0?a.jsx(mt,{icon:a.jsx(Fe,{className:"w-8 h-8 text-gray-400"}),title:"No reports",description:"No humanitarian reports have been submitted yet."}):n.sort((d,f)=>new Date(f.createdAt).getTime()-new Date(d.createdAt).getTime()).map(d=>a.jsx(X,{className:"p-5",children:a.jsxs("div",{className:"flex items-start gap-4",children:[d.photo&&a.jsx("img",{src:d.photo,alt:"Report",className:"w-20 h-20 object-cover rounded-lg border"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:d.locationDescription}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Reported by ",d.reporterName,"  ",new Date(d.createdAt).toLocaleDateString()]})]}),a.jsx(ge,{variant:d.status==="resolved"?"success":d.status==="notified"?"info":"warning",children:d.status})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:d.description}),a.jsxs("p",{className:"text-xs text-gray-400",children:[" ",d.latitude.toFixed(4),", ",d.longitude.toFixed(4)]}),(()=>{const f=d.nearbyShelters?.length>0?d.nearbyShelters:i.map(m=>({...m,distanceKm:cg(d.latitude,d.longitude,m.latitude,m.longitude)})).sort((m,p)=>(m.distanceKm||999)-(p.distanceKm||999)).slice(0,3);return f.length===0?null:a.jsxs("div",{className:"mt-2 space-y-1",children:[a.jsx("p",{className:"text-xs font-medium text-gray-500",children:"Nearest Shelters based on GPS:"}),f.map(m=>a.jsxs("p",{className:"text-xs text-gray-600",children:[" ",m.name,"  ",m.distanceKm?.toFixed(1)," km   ",m.phone||"N/A"]},m.id))]})})(),a.jsxs("div",{className:"flex gap-2 mt-3",children:[d.status==="reported"&&a.jsx(ae,{size:"sm",variant:"primary",onClick:()=>u(d,"notified"),children:"Mark Shelters Notified"}),d.status==="notified"&&a.jsx(ae,{size:"sm",variant:"success",onClick:()=>u(d,"resolved"),children:"Mark Resolved"})]})]})]})},d.id))]})}function CN(){const{user:n,updateUser:s}=Ge(),[i,o]=k.useState({name:"",phone:"",location:""}),[u,d]=k.useState(!1),[f,m]=k.useState(""),[p,g]=k.useState(!1);k.useEffect(()=>{n&&o({name:n.name,phone:n.phone,location:n.location||""})},[n]);const v=y=>{const j=y.target.files?.[0];if(!j)return;if(j.size>2*1024*1024){m("Photo must be under 2MB");return}g(!0);const w=new FileReader;w.onload=async()=>{await s({profile_photo:w.result}),g(!1),m("Profile photo updated!"),setTimeout(()=>m(""),3e3)},w.readAsDataURL(j)},N=async y=>{y.preventDefault(),d(!0),m(""),await s({name:i.name,phone:i.phone,location:i.location}),d(!1),m("Profile updated successfully!"),setTimeout(()=>m(""),3e3)};return n?a.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[a.jsx(X,{className:"p-6",children:a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"relative group",children:[n.profile_photo?a.jsx("img",{src:n.profile_photo,alt:n.name,className:"w-24 h-24 rounded-2xl object-cover border-2 border-gray-100 shadow-sm"}):a.jsx("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-indigo-400 to-indigo-600 flex items-center justify-center text-white text-3xl font-bold shadow-sm",children:n.name[0]?.toUpperCase()}),a.jsxs("label",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity cursor-pointer",children:[a.jsx(Ks,{className:"w-6 h-6 text-white"}),a.jsx("input",{type:"file",accept:"image/*",onChange:v,className:"hidden"})]}),p&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 rounded-2xl",children:a.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"})})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n.name}),a.jsx("p",{className:"text-sm text-gray-500",children:n.email}),a.jsx(ge,{variant:"info",className:"mt-1",children:"Admin"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Hover photo to change"})]})]})}),a.jsxs(X,{className:"p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[a.jsx(Xg,{className:"w-5 h-5 text-indigo-600"})," Edit Profile"]}),f&&a.jsx("div",{className:ce("mb-4 p-3 rounded-xl text-sm",f.includes("successfully")||f.includes("updated")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:f}),a.jsxs("form",{onSubmit:N,className:"space-y-4",children:[a.jsx(Te,{label:"Full Name",value:i.name,onChange:y=>o(j=>({...j,name:y.target.value})),required:!0}),a.jsx(Te,{label:"Phone",type:"tel",value:i.phone,onChange:y=>o(j=>({...j,phone:y.target.value}))}),a.jsx(Te,{label:"Location",value:i.location,onChange:y=>o(j=>({...j,location:y.target.value})),placeholder:"City name"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2 border-t border-gray-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 mb-0.5",children:"Email"}),a.jsx("p",{className:"text-sm text-gray-700",children:n.email})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-gray-400 mb-0.5",children:"Joined"}),a.jsx("p",{className:"text-sm text-gray-700",children:new Date(n.created_at).toLocaleDateString()})]})]}),a.jsx(ae,{type:"submit",className:"w-full",disabled:u,children:u?"Saving...":"Save Changes"})]})]})]}):null}function cg(n,s,i,o){if(!n||!s||!i||!o)return 999;const u=6371,d=(i-n)*Math.PI/180,f=(o-s)*Math.PI/180,m=Math.sin(d/2)**2+Math.cos(n*Math.PI/180)*Math.cos(i*Math.PI/180)*Math.sin(f/2)**2;return u*2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m))}function RN(){const{user:n}=Ge(),[s,i]=k.useState(),[o,u]=k.useState([]),[d,f]=k.useState(!0),[m,p]=k.useState("pending"),[g,v]=k.useState(null),N=k.useCallback(async()=>{if(!n)return;const E=await Xs.getByUserId(n.id);if(i(E),E){const S=await us.getByShelterId(E.id);u(S)}f(!1)},[n]);k.useEffect(()=>{N()},[N]),k.useEffect(()=>{if(!s)return;const E=oe.channel("shelter-reports-live").on("postgres_changes",{event:"*",schema:"public",table:"shelter_reports",filter:`assigned_shelter_id=eq.${s.id}`},()=>{N()}).subscribe();return()=>{oe.removeChannel(E)}},[s,N]);const y=async E=>{await us.update(E,{status:"assigned",acceptedAt:new Date().toISOString()});const S=o.find(M=>M.id===E);S&&await wt.create({userId:S.reportedBy,message:`Your humanitarian report at "${S.locationDescription}" has been accepted by ${s?.name||"a shelter"}.`,type:"success",read:!1}),v(null),N()};if(d)return a.jsxs(X,{className:"p-12 text-center",children:[a.jsx(Ta,{size:"sm"}),a.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Loading shelter dashboard..."})]});if(!s)return a.jsxs(X,{className:"p-12 text-center space-y-4",children:[a.jsx(Ps,{className:"w-12 h-12 text-gray-300 mx-auto"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Shelter Not Linked"}),a.jsx("p",{className:"text-sm text-gray-500 max-w-md mx-auto",children:"Your account is not linked to a shelter yet. Please contact the admin to link your account to a shelter location."})]});const j=o.filter(E=>E.status==="reported"||E.status==="notified"),w=o.filter(E=>E.status==="assigned"),_=[{id:"pending",label:"Pending Reports",icon:a.jsx(Lt,{className:"w-4 h-4"}),count:j.length},{id:"accepted",label:"Accepted",icon:a.jsx($e,{className:"w-4 h-4"}),count:w.length},{id:"all",label:"All Reports",icon:a.jsx(oo,{className:"w-4 h-4"}),count:o.length}],R=()=>{switch(m){case"pending":return j;case"accepted":return w;case"all":return o}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx(X,{className:"p-5 bg-gradient-to-r from-amber-50 to-orange-50 border-amber-200",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-amber-100 rounded-2xl",children:a.jsx(Ps,{className:"w-6 h-6 text-amber-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:s.name}),a.jsx("p",{className:"text-sm text-gray-600",children:s.address}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",s.phone,"   ",s.email,"  Capacity: ",s.capacity]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-3xl font-bold text-amber-600",children:j.length}),a.jsx("p",{className:"text-xs text-gray-500",children:"Pending"})]})]})}),a.jsx("div",{className:"flex gap-1 bg-gray-100 rounded-xl p-1 overflow-x-auto",children:_.map(E=>a.jsxs("button",{onClick:()=>p(E.id),className:ce("flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all whitespace-nowrap cursor-pointer relative",m===E.id?"bg-white text-amber-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:[E.icon," ",E.label,E.count>0&&a.jsx("span",{className:ce("inline-flex items-center justify-center min-w-[20px] h-5 px-1.5 rounded-full text-xs font-bold",E.id==="pending"&&E.count>0?"bg-red-500 text-white animate-pulse":"bg-gray-200 text-gray-700"),children:E.count})]},E.id))}),R().length===0?a.jsx(mt,{icon:a.jsx(Fe,{className:"w-8 h-8 text-gray-400"}),title:m==="pending"?"No pending reports":m==="accepted"?"No accepted reports":"No reports yet",description:m==="pending"?"Great news! There are no pending humanitarian reports assigned to your shelter.":"Reports will appear here once they are assigned to your shelter."}):a.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:R().map(E=>a.jsx(ON,{report:E,shelterName:s.name,onAccept:()=>y(E.id),onViewDetail:()=>v(E)},E.id))}),g&&a.jsx(sr,{isOpen:!0,onClose:()=>v(null),title:"Report Details",size:"xl",children:a.jsx(DN,{report:g,shelterName:s.name,onAccept:()=>y(g.id)})})]})}function ON({report:n,shelterName:s,onAccept:i,onViewDetail:o}){const u=n.status==="reported"||n.status==="notified",d=n.status==="assigned";return a.jsxs(X,{className:ce("overflow-hidden",u&&"border-red-200 shadow-red-100 shadow-md"),children:[u&&a.jsx("div",{className:"bg-red-500 text-white text-xs font-bold text-center py-1.5 animate-pulse",children:" NEW REPORT  Action Required"}),n.photo&&a.jsxs("div",{className:"relative h-40 bg-gray-100",children:[a.jsx("img",{src:n.photo,alt:"Report",className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx(ge,{variant:u?"danger":d?"success":"neutral",children:n.status==="reported"?"New":n.status==="assigned"?"Accepted":n.status})})]}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Fe,{className:"w-4 h-4 text-red-500"}),n.locationDescription||"Unknown Location"]}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1 mt-1",children:[a.jsx(At,{className:"w-3 h-3"}),new Date(n.createdAt).toLocaleString()]})]}),a.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:n.description}),a.jsx("div",{className:"rounded-lg overflow-hidden border border-gray-200 h-32",children:a.jsx("iframe",{title:`Map for report ${n.id}`,width:"100%",height:"100%",style:{border:0},loading:"lazy",src:`https://www.openstreetmap.org/export/embed.html?bbox=${n.longitude-.01},${n.latitude-.01},${n.longitude+.01},${n.latitude+.01}&layer=mapnik&marker=${n.latitude},${n.longitude}`})}),a.jsxs("p",{className:"text-xs text-gray-400",children:[" ",n.latitude.toFixed(4),", ",n.longitude.toFixed(4)]}),d&&n.acceptedAt&&a.jsxs("p",{className:"text-xs text-emerald-600 flex items-center gap-1",children:[a.jsx($e,{className:"w-3 h-3"}),"Accepted on ",new Date(n.acceptedAt).toLocaleString()]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Reported by: ",n.reporterName]}),a.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-100",children:[a.jsxs(ae,{size:"sm",variant:"ghost",onClick:o,children:[a.jsx(ar,{className:"w-3.5 h-3.5"})," View Details"]}),u&&a.jsxs(ae,{size:"sm",variant:"success",onClick:i,children:[a.jsx($e,{className:"w-3.5 h-3.5"})," Accept"]})]})]})]})}function DN({report:n,shelterName:s,onAccept:i}){const o=n.status==="reported"||n.status==="notified",[u,d]=k.useState(!1);return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:ce("rounded-xl p-4 text-center",o?"bg-red-50":"bg-emerald-50"),children:o?a.jsxs(a.Fragment,{children:[a.jsx(Lt,{className:"w-8 h-8 text-red-500 mx-auto mb-2"}),a.jsx("p",{className:"text-lg font-bold text-red-700",children:"Pending  Action Required"}),a.jsx("p",{className:"text-sm text-red-600",children:"This report needs your attention"})]}):a.jsxs(a.Fragment,{children:[a.jsx($e,{className:"w-8 h-8 text-emerald-500 mx-auto mb-2"}),a.jsxs("p",{className:"text-lg font-bold text-emerald-700",children:["Accepted by ",s]}),n.acceptedAt&&a.jsxs("p",{className:"text-sm text-emerald-600",children:["on ",new Date(n.acceptedAt).toLocaleString()]})]})}),n.photo&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Bw,{className:"w-4 h-4"})," Report Image"]}),a.jsx("div",{className:"bg-gray-100 rounded-xl overflow-hidden",children:a.jsx("img",{src:n.photo,alt:"Report",className:"w-full max-h-64 object-contain"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(Fe,{className:"w-4 h-4 text-red-500"})," Location"]}),a.jsx("p",{className:"text-sm text-gray-600",children:n.locationDescription||"Not specified"}),a.jsxs("p",{className:"text-xs text-gray-400",children:["GPS: ",n.latitude.toFixed(6),", ",n.longitude.toFixed(6)]}),a.jsx("div",{className:"rounded-xl overflow-hidden border border-gray-200 h-56",children:a.jsx("iframe",{title:`Map for report ${n.id}`,width:"100%",height:"100%",style:{border:0},loading:"lazy",src:`https://www.openstreetmap.org/export/embed.html?bbox=${n.longitude-.02},${n.latitude-.02},${n.longitude+.02},${n.latitude+.02}&layer=mapnik&marker=${n.latitude},${n.longitude}`})}),a.jsxs("a",{href:`https://www.google.com/maps?q=${n.latitude},${n.longitude}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-blue-600 hover:underline",children:[a.jsx(Fe,{className:"w-3 h-3"})," Open in Google Maps "]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[a.jsx(oo,{className:"w-4 h-4"})," Description"]}),a.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:a.jsx("p",{className:"text-sm text-gray-700",children:n.description||"No description provided."})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Reported By"}),a.jsx("p",{className:"font-medium text-gray-900",children:n.reporterName})]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"Reported At"}),a.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-1",children:[a.jsx(ut,{className:"w-3 h-3"}),new Date(n.createdAt).toLocaleString()]})]})]}),o&&a.jsx("div",{className:"border-t border-gray-200 pt-4",children:u?a.jsxs("div",{className:"bg-emerald-50 rounded-xl p-4 space-y-3",children:[a.jsx("p",{className:"text-sm text-emerald-700 font-medium text-center",children:"Are you sure you want to accept this report? The reporter will be notified."}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ae,{variant:"success",className:"flex-1",onClick:i,children:" Yes, Accept"}),a.jsx(ae,{variant:"ghost",className:"flex-1",onClick:()=>d(!1),children:"Cancel"})]})]}):a.jsxs(ae,{variant:"success",className:"w-full",size:"lg",onClick:()=>d(!0),children:[a.jsx($e,{className:"w-5 h-5"})," Accept This Report"]})})]})}function zN(){const{user:n,isAuthenticated:s,loading:i,logout:o}=Ge(),[u,d]=k.useState(!1),[f,m]=k.useState(!1),[p,g]=k.useState(!0),[v,N]=k.useState("login"),[y,j]=k.useState([]);k.useEffect(()=>{!i&&s&&g(!1)},[i,s]),k.useEffect(()=>{n?wt.getByUserId(n.id).then(j):j([])},[n]);const w=()=>{g(!0),m(!1),d(!1)},_=async()=>{await o(),g(!0),m(!1)};if(i)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Qg,{className:"w-8 h-8 text-blue-600 animate-spin"}),a.jsx("p",{className:"text-gray-500 text-sm",children:"Loading CareConnect..."})]})});if(p)return a.jsx(_1,{onGetStarted:()=>{s||N("register"),g(!1)},onLogin:()=>{s||N("login"),g(!1)}});if(!s||!n)return a.jsx(j1,{initialMode:v,onBackToLanding:()=>g(!0)});const R=y.filter(M=>!M.read).length,S={user:{label:"Patient",color:"from-blue-500 to-blue-600",icon:a.jsx(wi,{className:"w-4 h-4"}),bgColor:"bg-blue-50 text-blue-700"},nurse:{label:"Nurse",color:"from-emerald-500 to-emerald-600",icon:a.jsx(or,{className:"w-4 h-4"}),bgColor:"bg-emerald-50 text-emerald-700"},admin:{label:"Admin",color:"from-indigo-500 to-indigo-600",icon:a.jsx(Nt,{className:"w-4 h-4"}),bgColor:"bg-indigo-50 text-indigo-700"},shelter:{label:"Shelter",color:"from-amber-500 to-amber-600",icon:a.jsx(Ps,{className:"w-4 h-4"}),bgColor:"bg-amber-50 text-amber-700"}}[n.role];return a.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 sticky top-0 z-40",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("button",{onClick:w,className:"flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity",children:[a.jsx("div",{className:"p-1 bg-white rounded-xl shadow-sm border border-gray-100 flex items-center justify-center",children:a.jsx("img",{src:yi,alt:"CareConnect",className:"w-9 h-9 object-contain"})}),a.jsxs("div",{className:"hidden sm:block text-left",children:[a.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"CareConnect"}),a.jsx("p",{className:"text-xs text-gray-500 -mt-0.5",children:"Care Assistant Finder"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:ce("hidden sm:flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium",S.bgColor),children:[S.icon,S.label]}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>d(!u),className:"p-2 rounded-xl hover:bg-gray-100 transition-colors relative cursor-pointer",children:[a.jsx(xs,{className:"w-5 h-5 text-gray-600"}),R>0&&a.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:R})]}),u&&a.jsx(ug,{notifications:y,onClose:()=>d(!1)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[n.profile_photo?a.jsx("img",{src:n.profile_photo,alt:n.name,className:"w-8 h-8 rounded-full object-cover border border-gray-200"}):a.jsx("div",{className:ce("w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold bg-gradient-to-br",S.color),children:n.name[0]?.toUpperCase()}),a.jsxs("div",{className:"text-right hidden sm:block",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.name}),a.jsx("p",{className:"text-xs text-gray-500",children:n.email})]}),a.jsx("button",{onClick:()=>_(),className:"p-2 rounded-xl hover:bg-red-50 text-gray-500 hover:text-red-600 transition-colors cursor-pointer",title:"Logout",children:a.jsx(nd,{className:"w-5 h-5"})})]}),a.jsx("button",{onClick:()=>m(!f),className:"p-2 rounded-xl hover:bg-gray-100 cursor-pointer sm:hidden",children:f?a.jsx(od,{className:"w-5 h-5"}):a.jsx(rd,{className:"w-5 h-5"})})]})]}),f&&a.jsxs("div",{className:"sm:hidden py-3 border-t border-gray-100 space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-3 px-2",children:[a.jsxs("div",{className:ce("flex items-center gap-1.5 px-3 py-1.5 rounded-full text-sm font-medium",S.bgColor),children:[S.icon," ",S.label]}),a.jsx("span",{className:"text-sm text-gray-700",children:n.name})]}),a.jsxs("div",{className:"flex gap-2 px-2",children:[a.jsxs("button",{onClick:()=>{d(!u),m(!1)},className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-gray-100 text-sm text-gray-700 cursor-pointer",children:[a.jsx(xs,{className:"w-4 h-4"})," Notifications",R>0&&a.jsx(ge,{variant:"danger",children:R})]}),a.jsxs("button",{onClick:()=>o(),className:"flex items-center gap-2 px-3 py-2 rounded-lg hover:bg-red-50 text-sm text-red-600 cursor-pointer",children:[a.jsx(nd,{className:"w-4 h-4"})," Logout"]})]})]})]})}),u&&a.jsx("div",{className:"sm:hidden fixed inset-x-0 top-16 z-30 p-4",children:a.jsx(ug,{notifications:y,onClose:()=>d(!1),mobile:!0})}),a.jsxs("main",{className:"flex-1 w-full max-w-7xl mx-auto px-4 sm:px-6 py-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[MN(),", ",n.name.split(" ")[0],"! "]}),a.jsxs("p",{className:"text-gray-500 mt-1",children:[n.role==="user"&&"Find trusted, verified home nurses near you.",n.role==="nurse"&&"Manage your profile, documents, and bookings.",n.role==="admin"&&"Oversee the platform, verify nurses, and manage reports.",n.role==="shelter"&&"View assigned reports and help those in need."]})]}),n.role==="user"&&a.jsx(z1,{}),n.role==="nurse"&&a.jsx(hN,{}),n.role==="admin"&&a.jsx(wN,{}),n.role==="shelter"&&a.jsx(RN,{})]}),a.jsx("footer",{className:"bg-white border-t border-gray-100 mt-12",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[a.jsxs("button",{onClick:w,className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",children:[a.jsx("img",{src:yi,alt:"CareConnect",className:"w-4 h-4 object-contain"}),a.jsx("span",{className:"text-sm text-gray-600",children:"CareConnect  Care Assistant Finder"})]}),a.jsx("p",{className:"text-xs text-gray-400",children:"Home Care Assistant"})]})})})]})}function ug({notifications:n,onClose:s,mobile:i}){const o=u=>{wt.markAsRead(u)};return a.jsxs(a.Fragment,{children:[!i&&a.jsx("div",{className:"fixed inset-0",onClick:s}),a.jsxs(X,{className:ce("shadow-lg border border-gray-200 z-50",i?"w-full":"absolute right-0 top-12 w-80"),children:[a.jsx("div",{className:"p-3 border-b border-gray-100",children:a.jsx("h3",{className:"font-semibold text-gray-900",children:"Notifications"})}),a.jsx("div",{className:"max-h-64 overflow-y-auto",children:n.length===0?a.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No notifications"}):n.sort((u,d)=>new Date(d.createdAt).getTime()-new Date(u.createdAt).getTime()).slice(0,10).map(u=>a.jsxs("div",{className:ce("p-3 border-b border-gray-50 text-sm cursor-pointer hover:bg-gray-50",!u.read&&"bg-blue-50/50"),onClick:()=>o(u.id),children:[a.jsx("p",{className:ce("text-gray-700",!u.read&&"font-medium"),children:u.message}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(u.createdAt).toLocaleString()})]},u.id))})]})]})}function MN(){const n=new Date().getHours();return n<12?"Good Morning":n<17?"Good Afternoon":"Good Evening"}function UN(){return a.jsx(uj,{children:a.jsx(zN,{})})}Cy.createRoot(document.getElementById("root")).render(a.jsx(k.StrictMode,{children:a.jsx(UN,{})}));
